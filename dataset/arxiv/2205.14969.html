<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>[2205.14969] Guided Diffusion Model for Adversarial Purification</title><meta property="og:description" content="With wider application of deep neural networks (DNNs) in various algorithms and frameworks, security threats have become one of the concerns. Adversarial attacks disturb DNN-based image classifiers, in which attackers …">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Guided Diffusion Model for Adversarial Purification">
<meta name="twitter:image:src" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta name="twitter:image:alt" content="ar5iv logo">
<meta property="og:title" content="Guided Diffusion Model for Adversarial Purification">
<meta property="og:site_name" content="ar5iv">
<meta property="og:image" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta property="og:type" content="article">
<meta property="og:url" content="https://ar5iv.labs.arxiv.org/html/2205.14969">

<!--Generated on Sun Dec 25 00:42:26 2022 by LaTeXML (version 0.8.6) http://dlmf.nist.gov/LaTeXML/.-->
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<script>
  function detectColorScheme(){
    var theme="light";
    var current_theme = localStorage.getItem("ar5iv_theme");
    if(current_theme){
      if(current_theme == "dark"){
        theme = "dark";
      } }
    else if(!window.matchMedia) { return false; }
    else if(window.matchMedia("(prefers-color-scheme: dark)").matches) {
      theme = "dark"; }
    if (theme=="dark") {
      document.documentElement.setAttribute("data-theme", "dark");
    } else {
      document.documentElement.setAttribute("data-theme", "light"); } }

  detectColorScheme();

  function toggleColorScheme(){
    var current_theme = localStorage.getItem("ar5iv_theme");
    if (current_theme) {
      if (current_theme == "light") {
        localStorage.setItem("ar5iv_theme", "dark"); }
      else {
        localStorage.setItem("ar5iv_theme", "light"); } }
    else {
        localStorage.setItem("ar5iv_theme", "dark"); }
    detectColorScheme(); }
</script>
<link media="all" rel="stylesheet" href="/assets/ar5iv.0.7.5.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv-site.0.2.0.css">
</head>
<body>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line">
<h1 class="ltx_title ltx_title_document">Guided Diffusion Model for Adversarial Purification</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname"><span id="id7.7.7" class="ltx_text ltx_font_bold">   Jinyi Wang<math id="id1.1.1.m1.2" class="ltx_Math" alttext="{}^{1,3}" display="inline"><semantics id="id1.1.1.m1.2a"><msup id="id1.1.1.m1.2.2" xref="id1.1.1.m1.2.2.cmml"><mi id="id1.1.1.m1.2.2a" xref="id1.1.1.m1.2.2.cmml"></mi><mrow id="id1.1.1.m1.2.2.2.4" xref="id1.1.1.m1.2.2.2.3.cmml"><mn mathvariant="normal" id="id1.1.1.m1.1.1.1.1" xref="id1.1.1.m1.1.1.1.1.cmml">1</mn><mo mathvariant="normal" id="id1.1.1.m1.2.2.2.4.1" xref="id1.1.1.m1.2.2.2.3.cmml">,</mo><mn mathvariant="normal" id="id1.1.1.m1.2.2.2.2" xref="id1.1.1.m1.2.2.2.2.cmml">3</mn></mrow></msup><annotation-xml encoding="MathML-Content" id="id1.1.1.m1.2b"><apply id="id1.1.1.m1.2.2.cmml" xref="id1.1.1.m1.2.2"><list id="id1.1.1.m1.2.2.2.3.cmml" xref="id1.1.1.m1.2.2.2.4"><cn type="integer" id="id1.1.1.m1.1.1.1.1.cmml" xref="id1.1.1.m1.1.1.1.1">1</cn><cn type="integer" id="id1.1.1.m1.2.2.2.2.cmml" xref="id1.1.1.m1.2.2.2.2">3</cn></list></apply></annotation-xml><annotation encoding="application/x-tex" id="id1.1.1.m1.2c">{}^{1,3}</annotation><annotation encoding="application/x-llamapun" id="id1.1.1.m1.2d">start_FLOATSUPERSCRIPT 1 , 3 end_FLOATSUPERSCRIPT</annotation></semantics></math>     <math id="id2.2.2.m2.1" class="ltx_Math" alttext="{}^{*}" display="inline"><semantics id="id2.2.2.m2.1a"><msup id="id2.2.2.m2.1.1" xref="id2.2.2.m2.1.1.cmml"><mi id="id2.2.2.m2.1.1a" xref="id2.2.2.m2.1.1.cmml"></mi><mo mathvariant="normal" id="id2.2.2.m2.1.1.1" xref="id2.2.2.m2.1.1.1.cmml">*</mo></msup><annotation-xml encoding="MathML-Content" id="id2.2.2.m2.1b"><apply id="id2.2.2.m2.1.1.cmml" xref="id2.2.2.m2.1.1"><times id="id2.2.2.m2.1.1.1.cmml" xref="id2.2.2.m2.1.1.1"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="id2.2.2.m2.1c">{}^{*}</annotation><annotation encoding="application/x-llamapun" id="id2.2.2.m2.1d">start_FLOATSUPERSCRIPT * end_FLOATSUPERSCRIPT</annotation></semantics></math> Zhaoyang Lyu<math id="id3.3.3.m3.2" class="ltx_Math" alttext="{}^{2,3}" display="inline"><semantics id="id3.3.3.m3.2a"><msup id="id3.3.3.m3.2.2" xref="id3.3.3.m3.2.2.cmml"><mi id="id3.3.3.m3.2.2a" xref="id3.3.3.m3.2.2.cmml"></mi><mrow id="id3.3.3.m3.2.2.2.4" xref="id3.3.3.m3.2.2.2.3.cmml"><mn mathvariant="normal" id="id3.3.3.m3.1.1.1.1" xref="id3.3.3.m3.1.1.1.1.cmml">2</mn><mo mathvariant="normal" id="id3.3.3.m3.2.2.2.4.1" xref="id3.3.3.m3.2.2.2.3.cmml">,</mo><mn mathvariant="normal" id="id3.3.3.m3.2.2.2.2" xref="id3.3.3.m3.2.2.2.2.cmml">3</mn></mrow></msup><annotation-xml encoding="MathML-Content" id="id3.3.3.m3.2b"><apply id="id3.3.3.m3.2.2.cmml" xref="id3.3.3.m3.2.2"><list id="id3.3.3.m3.2.2.2.3.cmml" xref="id3.3.3.m3.2.2.2.4"><cn type="integer" id="id3.3.3.m3.1.1.1.1.cmml" xref="id3.3.3.m3.1.1.1.1">2</cn><cn type="integer" id="id3.3.3.m3.2.2.2.2.cmml" xref="id3.3.3.m3.2.2.2.2">3</cn></list></apply></annotation-xml><annotation encoding="application/x-tex" id="id3.3.3.m3.2c">{}^{2,3}</annotation><annotation encoding="application/x-llamapun" id="id3.3.3.m3.2d">start_FLOATSUPERSCRIPT 2 , 3 end_FLOATSUPERSCRIPT</annotation></semantics></math>     Dahua Lin<math id="id4.4.4.m4.2" class="ltx_Math" alttext="{}^{2,3}" display="inline"><semantics id="id4.4.4.m4.2a"><msup id="id4.4.4.m4.2.2" xref="id4.4.4.m4.2.2.cmml"><mi id="id4.4.4.m4.2.2a" xref="id4.4.4.m4.2.2.cmml"></mi><mrow id="id4.4.4.m4.2.2.2.4" xref="id4.4.4.m4.2.2.2.3.cmml"><mn mathvariant="normal" id="id4.4.4.m4.1.1.1.1" xref="id4.4.4.m4.1.1.1.1.cmml">2</mn><mo mathvariant="normal" id="id4.4.4.m4.2.2.2.4.1" xref="id4.4.4.m4.2.2.2.3.cmml">,</mo><mn mathvariant="normal" id="id4.4.4.m4.2.2.2.2" xref="id4.4.4.m4.2.2.2.2.cmml">3</mn></mrow></msup><annotation-xml encoding="MathML-Content" id="id4.4.4.m4.2b"><apply id="id4.4.4.m4.2.2.cmml" xref="id4.4.4.m4.2.2"><list id="id4.4.4.m4.2.2.2.3.cmml" xref="id4.4.4.m4.2.2.2.4"><cn type="integer" id="id4.4.4.m4.1.1.1.1.cmml" xref="id4.4.4.m4.1.1.1.1">2</cn><cn type="integer" id="id4.4.4.m4.2.2.2.2.cmml" xref="id4.4.4.m4.2.2.2.2">3</cn></list></apply></annotation-xml><annotation encoding="application/x-tex" id="id4.4.4.m4.2c">{}^{2,3}</annotation><annotation encoding="application/x-llamapun" id="id4.4.4.m4.2d">start_FLOATSUPERSCRIPT 2 , 3 end_FLOATSUPERSCRIPT</annotation></semantics></math>     Bo Dai<math id="id5.5.5.m5.1" class="ltx_Math" alttext="{}^{3}" display="inline"><semantics id="id5.5.5.m5.1a"><msup id="id5.5.5.m5.1.1" xref="id5.5.5.m5.1.1.cmml"><mi id="id5.5.5.m5.1.1a" xref="id5.5.5.m5.1.1.cmml"></mi><mn mathvariant="normal" id="id5.5.5.m5.1.1.1" xref="id5.5.5.m5.1.1.1.cmml">3</mn></msup><annotation-xml encoding="MathML-Content" id="id5.5.5.m5.1b"><apply id="id5.5.5.m5.1.1.cmml" xref="id5.5.5.m5.1.1"><cn type="integer" id="id5.5.5.m5.1.1.1.cmml" xref="id5.5.5.m5.1.1.1">3</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="id5.5.5.m5.1c">{}^{3}</annotation><annotation encoding="application/x-llamapun" id="id5.5.5.m5.1d">start_FLOATSUPERSCRIPT 3 end_FLOATSUPERSCRIPT</annotation></semantics></math>     Hongfei Fu<math id="id6.6.6.m6.1" class="ltx_Math" alttext="{}^{1}" display="inline"><semantics id="id6.6.6.m6.1a"><msup id="id6.6.6.m6.1.1" xref="id6.6.6.m6.1.1.cmml"><mi id="id6.6.6.m6.1.1a" xref="id6.6.6.m6.1.1.cmml"></mi><mn mathvariant="normal" id="id6.6.6.m6.1.1.1" xref="id6.6.6.m6.1.1.1.cmml">1</mn></msup><annotation-xml encoding="MathML-Content" id="id6.6.6.m6.1b"><apply id="id6.6.6.m6.1.1.cmml" xref="id6.6.6.m6.1.1"><cn type="integer" id="id6.6.6.m6.1.1.1.cmml" xref="id6.6.6.m6.1.1.1">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="id6.6.6.m6.1c">{}^{1}</annotation><annotation encoding="application/x-llamapun" id="id6.6.6.m6.1d">start_FLOATSUPERSCRIPT 1 end_FLOATSUPERSCRIPT</annotation></semantics></math>
<br class="ltx_break"><math id="id7.7.7.m7.1" class="ltx_Math" alttext="{}^{1}" display="inline"><semantics id="id7.7.7.m7.1a"><msup id="id7.7.7.m7.1.1" xref="id7.7.7.m7.1.1.cmml"><mi id="id7.7.7.m7.1.1a" xref="id7.7.7.m7.1.1.cmml"></mi><mn mathvariant="normal" id="id7.7.7.m7.1.1.1" xref="id7.7.7.m7.1.1.1.cmml">1</mn></msup><annotation-xml encoding="MathML-Content" id="id7.7.7.m7.1b"><apply id="id7.7.7.m7.1.1.cmml" xref="id7.7.7.m7.1.1"><cn type="integer" id="id7.7.7.m7.1.1.1.cmml" xref="id7.7.7.m7.1.1.1">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="id7.7.7.m7.1c">{}^{1}</annotation><annotation encoding="application/x-llamapun" id="id7.7.7.m7.1d">start_FLOATSUPERSCRIPT 1 end_FLOATSUPERSCRIPT</annotation></semantics></math></span>Shanghai JiaoTong University 
<br class="ltx_break"><math id="id8.8.m1.1" class="ltx_Math" alttext="{}^{2}" display="inline"><semantics id="id8.8.m1.1a"><msup id="id8.8.m1.1.1" xref="id8.8.m1.1.1.cmml"><mi id="id8.8.m1.1.1a" xref="id8.8.m1.1.1.cmml"></mi><mn id="id8.8.m1.1.1.1" xref="id8.8.m1.1.1.1.cmml">2</mn></msup><annotation-xml encoding="MathML-Content" id="id8.8.m1.1b"><apply id="id8.8.m1.1.1.cmml" xref="id8.8.m1.1.1"><cn type="integer" id="id8.8.m1.1.1.1.cmml" xref="id8.8.m1.1.1.1">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="id8.8.m1.1c">{}^{2}</annotation><annotation encoding="application/x-llamapun" id="id8.8.m1.1d">start_FLOATSUPERSCRIPT 2 end_FLOATSUPERSCRIPT</annotation></semantics></math>The Chinese University of Hong Kong 
<br class="ltx_break"><math id="id9.9.m2.1" class="ltx_Math" alttext="{}^{3}" display="inline"><semantics id="id9.9.m2.1a"><msup id="id9.9.m2.1.1" xref="id9.9.m2.1.1.cmml"><mi id="id9.9.m2.1.1a" xref="id9.9.m2.1.1.cmml"></mi><mn id="id9.9.m2.1.1.1" xref="id9.9.m2.1.1.1.cmml">3</mn></msup><annotation-xml encoding="MathML-Content" id="id9.9.m2.1b"><apply id="id9.9.m2.1.1.cmml" xref="id9.9.m2.1.1"><cn type="integer" id="id9.9.m2.1.1.1.cmml" xref="id9.9.m2.1.1.1">3</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="id9.9.m2.1c">{}^{3}</annotation><annotation encoding="application/x-llamapun" id="id9.9.m2.1d">start_FLOATSUPERSCRIPT 3 end_FLOATSUPERSCRIPT</annotation></semantics></math>Shanghai AI Laboratory 
<br class="ltx_break"><span id="id10.10.id1" class="ltx_text ltx_font_typewriter">jinyi.wang@sjtu.edu.cn, lyuzhaoyang@link.cuhk.edu.hk</span>
</span><span class="ltx_author_notes"><span id="id11.11.id1" class="ltx_text ltx_font_bold">Equal Contribution</span>
<span class="ltx_contact ltx_role_affiliation">
</span></span></span>
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname"> 
<br class="ltx_break"><span id="id12.1.id1" class="ltx_text ltx_font_typewriter">dhlin@ie.cuhk.edu.hk, daibo@pjlab.org.cn, fuhf@cs.sjtu.edu.cn</span>
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation">
</span></span></span>
</div>

<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p id="id13.id1" class="ltx_p">With wider application of deep neural networks (DNNs) in various algorithms and frameworks, security threats have become one of the concerns. Adversarial attacks disturb DNN-based image classifiers, in which attackers can intentionally add imperceptible adversarial perturbations on input images to fool the classifiers.
In this paper,
we propose a novel purification approach,
referred to as <span id="id13.id1.1" class="ltx_text ltx_font_bold">guided diffusion model for purification (GDMP)</span>, to help protect classifiers from adversarial attacks.
The core of our approach is to embed purification into the diffusion-denoising process of a Denoised Diffusion Probabilistic Model (DDPM), so that its diffusion process could submerge the adversarial perturbations with gradually added Gaussian noises,
and both of these noises can be simultaneously removed following a guided denoising process.
On our comprehensive experiments across various datasets, the proposed GDMP is shown to reduce the perturbations raised by adversarial attacks to a shallow range,
thereby significantly improving the correctness of classification.
GDMP improves the robust accuracy by 5%, obtaining 90.1% under PGD attack on the CIFAR10 dataset.
Moreover,
GDMP achieves 70.94% robustness on the challenging ImageNet dataset.</p>
</div>
<section id="S1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1 </span>Introduction</h2>

<div id="S1.p1" class="ltx_para">
<p id="S1.p1.1" class="ltx_p">Thanks to the advance of deep neural networks (DNNs),
the performance of DNN-based image classifiers keep improving in recent years (<cite class="ltx_cite ltx_citemacro_citet">Krizhevsky et al. (<a href="#bib.bib20" title="" class="ltx_ref">2012</a>)</cite>;<cite class="ltx_cite ltx_citemacro_citet">Szegedy et al. (<a href="#bib.bib32" title="" class="ltx_ref">2015</a>)</cite>;<cite class="ltx_cite ltx_citemacro_citet">Simonyan &amp; Zisserman (<a href="#bib.bib27" title="" class="ltx_ref">2015</a>)</cite>;<cite class="ltx_cite ltx_citemacro_citet">He et al. (<a href="#bib.bib14" title="" class="ltx_ref">2016</a>)</cite>).
Despite their promising results,
DNN-based image classifiers are known to be sensitive to adversarial attacks.
Specifically, by altering images with slight perturbations that are undetectable to humans,
one can mislead DNN-based image classifiers to give unexpected predictions,
causing safety issues.
Therefore,
finding a robust strategy to lower the disturbance from adversarial attacks is of great necessity to DNN-based image classifiers, especially when they are applied to real-world applications.
</p>
</div>
<div id="S1.p2" class="ltx_para">
<p id="S1.p2.1" class="ltx_p">A variety of strategies have been proposed to make DNN-based image classifiers resistant to adversarial attacks.
<span id="S1.p2.1.1" class="ltx_text ltx_font_italic">Adversarial training</span>(<cite class="ltx_cite ltx_citemacro_citet">Madry et al. (<a href="#bib.bib21" title="" class="ltx_ref">2018</a>)</cite>;<cite class="ltx_cite ltx_citemacro_citet">Zhang et al. (<a href="#bib.bib40" title="" class="ltx_ref">2019</a>)</cite>) and <span id="S1.p2.1.2" class="ltx_text ltx_font_italic">adversarial purification</span>(<cite class="ltx_cite ltx_citemacro_citet">Srinivasan et al. (<a href="#bib.bib31" title="" class="ltx_ref">2021</a>)</cite>;<cite class="ltx_cite ltx_citemacro_citet">Yang et al. (<a href="#bib.bib37" title="" class="ltx_ref">2019</a>)</cite>;<cite class="ltx_cite ltx_citemacro_citet">Yoon et al. (<a href="#bib.bib38" title="" class="ltx_ref">2021</a>)</cite>;<cite class="ltx_cite ltx_citemacro_citet">Shi et al. (<a href="#bib.bib26" title="" class="ltx_ref">2021</a>)</cite>) are two common approaches.
Adversarial training aims at involving adversarial instances or optimizing at worst-case examples in the training process of neural networks.
Although it improves the robustness of target classifiers over seen types of adversarial attacks,
it often falls short of handling unseen types of adversarial attacks or image corruptions.
Adversarial purification, on the other hand, tries to purify attacked images before sending them to target classifiers,
which is often achieved by learning generative models (<cite class="ltx_cite ltx_citemacro_citet">Samangouei et al. (<a href="#bib.bib24" title="" class="ltx_ref">2018</a>)</cite>;<cite class="ltx_cite ltx_citemacro_citet">Song et al. (<a href="#bib.bib30" title="" class="ltx_ref">2018</a>)</cite>;<cite class="ltx_cite ltx_citemacro_citet">Ghosh et al. (<a href="#bib.bib9" title="" class="ltx_ref">2019</a>)</cite>;<cite class="ltx_cite ltx_citemacro_citet">Schott et al. (<a href="#bib.bib25" title="" class="ltx_ref">2019</a>)</cite>) as a purification models to convert attacked images into clean ones.
The purification model is usually trained independently of target classifiers, and is not restricted to specific types of adversarial attacks.
In this way, adversarial purification leaves target classifiers unaffected,
while demonstrating strong generalization ability to purify not only various types of adversarial attacks,
but also image corruptions such as image blurs.
However,
it remains a challenging task to obtain a good purification model,
especially on large-scale datasets such as ImageNet (<cite class="ltx_cite ltx_citemacro_citet">Deng et al. (<a href="#bib.bib5" title="" class="ltx_ref">2009</a>)</cite>),
since there often exists a trade-off between faithfully retaining the semantic content of clean images and completely removing the perturbation from attacked images.
</p>
</div>
<figure id="S1.F1" class="ltx_figure"><img src="/html/2205.14969/assets/figures/Effect.png" id="S1.F1.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="598" height="128" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 1: </span>Adversarial samples with PGD attack <math id="S1.F1.3.m1.1" class="ltx_Math" alttext="\ell_{\infty}\varepsilon" display="inline"><semantics id="S1.F1.3.m1.1b"><mrow id="S1.F1.3.m1.1.1" xref="S1.F1.3.m1.1.1.cmml"><msub id="S1.F1.3.m1.1.1.2" xref="S1.F1.3.m1.1.1.2.cmml"><mi mathvariant="normal" id="S1.F1.3.m1.1.1.2.2" xref="S1.F1.3.m1.1.1.2.2.cmml">ℓ</mi><mi mathvariant="normal" id="S1.F1.3.m1.1.1.2.3" xref="S1.F1.3.m1.1.1.2.3.cmml">∞</mi></msub><mo id="S1.F1.3.m1.1.1.1" xref="S1.F1.3.m1.1.1.1.cmml">⁢</mo><mi id="S1.F1.3.m1.1.1.3" xref="S1.F1.3.m1.1.1.3.cmml">ε</mi></mrow><annotation-xml encoding="MathML-Content" id="S1.F1.3.m1.1c"><apply id="S1.F1.3.m1.1.1.cmml" xref="S1.F1.3.m1.1.1"><times id="S1.F1.3.m1.1.1.1.cmml" xref="S1.F1.3.m1.1.1.1"></times><apply id="S1.F1.3.m1.1.1.2.cmml" xref="S1.F1.3.m1.1.1.2"><csymbol cd="ambiguous" id="S1.F1.3.m1.1.1.2.1.cmml" xref="S1.F1.3.m1.1.1.2">subscript</csymbol><ci id="S1.F1.3.m1.1.1.2.2.cmml" xref="S1.F1.3.m1.1.1.2.2">ℓ</ci><infinity id="S1.F1.3.m1.1.1.2.3.cmml" xref="S1.F1.3.m1.1.1.2.3"></infinity></apply><ci id="S1.F1.3.m1.1.1.3.cmml" xref="S1.F1.3.m1.1.1.3">𝜀</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S1.F1.3.m1.1d">\ell_{\infty}\varepsilon</annotation><annotation encoding="application/x-llamapun" id="S1.F1.3.m1.1e">roman_ℓ start_POSTSUBSCRIPT ∞ end_POSTSUBSCRIPT italic_ε</annotation></semantics></math>-ball with <math id="S1.F1.4.m2.1" class="ltx_Math" alttext="\varepsilon" display="inline"><semantics id="S1.F1.4.m2.1b"><mi id="S1.F1.4.m2.1.1" xref="S1.F1.4.m2.1.1.cmml">ε</mi><annotation-xml encoding="MathML-Content" id="S1.F1.4.m2.1c"><ci id="S1.F1.4.m2.1.1.cmml" xref="S1.F1.4.m2.1.1">𝜀</ci></annotation-xml><annotation encoding="application/x-tex" id="S1.F1.4.m2.1d">\varepsilon</annotation><annotation encoding="application/x-llamapun" id="S1.F1.4.m2.1e">italic_ε</annotation></semantics></math>= 16/255 and the images after our purification method.</figcaption>
</figure>
<div id="S1.p3" class="ltx_para">
<p id="S1.p3.1" class="ltx_p">Inspired by the success of Denoising Diffusion Probabilistic Model (DDPM) in image generation <cite class="ltx_cite ltx_citemacro_citep">(Sohl-Dickstein et al., <a href="#bib.bib28" title="" class="ltx_ref">2015a</a>; Ho et al., <a href="#bib.bib17" title="" class="ltx_ref">2020b</a>)</cite>,
in this work we propose a novel adversarial purification model based on DDPM.
Different from commonly used generative models such as GANs <cite class="ltx_cite ltx_citemacro_citet">Goodfellow et al. (<a href="#bib.bib10" title="" class="ltx_ref">2014</a>)</cite> and VAEs <cite class="ltx_cite ltx_citemacro_citet">Kingma &amp; Welling (<a href="#bib.bib18" title="" class="ltx_ref">2013</a>)</cite>,
DDPMs define a diffusion process that gradually adds noise to a clean image until it turns into a Gaussian noise.
To sample images, DDPMs use a neural network to simulate the reverse process of the diffusion process.
The network iteratively denoises a Gaussian noise to a clean image.
We therefore can naturally embed adversarial purification into the diffusion-denoising process of DDPM.
Specifically,
we can use few diffusion steps to inject the attacked image with Gaussian noises to submerge its adversarial perturbations,
followed by applying the denoising process to eliminate both Gaussian noises and adversarial perturbations simultaneously.
To tackle the trade-off of adversarial purification
and retaining image semantics,
we propose to further equip the proposed approach with additional guidance during the denoising process to retain the consistency between the purified image and the original one.
The guidance is implemented by minimizing the distance (mean squared error) or maximizing the similarity (SSIM)(<cite class="ltx_cite ltx_citemacro_citet">Wang et al. (<a href="#bib.bib34" title="" class="ltx_ref">2004</a>)</cite> between the adversarial image and the denoised image.
This is because the adversarial image is close to the original clean image in terms of pixel values, and thus the denoised image will be close to the original clean image by encouraging it to be close to the adversarial image.
We need to choose an appropriate guidance scale to enure that the denoised image is close to the adversarial image but with adversarial perturbations removed at the same time.
</p>
</div>
<div id="S1.p4" class="ltx_para">
<p id="S1.p4.1" class="ltx_p">Compared to purification methods based on other generative models, our DDPM-based purification approach enjoys several important advantages.
First, we can only partially diffuse the adversarial image, and thus preserve most local details in the image.
This is because the latent space of a DDPM has the same dimension of the original input image, and we can choose an appropriate diffusion time step to let the Gaussian noise submerge the adversarial perturbation, but at the same time preserve major contents in the input image.
Moreover,
as shown in our experiments,
the novel guidance introduced to our approach can boost the purification performance when using a large number of diffusion steps,
leading to stronger purification effect.
Specifically,
we are the first to apply adversarial purification to a large-scale dataset such as ImageNet,
where we achieve state-of-the-art robustness accuracy (70.94%) with the PGD attack ,
outperforming previous methods with a large margin.</p>
</div>
</section>
<section id="S2" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2 </span>Related Work</h2>

<section id="S2.SS0.SSS0.Px1" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Adversarial Training.</h4>

<div id="S2.SS0.SSS0.Px1.p1" class="ltx_para">
<p id="S2.SS0.SSS0.Px1.p1.3" class="ltx_p">Consider a classifier neural network <math id="S2.SS0.SSS0.Px1.p1.1.m1.1" class="ltx_Math" alttext="g_{\phi}:\mathbb{R}^{D}\rightarrow\mathbb{R}^{K}" display="inline"><semantics id="S2.SS0.SSS0.Px1.p1.1.m1.1a"><mrow id="S2.SS0.SSS0.Px1.p1.1.m1.1.1" xref="S2.SS0.SSS0.Px1.p1.1.m1.1.1.cmml"><msub id="S2.SS0.SSS0.Px1.p1.1.m1.1.1.2" xref="S2.SS0.SSS0.Px1.p1.1.m1.1.1.2.cmml"><mi id="S2.SS0.SSS0.Px1.p1.1.m1.1.1.2.2" xref="S2.SS0.SSS0.Px1.p1.1.m1.1.1.2.2.cmml">g</mi><mi id="S2.SS0.SSS0.Px1.p1.1.m1.1.1.2.3" xref="S2.SS0.SSS0.Px1.p1.1.m1.1.1.2.3.cmml">ϕ</mi></msub><mo lspace="0.278em" rspace="0.278em" id="S2.SS0.SSS0.Px1.p1.1.m1.1.1.1" xref="S2.SS0.SSS0.Px1.p1.1.m1.1.1.1.cmml">:</mo><mrow id="S2.SS0.SSS0.Px1.p1.1.m1.1.1.3" xref="S2.SS0.SSS0.Px1.p1.1.m1.1.1.3.cmml"><msup id="S2.SS0.SSS0.Px1.p1.1.m1.1.1.3.2" xref="S2.SS0.SSS0.Px1.p1.1.m1.1.1.3.2.cmml"><mi id="S2.SS0.SSS0.Px1.p1.1.m1.1.1.3.2.2" xref="S2.SS0.SSS0.Px1.p1.1.m1.1.1.3.2.2.cmml">ℝ</mi><mi id="S2.SS0.SSS0.Px1.p1.1.m1.1.1.3.2.3" xref="S2.SS0.SSS0.Px1.p1.1.m1.1.1.3.2.3.cmml">D</mi></msup><mo stretchy="false" id="S2.SS0.SSS0.Px1.p1.1.m1.1.1.3.1" xref="S2.SS0.SSS0.Px1.p1.1.m1.1.1.3.1.cmml">→</mo><msup id="S2.SS0.SSS0.Px1.p1.1.m1.1.1.3.3" xref="S2.SS0.SSS0.Px1.p1.1.m1.1.1.3.3.cmml"><mi id="S2.SS0.SSS0.Px1.p1.1.m1.1.1.3.3.2" xref="S2.SS0.SSS0.Px1.p1.1.m1.1.1.3.3.2.cmml">ℝ</mi><mi id="S2.SS0.SSS0.Px1.p1.1.m1.1.1.3.3.3" xref="S2.SS0.SSS0.Px1.p1.1.m1.1.1.3.3.3.cmml">K</mi></msup></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px1.p1.1.m1.1b"><apply id="S2.SS0.SSS0.Px1.p1.1.m1.1.1.cmml" xref="S2.SS0.SSS0.Px1.p1.1.m1.1.1"><ci id="S2.SS0.SSS0.Px1.p1.1.m1.1.1.1.cmml" xref="S2.SS0.SSS0.Px1.p1.1.m1.1.1.1">:</ci><apply id="S2.SS0.SSS0.Px1.p1.1.m1.1.1.2.cmml" xref="S2.SS0.SSS0.Px1.p1.1.m1.1.1.2"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px1.p1.1.m1.1.1.2.1.cmml" xref="S2.SS0.SSS0.Px1.p1.1.m1.1.1.2">subscript</csymbol><ci id="S2.SS0.SSS0.Px1.p1.1.m1.1.1.2.2.cmml" xref="S2.SS0.SSS0.Px1.p1.1.m1.1.1.2.2">𝑔</ci><ci id="S2.SS0.SSS0.Px1.p1.1.m1.1.1.2.3.cmml" xref="S2.SS0.SSS0.Px1.p1.1.m1.1.1.2.3">italic-ϕ</ci></apply><apply id="S2.SS0.SSS0.Px1.p1.1.m1.1.1.3.cmml" xref="S2.SS0.SSS0.Px1.p1.1.m1.1.1.3"><ci id="S2.SS0.SSS0.Px1.p1.1.m1.1.1.3.1.cmml" xref="S2.SS0.SSS0.Px1.p1.1.m1.1.1.3.1">→</ci><apply id="S2.SS0.SSS0.Px1.p1.1.m1.1.1.3.2.cmml" xref="S2.SS0.SSS0.Px1.p1.1.m1.1.1.3.2"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px1.p1.1.m1.1.1.3.2.1.cmml" xref="S2.SS0.SSS0.Px1.p1.1.m1.1.1.3.2">superscript</csymbol><ci id="S2.SS0.SSS0.Px1.p1.1.m1.1.1.3.2.2.cmml" xref="S2.SS0.SSS0.Px1.p1.1.m1.1.1.3.2.2">ℝ</ci><ci id="S2.SS0.SSS0.Px1.p1.1.m1.1.1.3.2.3.cmml" xref="S2.SS0.SSS0.Px1.p1.1.m1.1.1.3.2.3">𝐷</ci></apply><apply id="S2.SS0.SSS0.Px1.p1.1.m1.1.1.3.3.cmml" xref="S2.SS0.SSS0.Px1.p1.1.m1.1.1.3.3"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px1.p1.1.m1.1.1.3.3.1.cmml" xref="S2.SS0.SSS0.Px1.p1.1.m1.1.1.3.3">superscript</csymbol><ci id="S2.SS0.SSS0.Px1.p1.1.m1.1.1.3.3.2.cmml" xref="S2.SS0.SSS0.Px1.p1.1.m1.1.1.3.3.2">ℝ</ci><ci id="S2.SS0.SSS0.Px1.p1.1.m1.1.1.3.3.3.cmml" xref="S2.SS0.SSS0.Px1.p1.1.m1.1.1.3.3.3">𝐾</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px1.p1.1.m1.1c">g_{\phi}:\mathbb{R}^{D}\rightarrow\mathbb{R}^{K}</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px1.p1.1.m1.1d">italic_g start_POSTSUBSCRIPT italic_ϕ end_POSTSUBSCRIPT : blackboard_R start_POSTSUPERSCRIPT italic_D end_POSTSUPERSCRIPT → blackboard_R start_POSTSUPERSCRIPT italic_K end_POSTSUPERSCRIPT</annotation></semantics></math>, where <math id="S2.SS0.SSS0.Px1.p1.2.m2.1" class="ltx_Math" alttext="D" display="inline"><semantics id="S2.SS0.SSS0.Px1.p1.2.m2.1a"><mi id="S2.SS0.SSS0.Px1.p1.2.m2.1.1" xref="S2.SS0.SSS0.Px1.p1.2.m2.1.1.cmml">D</mi><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px1.p1.2.m2.1b"><ci id="S2.SS0.SSS0.Px1.p1.2.m2.1.1.cmml" xref="S2.SS0.SSS0.Px1.p1.2.m2.1.1">𝐷</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px1.p1.2.m2.1c">D</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px1.p1.2.m2.1d">italic_D</annotation></semantics></math> represents the dimension of input data and <math id="S2.SS0.SSS0.Px1.p1.3.m3.1" class="ltx_Math" alttext="K" display="inline"><semantics id="S2.SS0.SSS0.Px1.p1.3.m3.1a"><mi id="S2.SS0.SSS0.Px1.p1.3.m3.1.1" xref="S2.SS0.SSS0.Px1.p1.3.m3.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px1.p1.3.m3.1b"><ci id="S2.SS0.SSS0.Px1.p1.3.m3.1.1.cmml" xref="S2.SS0.SSS0.Px1.p1.3.m3.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px1.p1.3.m3.1c">K</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px1.p1.3.m3.1d">italic_K</annotation></semantics></math> represents the number of class labels.
Worst-case risk minimization can be used to train a neural network resistant to adversarial attacks,</p>
<table id="S2.E1" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S2.E1.m1.5" class="ltx_Math" alttext="\min_{\phi}\mathbb{E}_{p_{\text{data }}({\bm{x}},{\bm{y}})}\left[\max_{{\bm{x}}^{\prime}\in\mathcal{B}({\bm{x}})}\mathcal{L}\left(g_{\phi}\left({\bm{x}}^{\prime}\right),{\bm{y}}\right)\right]," display="block"><semantics id="S2.E1.m1.5a"><mrow id="S2.E1.m1.5.5.1" xref="S2.E1.m1.5.5.1.1.cmml"><mrow id="S2.E1.m1.5.5.1.1" xref="S2.E1.m1.5.5.1.1.cmml"><mrow id="S2.E1.m1.5.5.1.1.3" xref="S2.E1.m1.5.5.1.1.3.cmml"><munder id="S2.E1.m1.5.5.1.1.3.1" xref="S2.E1.m1.5.5.1.1.3.1.cmml"><mi id="S2.E1.m1.5.5.1.1.3.1.2" xref="S2.E1.m1.5.5.1.1.3.1.2.cmml">min</mi><mi id="S2.E1.m1.5.5.1.1.3.1.3" xref="S2.E1.m1.5.5.1.1.3.1.3.cmml">ϕ</mi></munder><mo lspace="0.167em" id="S2.E1.m1.5.5.1.1.3a" xref="S2.E1.m1.5.5.1.1.3.cmml">⁡</mo><msub id="S2.E1.m1.5.5.1.1.3.2" xref="S2.E1.m1.5.5.1.1.3.2.cmml"><mi id="S2.E1.m1.5.5.1.1.3.2.2" xref="S2.E1.m1.5.5.1.1.3.2.2.cmml">𝔼</mi><mrow id="S2.E1.m1.2.2.2" xref="S2.E1.m1.2.2.2.cmml"><msub id="S2.E1.m1.2.2.2.4" xref="S2.E1.m1.2.2.2.4.cmml"><mi id="S2.E1.m1.2.2.2.4.2" xref="S2.E1.m1.2.2.2.4.2.cmml">p</mi><mtext id="S2.E1.m1.2.2.2.4.3" xref="S2.E1.m1.2.2.2.4.3a.cmml">data </mtext></msub><mo id="S2.E1.m1.2.2.2.3" xref="S2.E1.m1.2.2.2.3.cmml">⁢</mo><mrow id="S2.E1.m1.2.2.2.5.2" xref="S2.E1.m1.2.2.2.5.1.cmml"><mo stretchy="false" id="S2.E1.m1.2.2.2.5.2.1" xref="S2.E1.m1.2.2.2.5.1.cmml">(</mo><mi id="S2.E1.m1.1.1.1.1" xref="S2.E1.m1.1.1.1.1.cmml">𝒙</mi><mo id="S2.E1.m1.2.2.2.5.2.2" xref="S2.E1.m1.2.2.2.5.1.cmml">,</mo><mi id="S2.E1.m1.2.2.2.2" xref="S2.E1.m1.2.2.2.2.cmml">𝒚</mi><mo stretchy="false" id="S2.E1.m1.2.2.2.5.2.3" xref="S2.E1.m1.2.2.2.5.1.cmml">)</mo></mrow></mrow></msub></mrow><mo id="S2.E1.m1.5.5.1.1.2" xref="S2.E1.m1.5.5.1.1.2.cmml">⁢</mo><mrow id="S2.E1.m1.5.5.1.1.1.1" xref="S2.E1.m1.5.5.1.1.1.2.cmml"><mo id="S2.E1.m1.5.5.1.1.1.1.2" xref="S2.E1.m1.5.5.1.1.1.2.1.cmml">[</mo><mrow id="S2.E1.m1.5.5.1.1.1.1.1" xref="S2.E1.m1.5.5.1.1.1.1.1.cmml"><mrow id="S2.E1.m1.5.5.1.1.1.1.1.3" xref="S2.E1.m1.5.5.1.1.1.1.1.3.cmml"><munder id="S2.E1.m1.5.5.1.1.1.1.1.3.1" xref="S2.E1.m1.5.5.1.1.1.1.1.3.1.cmml"><mi id="S2.E1.m1.5.5.1.1.1.1.1.3.1.2" xref="S2.E1.m1.5.5.1.1.1.1.1.3.1.2.cmml">max</mi><mrow id="S2.E1.m1.3.3.1" xref="S2.E1.m1.3.3.1.cmml"><msup id="S2.E1.m1.3.3.1.3" xref="S2.E1.m1.3.3.1.3.cmml"><mi id="S2.E1.m1.3.3.1.3.2" xref="S2.E1.m1.3.3.1.3.2.cmml">𝒙</mi><mo id="S2.E1.m1.3.3.1.3.3" xref="S2.E1.m1.3.3.1.3.3.cmml">′</mo></msup><mo id="S2.E1.m1.3.3.1.2" xref="S2.E1.m1.3.3.1.2.cmml">∈</mo><mrow id="S2.E1.m1.3.3.1.4" xref="S2.E1.m1.3.3.1.4.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.E1.m1.3.3.1.4.2" xref="S2.E1.m1.3.3.1.4.2.cmml">ℬ</mi><mo id="S2.E1.m1.3.3.1.4.1" xref="S2.E1.m1.3.3.1.4.1.cmml">⁢</mo><mrow id="S2.E1.m1.3.3.1.4.3.2" xref="S2.E1.m1.3.3.1.4.cmml"><mo stretchy="false" id="S2.E1.m1.3.3.1.4.3.2.1" xref="S2.E1.m1.3.3.1.4.cmml">(</mo><mi id="S2.E1.m1.3.3.1.1" xref="S2.E1.m1.3.3.1.1.cmml">𝒙</mi><mo stretchy="false" id="S2.E1.m1.3.3.1.4.3.2.2" xref="S2.E1.m1.3.3.1.4.cmml">)</mo></mrow></mrow></mrow></munder><mo lspace="0.167em" id="S2.E1.m1.5.5.1.1.1.1.1.3a" xref="S2.E1.m1.5.5.1.1.1.1.1.3.cmml">⁡</mo><mi class="ltx_font_mathcaligraphic" id="S2.E1.m1.5.5.1.1.1.1.1.3.2" xref="S2.E1.m1.5.5.1.1.1.1.1.3.2.cmml">ℒ</mi></mrow><mo id="S2.E1.m1.5.5.1.1.1.1.1.2" xref="S2.E1.m1.5.5.1.1.1.1.1.2.cmml">⁢</mo><mrow id="S2.E1.m1.5.5.1.1.1.1.1.1.1" xref="S2.E1.m1.5.5.1.1.1.1.1.1.2.cmml"><mo id="S2.E1.m1.5.5.1.1.1.1.1.1.1.2" xref="S2.E1.m1.5.5.1.1.1.1.1.1.2.cmml">(</mo><mrow id="S2.E1.m1.5.5.1.1.1.1.1.1.1.1" xref="S2.E1.m1.5.5.1.1.1.1.1.1.1.1.cmml"><msub id="S2.E1.m1.5.5.1.1.1.1.1.1.1.1.3" xref="S2.E1.m1.5.5.1.1.1.1.1.1.1.1.3.cmml"><mi id="S2.E1.m1.5.5.1.1.1.1.1.1.1.1.3.2" xref="S2.E1.m1.5.5.1.1.1.1.1.1.1.1.3.2.cmml">g</mi><mi id="S2.E1.m1.5.5.1.1.1.1.1.1.1.1.3.3" xref="S2.E1.m1.5.5.1.1.1.1.1.1.1.1.3.3.cmml">ϕ</mi></msub><mo id="S2.E1.m1.5.5.1.1.1.1.1.1.1.1.2" xref="S2.E1.m1.5.5.1.1.1.1.1.1.1.1.2.cmml">⁢</mo><mrow id="S2.E1.m1.5.5.1.1.1.1.1.1.1.1.1.1" xref="S2.E1.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.cmml"><mo id="S2.E1.m1.5.5.1.1.1.1.1.1.1.1.1.1.2" xref="S2.E1.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.cmml">(</mo><msup id="S2.E1.m1.5.5.1.1.1.1.1.1.1.1.1.1.1" xref="S2.E1.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S2.E1.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.2" xref="S2.E1.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.2.cmml">𝒙</mi><mo id="S2.E1.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.3" xref="S2.E1.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.3.cmml">′</mo></msup><mo id="S2.E1.m1.5.5.1.1.1.1.1.1.1.1.1.1.3" xref="S2.E1.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S2.E1.m1.5.5.1.1.1.1.1.1.1.3" xref="S2.E1.m1.5.5.1.1.1.1.1.1.2.cmml">,</mo><mi id="S2.E1.m1.4.4" xref="S2.E1.m1.4.4.cmml">𝒚</mi><mo id="S2.E1.m1.5.5.1.1.1.1.1.1.1.4" xref="S2.E1.m1.5.5.1.1.1.1.1.1.2.cmml">)</mo></mrow></mrow><mo id="S2.E1.m1.5.5.1.1.1.1.3" xref="S2.E1.m1.5.5.1.1.1.2.1.cmml">]</mo></mrow></mrow><mo id="S2.E1.m1.5.5.1.2" xref="S2.E1.m1.5.5.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.E1.m1.5b"><apply id="S2.E1.m1.5.5.1.1.cmml" xref="S2.E1.m1.5.5.1"><times id="S2.E1.m1.5.5.1.1.2.cmml" xref="S2.E1.m1.5.5.1.1.2"></times><apply id="S2.E1.m1.5.5.1.1.3.cmml" xref="S2.E1.m1.5.5.1.1.3"><apply id="S2.E1.m1.5.5.1.1.3.1.cmml" xref="S2.E1.m1.5.5.1.1.3.1"><csymbol cd="ambiguous" id="S2.E1.m1.5.5.1.1.3.1.1.cmml" xref="S2.E1.m1.5.5.1.1.3.1">subscript</csymbol><min id="S2.E1.m1.5.5.1.1.3.1.2.cmml" xref="S2.E1.m1.5.5.1.1.3.1.2"></min><ci id="S2.E1.m1.5.5.1.1.3.1.3.cmml" xref="S2.E1.m1.5.5.1.1.3.1.3">italic-ϕ</ci></apply><apply id="S2.E1.m1.5.5.1.1.3.2.cmml" xref="S2.E1.m1.5.5.1.1.3.2"><csymbol cd="ambiguous" id="S2.E1.m1.5.5.1.1.3.2.1.cmml" xref="S2.E1.m1.5.5.1.1.3.2">subscript</csymbol><ci id="S2.E1.m1.5.5.1.1.3.2.2.cmml" xref="S2.E1.m1.5.5.1.1.3.2.2">𝔼</ci><apply id="S2.E1.m1.2.2.2.cmml" xref="S2.E1.m1.2.2.2"><times id="S2.E1.m1.2.2.2.3.cmml" xref="S2.E1.m1.2.2.2.3"></times><apply id="S2.E1.m1.2.2.2.4.cmml" xref="S2.E1.m1.2.2.2.4"><csymbol cd="ambiguous" id="S2.E1.m1.2.2.2.4.1.cmml" xref="S2.E1.m1.2.2.2.4">subscript</csymbol><ci id="S2.E1.m1.2.2.2.4.2.cmml" xref="S2.E1.m1.2.2.2.4.2">𝑝</ci><ci id="S2.E1.m1.2.2.2.4.3a.cmml" xref="S2.E1.m1.2.2.2.4.3"><mtext mathsize="50%" id="S2.E1.m1.2.2.2.4.3.cmml" xref="S2.E1.m1.2.2.2.4.3">data </mtext></ci></apply><interval closure="open" id="S2.E1.m1.2.2.2.5.1.cmml" xref="S2.E1.m1.2.2.2.5.2"><ci id="S2.E1.m1.1.1.1.1.cmml" xref="S2.E1.m1.1.1.1.1">𝒙</ci><ci id="S2.E1.m1.2.2.2.2.cmml" xref="S2.E1.m1.2.2.2.2">𝒚</ci></interval></apply></apply></apply><apply id="S2.E1.m1.5.5.1.1.1.2.cmml" xref="S2.E1.m1.5.5.1.1.1.1"><csymbol cd="latexml" id="S2.E1.m1.5.5.1.1.1.2.1.cmml" xref="S2.E1.m1.5.5.1.1.1.1.2">delimited-[]</csymbol><apply id="S2.E1.m1.5.5.1.1.1.1.1.cmml" xref="S2.E1.m1.5.5.1.1.1.1.1"><times id="S2.E1.m1.5.5.1.1.1.1.1.2.cmml" xref="S2.E1.m1.5.5.1.1.1.1.1.2"></times><apply id="S2.E1.m1.5.5.1.1.1.1.1.3.cmml" xref="S2.E1.m1.5.5.1.1.1.1.1.3"><apply id="S2.E1.m1.5.5.1.1.1.1.1.3.1.cmml" xref="S2.E1.m1.5.5.1.1.1.1.1.3.1"><csymbol cd="ambiguous" id="S2.E1.m1.5.5.1.1.1.1.1.3.1.1.cmml" xref="S2.E1.m1.5.5.1.1.1.1.1.3.1">subscript</csymbol><max id="S2.E1.m1.5.5.1.1.1.1.1.3.1.2.cmml" xref="S2.E1.m1.5.5.1.1.1.1.1.3.1.2"></max><apply id="S2.E1.m1.3.3.1.cmml" xref="S2.E1.m1.3.3.1"><in id="S2.E1.m1.3.3.1.2.cmml" xref="S2.E1.m1.3.3.1.2"></in><apply id="S2.E1.m1.3.3.1.3.cmml" xref="S2.E1.m1.3.3.1.3"><csymbol cd="ambiguous" id="S2.E1.m1.3.3.1.3.1.cmml" xref="S2.E1.m1.3.3.1.3">superscript</csymbol><ci id="S2.E1.m1.3.3.1.3.2.cmml" xref="S2.E1.m1.3.3.1.3.2">𝒙</ci><ci id="S2.E1.m1.3.3.1.3.3.cmml" xref="S2.E1.m1.3.3.1.3.3">′</ci></apply><apply id="S2.E1.m1.3.3.1.4.cmml" xref="S2.E1.m1.3.3.1.4"><times id="S2.E1.m1.3.3.1.4.1.cmml" xref="S2.E1.m1.3.3.1.4.1"></times><ci id="S2.E1.m1.3.3.1.4.2.cmml" xref="S2.E1.m1.3.3.1.4.2">ℬ</ci><ci id="S2.E1.m1.3.3.1.1.cmml" xref="S2.E1.m1.3.3.1.1">𝒙</ci></apply></apply></apply><ci id="S2.E1.m1.5.5.1.1.1.1.1.3.2.cmml" xref="S2.E1.m1.5.5.1.1.1.1.1.3.2">ℒ</ci></apply><interval closure="open" id="S2.E1.m1.5.5.1.1.1.1.1.1.2.cmml" xref="S2.E1.m1.5.5.1.1.1.1.1.1.1"><apply id="S2.E1.m1.5.5.1.1.1.1.1.1.1.1.cmml" xref="S2.E1.m1.5.5.1.1.1.1.1.1.1.1"><times id="S2.E1.m1.5.5.1.1.1.1.1.1.1.1.2.cmml" xref="S2.E1.m1.5.5.1.1.1.1.1.1.1.1.2"></times><apply id="S2.E1.m1.5.5.1.1.1.1.1.1.1.1.3.cmml" xref="S2.E1.m1.5.5.1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S2.E1.m1.5.5.1.1.1.1.1.1.1.1.3.1.cmml" xref="S2.E1.m1.5.5.1.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S2.E1.m1.5.5.1.1.1.1.1.1.1.1.3.2.cmml" xref="S2.E1.m1.5.5.1.1.1.1.1.1.1.1.3.2">𝑔</ci><ci id="S2.E1.m1.5.5.1.1.1.1.1.1.1.1.3.3.cmml" xref="S2.E1.m1.5.5.1.1.1.1.1.1.1.1.3.3">italic-ϕ</ci></apply><apply id="S2.E1.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S2.E1.m1.5.5.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.E1.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S2.E1.m1.5.5.1.1.1.1.1.1.1.1.1.1">superscript</csymbol><ci id="S2.E1.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S2.E1.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.2">𝒙</ci><ci id="S2.E1.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S2.E1.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.3">′</ci></apply></apply><ci id="S2.E1.m1.4.4.cmml" xref="S2.E1.m1.4.4">𝒚</ci></interval></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E1.m1.5c">\min_{\phi}\mathbb{E}_{p_{\text{data }}({\bm{x}},{\bm{y}})}\left[\max_{{\bm{x}}^{\prime}\in\mathcal{B}({\bm{x}})}\mathcal{L}\left(g_{\phi}\left({\bm{x}}^{\prime}\right),{\bm{y}}\right)\right],</annotation><annotation encoding="application/x-llamapun" id="S2.E1.m1.5d">roman_min start_POSTSUBSCRIPT italic_ϕ end_POSTSUBSCRIPT blackboard_E start_POSTSUBSCRIPT italic_p start_POSTSUBSCRIPT data end_POSTSUBSCRIPT ( bold_italic_x , bold_italic_y ) end_POSTSUBSCRIPT [ roman_max start_POSTSUBSCRIPT bold_italic_x start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT ∈ caligraphic_B ( bold_italic_x ) end_POSTSUBSCRIPT caligraphic_L ( italic_g start_POSTSUBSCRIPT italic_ϕ end_POSTSUBSCRIPT ( bold_italic_x start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT ) , bold_italic_y ) ] ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(1)</span></td>
</tr></tbody>
</table>
</div>
<div id="S2.SS0.SSS0.Px1.p2" class="ltx_para">
<p id="S2.SS0.SSS0.Px1.p2.3" class="ltx_p">where <math id="S2.SS0.SSS0.Px1.p2.1.m1.1" class="ltx_Math" alttext="\mathcal{L}" display="inline"><semantics id="S2.SS0.SSS0.Px1.p2.1.m1.1a"><mi class="ltx_font_mathcaligraphic" id="S2.SS0.SSS0.Px1.p2.1.m1.1.1" xref="S2.SS0.SSS0.Px1.p2.1.m1.1.1.cmml">ℒ</mi><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px1.p2.1.m1.1b"><ci id="S2.SS0.SSS0.Px1.p2.1.m1.1.1.cmml" xref="S2.SS0.SSS0.Px1.p2.1.m1.1.1">ℒ</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px1.p2.1.m1.1c">\mathcal{L}</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px1.p2.1.m1.1d">caligraphic_L</annotation></semantics></math> is a loss function, and <math id="S2.SS0.SSS0.Px1.p2.2.m2.1" class="ltx_Math" alttext="\mathcal{B}({\bm{x}})" display="inline"><semantics id="S2.SS0.SSS0.Px1.p2.2.m2.1a"><mrow id="S2.SS0.SSS0.Px1.p2.2.m2.1.2" xref="S2.SS0.SSS0.Px1.p2.2.m2.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.SS0.SSS0.Px1.p2.2.m2.1.2.2" xref="S2.SS0.SSS0.Px1.p2.2.m2.1.2.2.cmml">ℬ</mi><mo id="S2.SS0.SSS0.Px1.p2.2.m2.1.2.1" xref="S2.SS0.SSS0.Px1.p2.2.m2.1.2.1.cmml">⁢</mo><mrow id="S2.SS0.SSS0.Px1.p2.2.m2.1.2.3.2" xref="S2.SS0.SSS0.Px1.p2.2.m2.1.2.cmml"><mo stretchy="false" id="S2.SS0.SSS0.Px1.p2.2.m2.1.2.3.2.1" xref="S2.SS0.SSS0.Px1.p2.2.m2.1.2.cmml">(</mo><mi id="S2.SS0.SSS0.Px1.p2.2.m2.1.1" xref="S2.SS0.SSS0.Px1.p2.2.m2.1.1.cmml">𝒙</mi><mo stretchy="false" id="S2.SS0.SSS0.Px1.p2.2.m2.1.2.3.2.2" xref="S2.SS0.SSS0.Px1.p2.2.m2.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px1.p2.2.m2.1b"><apply id="S2.SS0.SSS0.Px1.p2.2.m2.1.2.cmml" xref="S2.SS0.SSS0.Px1.p2.2.m2.1.2"><times id="S2.SS0.SSS0.Px1.p2.2.m2.1.2.1.cmml" xref="S2.SS0.SSS0.Px1.p2.2.m2.1.2.1"></times><ci id="S2.SS0.SSS0.Px1.p2.2.m2.1.2.2.cmml" xref="S2.SS0.SSS0.Px1.p2.2.m2.1.2.2">ℬ</ci><ci id="S2.SS0.SSS0.Px1.p2.2.m2.1.1.cmml" xref="S2.SS0.SSS0.Px1.p2.2.m2.1.1">𝒙</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px1.p2.2.m2.1c">\mathcal{B}({\bm{x}})</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px1.p2.2.m2.1d">caligraphic_B ( bold_italic_x )</annotation></semantics></math> is the set of allowed perturbed images around <math id="S2.SS0.SSS0.Px1.p2.3.m3.1" class="ltx_Math" alttext="{\bm{x}}" display="inline"><semantics id="S2.SS0.SSS0.Px1.p2.3.m3.1a"><mi id="S2.SS0.SSS0.Px1.p2.3.m3.1.1" xref="S2.SS0.SSS0.Px1.p2.3.m3.1.1.cmml">𝒙</mi><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px1.p2.3.m3.1b"><ci id="S2.SS0.SSS0.Px1.p2.3.m3.1.1.cmml" xref="S2.SS0.SSS0.Px1.p2.3.m3.1.1">𝒙</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px1.p2.3.m3.1c">{\bm{x}}</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px1.p2.3.m3.1d">bold_italic_x</annotation></semantics></math>.
An approximation must be used because perfect evaluation and optimization of this goal are impossible.
Adversarial training
<cite class="ltx_cite ltx_citemacro_citep">(Madry et al., <a href="#bib.bib21" title="" class="ltx_ref">2018</a>; Zhang et al., <a href="#bib.bib40" title="" class="ltx_ref">2019</a>; Carmon et al., <a href="#bib.bib4" title="" class="ltx_ref">2019</a>)</cite>
is a popular method for optimizing a surrogate loss computed from limited classes of adversarial samples during training.
<cite class="ltx_cite ltx_citemacro_citet">Madry et al. (<a href="#bib.bib21" title="" class="ltx_ref">2018</a>)</cite>, for example, uses the PGD attack to approximate the inner maximizing loop in Equation <a href="#S2.E1" title="1 ‣ Adversarial Training. ‣ 2 Related Work ‣ Guided Diffusion Model for Adversarial Purification" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>.</p>
</div>
<div id="S2.SS0.SSS0.Px1.p3" class="ltx_para">
<table id="S2.E2" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S2.E2.m1.5" class="ltx_Math" alttext="\min_{\phi}\mathbb{E}_{p_{\text{data }}({\bm{x}},{\bm{y}})}\left[\mathbb{E}_{{\bm{x}}^{\prime}\in\mathcal{A}({\bm{x}})}\mathcal{L}\left(g_{\phi}\left({\bm{x}}^{\prime}\right),{\bm{y}}\right)\right]," display="block"><semantics id="S2.E2.m1.5a"><mrow id="S2.E2.m1.5.5.1" xref="S2.E2.m1.5.5.1.1.cmml"><mrow id="S2.E2.m1.5.5.1.1" xref="S2.E2.m1.5.5.1.1.cmml"><mrow id="S2.E2.m1.5.5.1.1.3" xref="S2.E2.m1.5.5.1.1.3.cmml"><munder id="S2.E2.m1.5.5.1.1.3.1" xref="S2.E2.m1.5.5.1.1.3.1.cmml"><mi id="S2.E2.m1.5.5.1.1.3.1.2" xref="S2.E2.m1.5.5.1.1.3.1.2.cmml">min</mi><mi id="S2.E2.m1.5.5.1.1.3.1.3" xref="S2.E2.m1.5.5.1.1.3.1.3.cmml">ϕ</mi></munder><mo lspace="0.167em" id="S2.E2.m1.5.5.1.1.3a" xref="S2.E2.m1.5.5.1.1.3.cmml">⁡</mo><msub id="S2.E2.m1.5.5.1.1.3.2" xref="S2.E2.m1.5.5.1.1.3.2.cmml"><mi id="S2.E2.m1.5.5.1.1.3.2.2" xref="S2.E2.m1.5.5.1.1.3.2.2.cmml">𝔼</mi><mrow id="S2.E2.m1.2.2.2" xref="S2.E2.m1.2.2.2.cmml"><msub id="S2.E2.m1.2.2.2.4" xref="S2.E2.m1.2.2.2.4.cmml"><mi id="S2.E2.m1.2.2.2.4.2" xref="S2.E2.m1.2.2.2.4.2.cmml">p</mi><mtext id="S2.E2.m1.2.2.2.4.3" xref="S2.E2.m1.2.2.2.4.3a.cmml">data </mtext></msub><mo id="S2.E2.m1.2.2.2.3" xref="S2.E2.m1.2.2.2.3.cmml">⁢</mo><mrow id="S2.E2.m1.2.2.2.5.2" xref="S2.E2.m1.2.2.2.5.1.cmml"><mo stretchy="false" id="S2.E2.m1.2.2.2.5.2.1" xref="S2.E2.m1.2.2.2.5.1.cmml">(</mo><mi id="S2.E2.m1.1.1.1.1" xref="S2.E2.m1.1.1.1.1.cmml">𝒙</mi><mo id="S2.E2.m1.2.2.2.5.2.2" xref="S2.E2.m1.2.2.2.5.1.cmml">,</mo><mi id="S2.E2.m1.2.2.2.2" xref="S2.E2.m1.2.2.2.2.cmml">𝒚</mi><mo stretchy="false" id="S2.E2.m1.2.2.2.5.2.3" xref="S2.E2.m1.2.2.2.5.1.cmml">)</mo></mrow></mrow></msub></mrow><mo id="S2.E2.m1.5.5.1.1.2" xref="S2.E2.m1.5.5.1.1.2.cmml">⁢</mo><mrow id="S2.E2.m1.5.5.1.1.1.1" xref="S2.E2.m1.5.5.1.1.1.2.cmml"><mo id="S2.E2.m1.5.5.1.1.1.1.2" xref="S2.E2.m1.5.5.1.1.1.2.1.cmml">[</mo><mrow id="S2.E2.m1.5.5.1.1.1.1.1" xref="S2.E2.m1.5.5.1.1.1.1.1.cmml"><msub id="S2.E2.m1.5.5.1.1.1.1.1.3" xref="S2.E2.m1.5.5.1.1.1.1.1.3.cmml"><mi id="S2.E2.m1.5.5.1.1.1.1.1.3.2" xref="S2.E2.m1.5.5.1.1.1.1.1.3.2.cmml">𝔼</mi><mrow id="S2.E2.m1.3.3.1" xref="S2.E2.m1.3.3.1.cmml"><msup id="S2.E2.m1.3.3.1.3" xref="S2.E2.m1.3.3.1.3.cmml"><mi id="S2.E2.m1.3.3.1.3.2" xref="S2.E2.m1.3.3.1.3.2.cmml">𝒙</mi><mo id="S2.E2.m1.3.3.1.3.3" xref="S2.E2.m1.3.3.1.3.3.cmml">′</mo></msup><mo id="S2.E2.m1.3.3.1.2" xref="S2.E2.m1.3.3.1.2.cmml">∈</mo><mrow id="S2.E2.m1.3.3.1.4" xref="S2.E2.m1.3.3.1.4.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.E2.m1.3.3.1.4.2" xref="S2.E2.m1.3.3.1.4.2.cmml">𝒜</mi><mo id="S2.E2.m1.3.3.1.4.1" xref="S2.E2.m1.3.3.1.4.1.cmml">⁢</mo><mrow id="S2.E2.m1.3.3.1.4.3.2" xref="S2.E2.m1.3.3.1.4.cmml"><mo stretchy="false" id="S2.E2.m1.3.3.1.4.3.2.1" xref="S2.E2.m1.3.3.1.4.cmml">(</mo><mi id="S2.E2.m1.3.3.1.1" xref="S2.E2.m1.3.3.1.1.cmml">𝒙</mi><mo stretchy="false" id="S2.E2.m1.3.3.1.4.3.2.2" xref="S2.E2.m1.3.3.1.4.cmml">)</mo></mrow></mrow></mrow></msub><mo id="S2.E2.m1.5.5.1.1.1.1.1.2" xref="S2.E2.m1.5.5.1.1.1.1.1.2.cmml">⁢</mo><mi class="ltx_font_mathcaligraphic" id="S2.E2.m1.5.5.1.1.1.1.1.4" xref="S2.E2.m1.5.5.1.1.1.1.1.4.cmml">ℒ</mi><mo id="S2.E2.m1.5.5.1.1.1.1.1.2a" xref="S2.E2.m1.5.5.1.1.1.1.1.2.cmml">⁢</mo><mrow id="S2.E2.m1.5.5.1.1.1.1.1.1.1" xref="S2.E2.m1.5.5.1.1.1.1.1.1.2.cmml"><mo id="S2.E2.m1.5.5.1.1.1.1.1.1.1.2" xref="S2.E2.m1.5.5.1.1.1.1.1.1.2.cmml">(</mo><mrow id="S2.E2.m1.5.5.1.1.1.1.1.1.1.1" xref="S2.E2.m1.5.5.1.1.1.1.1.1.1.1.cmml"><msub id="S2.E2.m1.5.5.1.1.1.1.1.1.1.1.3" xref="S2.E2.m1.5.5.1.1.1.1.1.1.1.1.3.cmml"><mi id="S2.E2.m1.5.5.1.1.1.1.1.1.1.1.3.2" xref="S2.E2.m1.5.5.1.1.1.1.1.1.1.1.3.2.cmml">g</mi><mi id="S2.E2.m1.5.5.1.1.1.1.1.1.1.1.3.3" xref="S2.E2.m1.5.5.1.1.1.1.1.1.1.1.3.3.cmml">ϕ</mi></msub><mo id="S2.E2.m1.5.5.1.1.1.1.1.1.1.1.2" xref="S2.E2.m1.5.5.1.1.1.1.1.1.1.1.2.cmml">⁢</mo><mrow id="S2.E2.m1.5.5.1.1.1.1.1.1.1.1.1.1" xref="S2.E2.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.cmml"><mo id="S2.E2.m1.5.5.1.1.1.1.1.1.1.1.1.1.2" xref="S2.E2.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.cmml">(</mo><msup id="S2.E2.m1.5.5.1.1.1.1.1.1.1.1.1.1.1" xref="S2.E2.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S2.E2.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.2" xref="S2.E2.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.2.cmml">𝒙</mi><mo id="S2.E2.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.3" xref="S2.E2.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.3.cmml">′</mo></msup><mo id="S2.E2.m1.5.5.1.1.1.1.1.1.1.1.1.1.3" xref="S2.E2.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S2.E2.m1.5.5.1.1.1.1.1.1.1.3" xref="S2.E2.m1.5.5.1.1.1.1.1.1.2.cmml">,</mo><mi id="S2.E2.m1.4.4" xref="S2.E2.m1.4.4.cmml">𝒚</mi><mo id="S2.E2.m1.5.5.1.1.1.1.1.1.1.4" xref="S2.E2.m1.5.5.1.1.1.1.1.1.2.cmml">)</mo></mrow></mrow><mo id="S2.E2.m1.5.5.1.1.1.1.3" xref="S2.E2.m1.5.5.1.1.1.2.1.cmml">]</mo></mrow></mrow><mo id="S2.E2.m1.5.5.1.2" xref="S2.E2.m1.5.5.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.E2.m1.5b"><apply id="S2.E2.m1.5.5.1.1.cmml" xref="S2.E2.m1.5.5.1"><times id="S2.E2.m1.5.5.1.1.2.cmml" xref="S2.E2.m1.5.5.1.1.2"></times><apply id="S2.E2.m1.5.5.1.1.3.cmml" xref="S2.E2.m1.5.5.1.1.3"><apply id="S2.E2.m1.5.5.1.1.3.1.cmml" xref="S2.E2.m1.5.5.1.1.3.1"><csymbol cd="ambiguous" id="S2.E2.m1.5.5.1.1.3.1.1.cmml" xref="S2.E2.m1.5.5.1.1.3.1">subscript</csymbol><min id="S2.E2.m1.5.5.1.1.3.1.2.cmml" xref="S2.E2.m1.5.5.1.1.3.1.2"></min><ci id="S2.E2.m1.5.5.1.1.3.1.3.cmml" xref="S2.E2.m1.5.5.1.1.3.1.3">italic-ϕ</ci></apply><apply id="S2.E2.m1.5.5.1.1.3.2.cmml" xref="S2.E2.m1.5.5.1.1.3.2"><csymbol cd="ambiguous" id="S2.E2.m1.5.5.1.1.3.2.1.cmml" xref="S2.E2.m1.5.5.1.1.3.2">subscript</csymbol><ci id="S2.E2.m1.5.5.1.1.3.2.2.cmml" xref="S2.E2.m1.5.5.1.1.3.2.2">𝔼</ci><apply id="S2.E2.m1.2.2.2.cmml" xref="S2.E2.m1.2.2.2"><times id="S2.E2.m1.2.2.2.3.cmml" xref="S2.E2.m1.2.2.2.3"></times><apply id="S2.E2.m1.2.2.2.4.cmml" xref="S2.E2.m1.2.2.2.4"><csymbol cd="ambiguous" id="S2.E2.m1.2.2.2.4.1.cmml" xref="S2.E2.m1.2.2.2.4">subscript</csymbol><ci id="S2.E2.m1.2.2.2.4.2.cmml" xref="S2.E2.m1.2.2.2.4.2">𝑝</ci><ci id="S2.E2.m1.2.2.2.4.3a.cmml" xref="S2.E2.m1.2.2.2.4.3"><mtext mathsize="50%" id="S2.E2.m1.2.2.2.4.3.cmml" xref="S2.E2.m1.2.2.2.4.3">data </mtext></ci></apply><interval closure="open" id="S2.E2.m1.2.2.2.5.1.cmml" xref="S2.E2.m1.2.2.2.5.2"><ci id="S2.E2.m1.1.1.1.1.cmml" xref="S2.E2.m1.1.1.1.1">𝒙</ci><ci id="S2.E2.m1.2.2.2.2.cmml" xref="S2.E2.m1.2.2.2.2">𝒚</ci></interval></apply></apply></apply><apply id="S2.E2.m1.5.5.1.1.1.2.cmml" xref="S2.E2.m1.5.5.1.1.1.1"><csymbol cd="latexml" id="S2.E2.m1.5.5.1.1.1.2.1.cmml" xref="S2.E2.m1.5.5.1.1.1.1.2">delimited-[]</csymbol><apply id="S2.E2.m1.5.5.1.1.1.1.1.cmml" xref="S2.E2.m1.5.5.1.1.1.1.1"><times id="S2.E2.m1.5.5.1.1.1.1.1.2.cmml" xref="S2.E2.m1.5.5.1.1.1.1.1.2"></times><apply id="S2.E2.m1.5.5.1.1.1.1.1.3.cmml" xref="S2.E2.m1.5.5.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S2.E2.m1.5.5.1.1.1.1.1.3.1.cmml" xref="S2.E2.m1.5.5.1.1.1.1.1.3">subscript</csymbol><ci id="S2.E2.m1.5.5.1.1.1.1.1.3.2.cmml" xref="S2.E2.m1.5.5.1.1.1.1.1.3.2">𝔼</ci><apply id="S2.E2.m1.3.3.1.cmml" xref="S2.E2.m1.3.3.1"><in id="S2.E2.m1.3.3.1.2.cmml" xref="S2.E2.m1.3.3.1.2"></in><apply id="S2.E2.m1.3.3.1.3.cmml" xref="S2.E2.m1.3.3.1.3"><csymbol cd="ambiguous" id="S2.E2.m1.3.3.1.3.1.cmml" xref="S2.E2.m1.3.3.1.3">superscript</csymbol><ci id="S2.E2.m1.3.3.1.3.2.cmml" xref="S2.E2.m1.3.3.1.3.2">𝒙</ci><ci id="S2.E2.m1.3.3.1.3.3.cmml" xref="S2.E2.m1.3.3.1.3.3">′</ci></apply><apply id="S2.E2.m1.3.3.1.4.cmml" xref="S2.E2.m1.3.3.1.4"><times id="S2.E2.m1.3.3.1.4.1.cmml" xref="S2.E2.m1.3.3.1.4.1"></times><ci id="S2.E2.m1.3.3.1.4.2.cmml" xref="S2.E2.m1.3.3.1.4.2">𝒜</ci><ci id="S2.E2.m1.3.3.1.1.cmml" xref="S2.E2.m1.3.3.1.1">𝒙</ci></apply></apply></apply><ci id="S2.E2.m1.5.5.1.1.1.1.1.4.cmml" xref="S2.E2.m1.5.5.1.1.1.1.1.4">ℒ</ci><interval closure="open" id="S2.E2.m1.5.5.1.1.1.1.1.1.2.cmml" xref="S2.E2.m1.5.5.1.1.1.1.1.1.1"><apply id="S2.E2.m1.5.5.1.1.1.1.1.1.1.1.cmml" xref="S2.E2.m1.5.5.1.1.1.1.1.1.1.1"><times id="S2.E2.m1.5.5.1.1.1.1.1.1.1.1.2.cmml" xref="S2.E2.m1.5.5.1.1.1.1.1.1.1.1.2"></times><apply id="S2.E2.m1.5.5.1.1.1.1.1.1.1.1.3.cmml" xref="S2.E2.m1.5.5.1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S2.E2.m1.5.5.1.1.1.1.1.1.1.1.3.1.cmml" xref="S2.E2.m1.5.5.1.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S2.E2.m1.5.5.1.1.1.1.1.1.1.1.3.2.cmml" xref="S2.E2.m1.5.5.1.1.1.1.1.1.1.1.3.2">𝑔</ci><ci id="S2.E2.m1.5.5.1.1.1.1.1.1.1.1.3.3.cmml" xref="S2.E2.m1.5.5.1.1.1.1.1.1.1.1.3.3">italic-ϕ</ci></apply><apply id="S2.E2.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S2.E2.m1.5.5.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.E2.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S2.E2.m1.5.5.1.1.1.1.1.1.1.1.1.1">superscript</csymbol><ci id="S2.E2.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S2.E2.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.2">𝒙</ci><ci id="S2.E2.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S2.E2.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.3">′</ci></apply></apply><ci id="S2.E2.m1.4.4.cmml" xref="S2.E2.m1.4.4">𝒚</ci></interval></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E2.m1.5c">\min_{\phi}\mathbb{E}_{p_{\text{data }}({\bm{x}},{\bm{y}})}\left[\mathbb{E}_{{\bm{x}}^{\prime}\in\mathcal{A}({\bm{x}})}\mathcal{L}\left(g_{\phi}\left({\bm{x}}^{\prime}\right),{\bm{y}}\right)\right],</annotation><annotation encoding="application/x-llamapun" id="S2.E2.m1.5d">roman_min start_POSTSUBSCRIPT italic_ϕ end_POSTSUBSCRIPT blackboard_E start_POSTSUBSCRIPT italic_p start_POSTSUBSCRIPT data end_POSTSUBSCRIPT ( bold_italic_x , bold_italic_y ) end_POSTSUBSCRIPT [ blackboard_E start_POSTSUBSCRIPT bold_italic_x start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT ∈ caligraphic_A ( bold_italic_x ) end_POSTSUBSCRIPT caligraphic_L ( italic_g start_POSTSUBSCRIPT italic_ϕ end_POSTSUBSCRIPT ( bold_italic_x start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT ) , bold_italic_y ) ] ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(2)</span></td>
</tr></tbody>
</table>
<p id="S2.SS0.SSS0.Px1.p3.2" class="ltx_p">where <math id="S2.SS0.SSS0.Px1.p3.1.m1.1" class="ltx_Math" alttext="\mathcal{A}({\bm{x}}_{i})" display="inline"><semantics id="S2.SS0.SSS0.Px1.p3.1.m1.1a"><mrow id="S2.SS0.SSS0.Px1.p3.1.m1.1.1" xref="S2.SS0.SSS0.Px1.p3.1.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.SS0.SSS0.Px1.p3.1.m1.1.1.3" xref="S2.SS0.SSS0.Px1.p3.1.m1.1.1.3.cmml">𝒜</mi><mo id="S2.SS0.SSS0.Px1.p3.1.m1.1.1.2" xref="S2.SS0.SSS0.Px1.p3.1.m1.1.1.2.cmml">⁢</mo><mrow id="S2.SS0.SSS0.Px1.p3.1.m1.1.1.1.1" xref="S2.SS0.SSS0.Px1.p3.1.m1.1.1.1.1.1.cmml"><mo stretchy="false" id="S2.SS0.SSS0.Px1.p3.1.m1.1.1.1.1.2" xref="S2.SS0.SSS0.Px1.p3.1.m1.1.1.1.1.1.cmml">(</mo><msub id="S2.SS0.SSS0.Px1.p3.1.m1.1.1.1.1.1" xref="S2.SS0.SSS0.Px1.p3.1.m1.1.1.1.1.1.cmml"><mi id="S2.SS0.SSS0.Px1.p3.1.m1.1.1.1.1.1.2" xref="S2.SS0.SSS0.Px1.p3.1.m1.1.1.1.1.1.2.cmml">𝒙</mi><mi id="S2.SS0.SSS0.Px1.p3.1.m1.1.1.1.1.1.3" xref="S2.SS0.SSS0.Px1.p3.1.m1.1.1.1.1.1.3.cmml">i</mi></msub><mo stretchy="false" id="S2.SS0.SSS0.Px1.p3.1.m1.1.1.1.1.3" xref="S2.SS0.SSS0.Px1.p3.1.m1.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px1.p3.1.m1.1b"><apply id="S2.SS0.SSS0.Px1.p3.1.m1.1.1.cmml" xref="S2.SS0.SSS0.Px1.p3.1.m1.1.1"><times id="S2.SS0.SSS0.Px1.p3.1.m1.1.1.2.cmml" xref="S2.SS0.SSS0.Px1.p3.1.m1.1.1.2"></times><ci id="S2.SS0.SSS0.Px1.p3.1.m1.1.1.3.cmml" xref="S2.SS0.SSS0.Px1.p3.1.m1.1.1.3">𝒜</ci><apply id="S2.SS0.SSS0.Px1.p3.1.m1.1.1.1.1.1.cmml" xref="S2.SS0.SSS0.Px1.p3.1.m1.1.1.1.1"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px1.p3.1.m1.1.1.1.1.1.1.cmml" xref="S2.SS0.SSS0.Px1.p3.1.m1.1.1.1.1">subscript</csymbol><ci id="S2.SS0.SSS0.Px1.p3.1.m1.1.1.1.1.1.2.cmml" xref="S2.SS0.SSS0.Px1.p3.1.m1.1.1.1.1.1.2">𝒙</ci><ci id="S2.SS0.SSS0.Px1.p3.1.m1.1.1.1.1.1.3.cmml" xref="S2.SS0.SSS0.Px1.p3.1.m1.1.1.1.1.1.3">𝑖</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px1.p3.1.m1.1c">\mathcal{A}({\bm{x}}_{i})</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px1.p3.1.m1.1d">caligraphic_A ( bold_italic_x start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT )</annotation></semantics></math> denotes the set of images obtained on the fly in the training process of the network by hitting <math id="S2.SS0.SSS0.Px1.p3.2.m2.1" class="ltx_Math" alttext="{\bm{x}}" display="inline"><semantics id="S2.SS0.SSS0.Px1.p3.2.m2.1a"><mi id="S2.SS0.SSS0.Px1.p3.2.m2.1.1" xref="S2.SS0.SSS0.Px1.p3.2.m2.1.1.cmml">𝒙</mi><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px1.p3.2.m2.1b"><ci id="S2.SS0.SSS0.Px1.p3.2.m2.1.1.cmml" xref="S2.SS0.SSS0.Px1.p3.2.m2.1.1">𝒙</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px1.p3.2.m2.1c">{\bm{x}}</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px1.p3.2.m2.1d">bold_italic_x</annotation></semantics></math> with a certain type of adversarial attack.
</p>
</div>
</section>
<section id="S2.SS0.SSS0.Px2" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Prepossessing.</h4>

<div id="S2.SS0.SSS0.Px2.p1" class="ltx_para">
<p id="S2.SS0.SSS0.Px2.p1.1" class="ltx_p">Preprocessing, in which input images are preprocessed using auxiliary transformations before classification, is another strategy for adversarial defense. Let <math id="S2.SS0.SSS0.Px2.p1.1.m1.1" class="ltx_Math" alttext="f_{\theta}" display="inline"><semantics id="S2.SS0.SSS0.Px2.p1.1.m1.1a"><msub id="S2.SS0.SSS0.Px2.p1.1.m1.1.1" xref="S2.SS0.SSS0.Px2.p1.1.m1.1.1.cmml"><mi id="S2.SS0.SSS0.Px2.p1.1.m1.1.1.2" xref="S2.SS0.SSS0.Px2.p1.1.m1.1.1.2.cmml">f</mi><mi id="S2.SS0.SSS0.Px2.p1.1.m1.1.1.3" xref="S2.SS0.SSS0.Px2.p1.1.m1.1.1.3.cmml">θ</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px2.p1.1.m1.1b"><apply id="S2.SS0.SSS0.Px2.p1.1.m1.1.1.cmml" xref="S2.SS0.SSS0.Px2.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px2.p1.1.m1.1.1.1.cmml" xref="S2.SS0.SSS0.Px2.p1.1.m1.1.1">subscript</csymbol><ci id="S2.SS0.SSS0.Px2.p1.1.m1.1.1.2.cmml" xref="S2.SS0.SSS0.Px2.p1.1.m1.1.1.2">𝑓</ci><ci id="S2.SS0.SSS0.Px2.p1.1.m1.1.1.3.cmml" xref="S2.SS0.SSS0.Px2.p1.1.m1.1.1.3">𝜃</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px2.p1.1.m1.1c">f_{\theta}</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px2.p1.1.m1.1d">italic_f start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT</annotation></semantics></math> be a preprocessor for image transformation.
The goal of the training is then:</p>
<table id="S2.E3" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S2.E3.m1.7" class="ltx_Math" alttext="\min_{\phi,\theta}\mathbb{E}_{p_{\text{data }}({\bm{x}},{\bm{y}})}\left[\max_{{\bm{x}}^{\prime}\in\mathcal{B}({\bm{x}})}\mathcal{L}\left(g_{\phi}\left(f_{\theta}\left({\bm{x}}^{\prime}\right)\right),{\bm{y}}\right)\right]." display="block"><semantics id="S2.E3.m1.7a"><mrow id="S2.E3.m1.7.7.1" xref="S2.E3.m1.7.7.1.1.cmml"><mrow id="S2.E3.m1.7.7.1.1" xref="S2.E3.m1.7.7.1.1.cmml"><mrow id="S2.E3.m1.7.7.1.1.3" xref="S2.E3.m1.7.7.1.1.3.cmml"><munder id="S2.E3.m1.7.7.1.1.3.1" xref="S2.E3.m1.7.7.1.1.3.1.cmml"><mi id="S2.E3.m1.7.7.1.1.3.1.2" xref="S2.E3.m1.7.7.1.1.3.1.2.cmml">min</mi><mrow id="S2.E3.m1.2.2.2.4" xref="S2.E3.m1.2.2.2.3.cmml"><mi id="S2.E3.m1.1.1.1.1" xref="S2.E3.m1.1.1.1.1.cmml">ϕ</mi><mo id="S2.E3.m1.2.2.2.4.1" xref="S2.E3.m1.2.2.2.3.cmml">,</mo><mi id="S2.E3.m1.2.2.2.2" xref="S2.E3.m1.2.2.2.2.cmml">θ</mi></mrow></munder><mo lspace="0.167em" id="S2.E3.m1.7.7.1.1.3a" xref="S2.E3.m1.7.7.1.1.3.cmml">⁡</mo><msub id="S2.E3.m1.7.7.1.1.3.2" xref="S2.E3.m1.7.7.1.1.3.2.cmml"><mi id="S2.E3.m1.7.7.1.1.3.2.2" xref="S2.E3.m1.7.7.1.1.3.2.2.cmml">𝔼</mi><mrow id="S2.E3.m1.4.4.2" xref="S2.E3.m1.4.4.2.cmml"><msub id="S2.E3.m1.4.4.2.4" xref="S2.E3.m1.4.4.2.4.cmml"><mi id="S2.E3.m1.4.4.2.4.2" xref="S2.E3.m1.4.4.2.4.2.cmml">p</mi><mtext id="S2.E3.m1.4.4.2.4.3" xref="S2.E3.m1.4.4.2.4.3a.cmml">data </mtext></msub><mo id="S2.E3.m1.4.4.2.3" xref="S2.E3.m1.4.4.2.3.cmml">⁢</mo><mrow id="S2.E3.m1.4.4.2.5.2" xref="S2.E3.m1.4.4.2.5.1.cmml"><mo stretchy="false" id="S2.E3.m1.4.4.2.5.2.1" xref="S2.E3.m1.4.4.2.5.1.cmml">(</mo><mi id="S2.E3.m1.3.3.1.1" xref="S2.E3.m1.3.3.1.1.cmml">𝒙</mi><mo id="S2.E3.m1.4.4.2.5.2.2" xref="S2.E3.m1.4.4.2.5.1.cmml">,</mo><mi id="S2.E3.m1.4.4.2.2" xref="S2.E3.m1.4.4.2.2.cmml">𝒚</mi><mo stretchy="false" id="S2.E3.m1.4.4.2.5.2.3" xref="S2.E3.m1.4.4.2.5.1.cmml">)</mo></mrow></mrow></msub></mrow><mo id="S2.E3.m1.7.7.1.1.2" xref="S2.E3.m1.7.7.1.1.2.cmml">⁢</mo><mrow id="S2.E3.m1.7.7.1.1.1.1" xref="S2.E3.m1.7.7.1.1.1.2.cmml"><mo id="S2.E3.m1.7.7.1.1.1.1.2" xref="S2.E3.m1.7.7.1.1.1.2.1.cmml">[</mo><mrow id="S2.E3.m1.7.7.1.1.1.1.1" xref="S2.E3.m1.7.7.1.1.1.1.1.cmml"><mrow id="S2.E3.m1.7.7.1.1.1.1.1.3" xref="S2.E3.m1.7.7.1.1.1.1.1.3.cmml"><munder id="S2.E3.m1.7.7.1.1.1.1.1.3.1" xref="S2.E3.m1.7.7.1.1.1.1.1.3.1.cmml"><mi id="S2.E3.m1.7.7.1.1.1.1.1.3.1.2" xref="S2.E3.m1.7.7.1.1.1.1.1.3.1.2.cmml">max</mi><mrow id="S2.E3.m1.5.5.1" xref="S2.E3.m1.5.5.1.cmml"><msup id="S2.E3.m1.5.5.1.3" xref="S2.E3.m1.5.5.1.3.cmml"><mi id="S2.E3.m1.5.5.1.3.2" xref="S2.E3.m1.5.5.1.3.2.cmml">𝒙</mi><mo id="S2.E3.m1.5.5.1.3.3" xref="S2.E3.m1.5.5.1.3.3.cmml">′</mo></msup><mo id="S2.E3.m1.5.5.1.2" xref="S2.E3.m1.5.5.1.2.cmml">∈</mo><mrow id="S2.E3.m1.5.5.1.4" xref="S2.E3.m1.5.5.1.4.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.E3.m1.5.5.1.4.2" xref="S2.E3.m1.5.5.1.4.2.cmml">ℬ</mi><mo id="S2.E3.m1.5.5.1.4.1" xref="S2.E3.m1.5.5.1.4.1.cmml">⁢</mo><mrow id="S2.E3.m1.5.5.1.4.3.2" xref="S2.E3.m1.5.5.1.4.cmml"><mo stretchy="false" id="S2.E3.m1.5.5.1.4.3.2.1" xref="S2.E3.m1.5.5.1.4.cmml">(</mo><mi id="S2.E3.m1.5.5.1.1" xref="S2.E3.m1.5.5.1.1.cmml">𝒙</mi><mo stretchy="false" id="S2.E3.m1.5.5.1.4.3.2.2" xref="S2.E3.m1.5.5.1.4.cmml">)</mo></mrow></mrow></mrow></munder><mo lspace="0.167em" id="S2.E3.m1.7.7.1.1.1.1.1.3a" xref="S2.E3.m1.7.7.1.1.1.1.1.3.cmml">⁡</mo><mi class="ltx_font_mathcaligraphic" id="S2.E3.m1.7.7.1.1.1.1.1.3.2" xref="S2.E3.m1.7.7.1.1.1.1.1.3.2.cmml">ℒ</mi></mrow><mo id="S2.E3.m1.7.7.1.1.1.1.1.2" xref="S2.E3.m1.7.7.1.1.1.1.1.2.cmml">⁢</mo><mrow id="S2.E3.m1.7.7.1.1.1.1.1.1.1" xref="S2.E3.m1.7.7.1.1.1.1.1.1.2.cmml"><mo id="S2.E3.m1.7.7.1.1.1.1.1.1.1.2" xref="S2.E3.m1.7.7.1.1.1.1.1.1.2.cmml">(</mo><mrow id="S2.E3.m1.7.7.1.1.1.1.1.1.1.1" xref="S2.E3.m1.7.7.1.1.1.1.1.1.1.1.cmml"><msub id="S2.E3.m1.7.7.1.1.1.1.1.1.1.1.3" xref="S2.E3.m1.7.7.1.1.1.1.1.1.1.1.3.cmml"><mi id="S2.E3.m1.7.7.1.1.1.1.1.1.1.1.3.2" xref="S2.E3.m1.7.7.1.1.1.1.1.1.1.1.3.2.cmml">g</mi><mi id="S2.E3.m1.7.7.1.1.1.1.1.1.1.1.3.3" xref="S2.E3.m1.7.7.1.1.1.1.1.1.1.1.3.3.cmml">ϕ</mi></msub><mo id="S2.E3.m1.7.7.1.1.1.1.1.1.1.1.2" xref="S2.E3.m1.7.7.1.1.1.1.1.1.1.1.2.cmml">⁢</mo><mrow id="S2.E3.m1.7.7.1.1.1.1.1.1.1.1.1.1" xref="S2.E3.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.cmml"><mo id="S2.E3.m1.7.7.1.1.1.1.1.1.1.1.1.1.2" xref="S2.E3.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S2.E3.m1.7.7.1.1.1.1.1.1.1.1.1.1.1" xref="S2.E3.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.cmml"><msub id="S2.E3.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.3" xref="S2.E3.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.3.cmml"><mi id="S2.E3.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.3.2" xref="S2.E3.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.3.2.cmml">f</mi><mi id="S2.E3.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.3.3" xref="S2.E3.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.3.3.cmml">θ</mi></msub><mo id="S2.E3.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.2" xref="S2.E3.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.2.cmml">⁢</mo><mrow id="S2.E3.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="S2.E3.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mo id="S2.E3.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.2" xref="S2.E3.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">(</mo><msup id="S2.E3.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="S2.E3.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S2.E3.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2" xref="S2.E3.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">𝒙</mi><mo id="S2.E3.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="S2.E3.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml">′</mo></msup><mo id="S2.E3.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="S2.E3.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S2.E3.m1.7.7.1.1.1.1.1.1.1.1.1.1.3" xref="S2.E3.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S2.E3.m1.7.7.1.1.1.1.1.1.1.3" xref="S2.E3.m1.7.7.1.1.1.1.1.1.2.cmml">,</mo><mi id="S2.E3.m1.6.6" xref="S2.E3.m1.6.6.cmml">𝒚</mi><mo id="S2.E3.m1.7.7.1.1.1.1.1.1.1.4" xref="S2.E3.m1.7.7.1.1.1.1.1.1.2.cmml">)</mo></mrow></mrow><mo id="S2.E3.m1.7.7.1.1.1.1.3" xref="S2.E3.m1.7.7.1.1.1.2.1.cmml">]</mo></mrow></mrow><mo lspace="0em" id="S2.E3.m1.7.7.1.2" xref="S2.E3.m1.7.7.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.E3.m1.7b"><apply id="S2.E3.m1.7.7.1.1.cmml" xref="S2.E3.m1.7.7.1"><times id="S2.E3.m1.7.7.1.1.2.cmml" xref="S2.E3.m1.7.7.1.1.2"></times><apply id="S2.E3.m1.7.7.1.1.3.cmml" xref="S2.E3.m1.7.7.1.1.3"><apply id="S2.E3.m1.7.7.1.1.3.1.cmml" xref="S2.E3.m1.7.7.1.1.3.1"><csymbol cd="ambiguous" id="S2.E3.m1.7.7.1.1.3.1.1.cmml" xref="S2.E3.m1.7.7.1.1.3.1">subscript</csymbol><min id="S2.E3.m1.7.7.1.1.3.1.2.cmml" xref="S2.E3.m1.7.7.1.1.3.1.2"></min><list id="S2.E3.m1.2.2.2.3.cmml" xref="S2.E3.m1.2.2.2.4"><ci id="S2.E3.m1.1.1.1.1.cmml" xref="S2.E3.m1.1.1.1.1">italic-ϕ</ci><ci id="S2.E3.m1.2.2.2.2.cmml" xref="S2.E3.m1.2.2.2.2">𝜃</ci></list></apply><apply id="S2.E3.m1.7.7.1.1.3.2.cmml" xref="S2.E3.m1.7.7.1.1.3.2"><csymbol cd="ambiguous" id="S2.E3.m1.7.7.1.1.3.2.1.cmml" xref="S2.E3.m1.7.7.1.1.3.2">subscript</csymbol><ci id="S2.E3.m1.7.7.1.1.3.2.2.cmml" xref="S2.E3.m1.7.7.1.1.3.2.2">𝔼</ci><apply id="S2.E3.m1.4.4.2.cmml" xref="S2.E3.m1.4.4.2"><times id="S2.E3.m1.4.4.2.3.cmml" xref="S2.E3.m1.4.4.2.3"></times><apply id="S2.E3.m1.4.4.2.4.cmml" xref="S2.E3.m1.4.4.2.4"><csymbol cd="ambiguous" id="S2.E3.m1.4.4.2.4.1.cmml" xref="S2.E3.m1.4.4.2.4">subscript</csymbol><ci id="S2.E3.m1.4.4.2.4.2.cmml" xref="S2.E3.m1.4.4.2.4.2">𝑝</ci><ci id="S2.E3.m1.4.4.2.4.3a.cmml" xref="S2.E3.m1.4.4.2.4.3"><mtext mathsize="50%" id="S2.E3.m1.4.4.2.4.3.cmml" xref="S2.E3.m1.4.4.2.4.3">data </mtext></ci></apply><interval closure="open" id="S2.E3.m1.4.4.2.5.1.cmml" xref="S2.E3.m1.4.4.2.5.2"><ci id="S2.E3.m1.3.3.1.1.cmml" xref="S2.E3.m1.3.3.1.1">𝒙</ci><ci id="S2.E3.m1.4.4.2.2.cmml" xref="S2.E3.m1.4.4.2.2">𝒚</ci></interval></apply></apply></apply><apply id="S2.E3.m1.7.7.1.1.1.2.cmml" xref="S2.E3.m1.7.7.1.1.1.1"><csymbol cd="latexml" id="S2.E3.m1.7.7.1.1.1.2.1.cmml" xref="S2.E3.m1.7.7.1.1.1.1.2">delimited-[]</csymbol><apply id="S2.E3.m1.7.7.1.1.1.1.1.cmml" xref="S2.E3.m1.7.7.1.1.1.1.1"><times id="S2.E3.m1.7.7.1.1.1.1.1.2.cmml" xref="S2.E3.m1.7.7.1.1.1.1.1.2"></times><apply id="S2.E3.m1.7.7.1.1.1.1.1.3.cmml" xref="S2.E3.m1.7.7.1.1.1.1.1.3"><apply id="S2.E3.m1.7.7.1.1.1.1.1.3.1.cmml" xref="S2.E3.m1.7.7.1.1.1.1.1.3.1"><csymbol cd="ambiguous" id="S2.E3.m1.7.7.1.1.1.1.1.3.1.1.cmml" xref="S2.E3.m1.7.7.1.1.1.1.1.3.1">subscript</csymbol><max id="S2.E3.m1.7.7.1.1.1.1.1.3.1.2.cmml" xref="S2.E3.m1.7.7.1.1.1.1.1.3.1.2"></max><apply id="S2.E3.m1.5.5.1.cmml" xref="S2.E3.m1.5.5.1"><in id="S2.E3.m1.5.5.1.2.cmml" xref="S2.E3.m1.5.5.1.2"></in><apply id="S2.E3.m1.5.5.1.3.cmml" xref="S2.E3.m1.5.5.1.3"><csymbol cd="ambiguous" id="S2.E3.m1.5.5.1.3.1.cmml" xref="S2.E3.m1.5.5.1.3">superscript</csymbol><ci id="S2.E3.m1.5.5.1.3.2.cmml" xref="S2.E3.m1.5.5.1.3.2">𝒙</ci><ci id="S2.E3.m1.5.5.1.3.3.cmml" xref="S2.E3.m1.5.5.1.3.3">′</ci></apply><apply id="S2.E3.m1.5.5.1.4.cmml" xref="S2.E3.m1.5.5.1.4"><times id="S2.E3.m1.5.5.1.4.1.cmml" xref="S2.E3.m1.5.5.1.4.1"></times><ci id="S2.E3.m1.5.5.1.4.2.cmml" xref="S2.E3.m1.5.5.1.4.2">ℬ</ci><ci id="S2.E3.m1.5.5.1.1.cmml" xref="S2.E3.m1.5.5.1.1">𝒙</ci></apply></apply></apply><ci id="S2.E3.m1.7.7.1.1.1.1.1.3.2.cmml" xref="S2.E3.m1.7.7.1.1.1.1.1.3.2">ℒ</ci></apply><interval closure="open" id="S2.E3.m1.7.7.1.1.1.1.1.1.2.cmml" xref="S2.E3.m1.7.7.1.1.1.1.1.1.1"><apply id="S2.E3.m1.7.7.1.1.1.1.1.1.1.1.cmml" xref="S2.E3.m1.7.7.1.1.1.1.1.1.1.1"><times id="S2.E3.m1.7.7.1.1.1.1.1.1.1.1.2.cmml" xref="S2.E3.m1.7.7.1.1.1.1.1.1.1.1.2"></times><apply id="S2.E3.m1.7.7.1.1.1.1.1.1.1.1.3.cmml" xref="S2.E3.m1.7.7.1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S2.E3.m1.7.7.1.1.1.1.1.1.1.1.3.1.cmml" xref="S2.E3.m1.7.7.1.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S2.E3.m1.7.7.1.1.1.1.1.1.1.1.3.2.cmml" xref="S2.E3.m1.7.7.1.1.1.1.1.1.1.1.3.2">𝑔</ci><ci id="S2.E3.m1.7.7.1.1.1.1.1.1.1.1.3.3.cmml" xref="S2.E3.m1.7.7.1.1.1.1.1.1.1.1.3.3">italic-ϕ</ci></apply><apply id="S2.E3.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S2.E3.m1.7.7.1.1.1.1.1.1.1.1.1.1"><times id="S2.E3.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S2.E3.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.2"></times><apply id="S2.E3.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S2.E3.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S2.E3.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S2.E3.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S2.E3.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.3.2.cmml" xref="S2.E3.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.3.2">𝑓</ci><ci id="S2.E3.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.3.3.cmml" xref="S2.E3.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.3.3">𝜃</ci></apply><apply id="S2.E3.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S2.E3.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.E3.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S2.E3.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1">superscript</csymbol><ci id="S2.E3.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S2.E3.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2">𝒙</ci><ci id="S2.E3.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S2.E3.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3">′</ci></apply></apply></apply><ci id="S2.E3.m1.6.6.cmml" xref="S2.E3.m1.6.6">𝒚</ci></interval></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E3.m1.7c">\min_{\phi,\theta}\mathbb{E}_{p_{\text{data }}({\bm{x}},{\bm{y}})}\left[\max_{{\bm{x}}^{\prime}\in\mathcal{B}({\bm{x}})}\mathcal{L}\left(g_{\phi}\left(f_{\theta}\left({\bm{x}}^{\prime}\right)\right),{\bm{y}}\right)\right].</annotation><annotation encoding="application/x-llamapun" id="S2.E3.m1.7d">roman_min start_POSTSUBSCRIPT italic_ϕ , italic_θ end_POSTSUBSCRIPT blackboard_E start_POSTSUBSCRIPT italic_p start_POSTSUBSCRIPT data end_POSTSUBSCRIPT ( bold_italic_x , bold_italic_y ) end_POSTSUBSCRIPT [ roman_max start_POSTSUBSCRIPT bold_italic_x start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT ∈ caligraphic_B ( bold_italic_x ) end_POSTSUBSCRIPT caligraphic_L ( italic_g start_POSTSUBSCRIPT italic_ϕ end_POSTSUBSCRIPT ( italic_f start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT ( bold_italic_x start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT ) ) , bold_italic_y ) ] .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(3)</span></td>
</tr></tbody>
</table>
<p id="S2.SS0.SSS0.Px2.p1.3" class="ltx_p">An average over recognized types of adversarial attacks or an average over stochastically altered inputs can be used to approximate the maximum over the threat model <math id="S2.SS0.SSS0.Px2.p1.2.m1.1" class="ltx_Math" alttext="\mathcal{B}({\bm{x}})" display="inline"><semantics id="S2.SS0.SSS0.Px2.p1.2.m1.1a"><mrow id="S2.SS0.SSS0.Px2.p1.2.m1.1.2" xref="S2.SS0.SSS0.Px2.p1.2.m1.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.SS0.SSS0.Px2.p1.2.m1.1.2.2" xref="S2.SS0.SSS0.Px2.p1.2.m1.1.2.2.cmml">ℬ</mi><mo id="S2.SS0.SSS0.Px2.p1.2.m1.1.2.1" xref="S2.SS0.SSS0.Px2.p1.2.m1.1.2.1.cmml">⁢</mo><mrow id="S2.SS0.SSS0.Px2.p1.2.m1.1.2.3.2" xref="S2.SS0.SSS0.Px2.p1.2.m1.1.2.cmml"><mo stretchy="false" id="S2.SS0.SSS0.Px2.p1.2.m1.1.2.3.2.1" xref="S2.SS0.SSS0.Px2.p1.2.m1.1.2.cmml">(</mo><mi id="S2.SS0.SSS0.Px2.p1.2.m1.1.1" xref="S2.SS0.SSS0.Px2.p1.2.m1.1.1.cmml">𝒙</mi><mo stretchy="false" id="S2.SS0.SSS0.Px2.p1.2.m1.1.2.3.2.2" xref="S2.SS0.SSS0.Px2.p1.2.m1.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px2.p1.2.m1.1b"><apply id="S2.SS0.SSS0.Px2.p1.2.m1.1.2.cmml" xref="S2.SS0.SSS0.Px2.p1.2.m1.1.2"><times id="S2.SS0.SSS0.Px2.p1.2.m1.1.2.1.cmml" xref="S2.SS0.SSS0.Px2.p1.2.m1.1.2.1"></times><ci id="S2.SS0.SSS0.Px2.p1.2.m1.1.2.2.cmml" xref="S2.SS0.SSS0.Px2.p1.2.m1.1.2.2">ℬ</ci><ci id="S2.SS0.SSS0.Px2.p1.2.m1.1.1.cmml" xref="S2.SS0.SSS0.Px2.p1.2.m1.1.1">𝒙</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px2.p1.2.m1.1c">\mathcal{B}({\bm{x}})</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px2.p1.2.m1.1d">caligraphic_B ( bold_italic_x )</annotation></semantics></math>. Adding stochasticity to the input images, as well as discontinuous or non-differentiable transforms (<cite class="ltx_cite ltx_citemacro_citet">Guo et al. (<a href="#bib.bib13" title="" class="ltx_ref">2018</a>)</cite>;<cite class="ltx_cite ltx_citemacro_citet">Dhillon et al. (<a href="#bib.bib7" title="" class="ltx_ref">2018</a>)</cite>;<cite class="ltx_cite ltx_citemacro_citet">Buckman et al. (<a href="#bib.bib3" title="" class="ltx_ref">2018</a>)</cite>;<cite class="ltx_cite ltx_citemacro_citet">Xiao et al. (<a href="#bib.bib35" title="" class="ltx_ref">2020</a>)</cite>), makes gradient estimation concerning the loss function <math id="S2.SS0.SSS0.Px2.p1.3.m2.2" class="ltx_Math" alttext="\nabla_{\bm{x}}\mathcal{L}\left(g_{\phi}\left(f_{\theta}\left({\bm{x}}^{\prime}\right)\right),{\bm{y}}\right)" display="inline"><semantics id="S2.SS0.SSS0.Px2.p1.3.m2.2a"><mrow id="S2.SS0.SSS0.Px2.p1.3.m2.2.2" xref="S2.SS0.SSS0.Px2.p1.3.m2.2.2.cmml"><mrow id="S2.SS0.SSS0.Px2.p1.3.m2.2.2.3" xref="S2.SS0.SSS0.Px2.p1.3.m2.2.2.3.cmml"><msub id="S2.SS0.SSS0.Px2.p1.3.m2.2.2.3.1" xref="S2.SS0.SSS0.Px2.p1.3.m2.2.2.3.1.cmml"><mo id="S2.SS0.SSS0.Px2.p1.3.m2.2.2.3.1.2" xref="S2.SS0.SSS0.Px2.p1.3.m2.2.2.3.1.2.cmml">∇</mo><mi id="S2.SS0.SSS0.Px2.p1.3.m2.2.2.3.1.3" xref="S2.SS0.SSS0.Px2.p1.3.m2.2.2.3.1.3.cmml">𝒙</mi></msub><mi class="ltx_font_mathcaligraphic" id="S2.SS0.SSS0.Px2.p1.3.m2.2.2.3.2" xref="S2.SS0.SSS0.Px2.p1.3.m2.2.2.3.2.cmml">ℒ</mi></mrow><mo id="S2.SS0.SSS0.Px2.p1.3.m2.2.2.2" xref="S2.SS0.SSS0.Px2.p1.3.m2.2.2.2.cmml">⁢</mo><mrow id="S2.SS0.SSS0.Px2.p1.3.m2.2.2.1.1" xref="S2.SS0.SSS0.Px2.p1.3.m2.2.2.1.2.cmml"><mo id="S2.SS0.SSS0.Px2.p1.3.m2.2.2.1.1.2" xref="S2.SS0.SSS0.Px2.p1.3.m2.2.2.1.2.cmml">(</mo><mrow id="S2.SS0.SSS0.Px2.p1.3.m2.2.2.1.1.1" xref="S2.SS0.SSS0.Px2.p1.3.m2.2.2.1.1.1.cmml"><msub id="S2.SS0.SSS0.Px2.p1.3.m2.2.2.1.1.1.3" xref="S2.SS0.SSS0.Px2.p1.3.m2.2.2.1.1.1.3.cmml"><mi id="S2.SS0.SSS0.Px2.p1.3.m2.2.2.1.1.1.3.2" xref="S2.SS0.SSS0.Px2.p1.3.m2.2.2.1.1.1.3.2.cmml">g</mi><mi id="S2.SS0.SSS0.Px2.p1.3.m2.2.2.1.1.1.3.3" xref="S2.SS0.SSS0.Px2.p1.3.m2.2.2.1.1.1.3.3.cmml">ϕ</mi></msub><mo id="S2.SS0.SSS0.Px2.p1.3.m2.2.2.1.1.1.2" xref="S2.SS0.SSS0.Px2.p1.3.m2.2.2.1.1.1.2.cmml">⁢</mo><mrow id="S2.SS0.SSS0.Px2.p1.3.m2.2.2.1.1.1.1.1" xref="S2.SS0.SSS0.Px2.p1.3.m2.2.2.1.1.1.1.1.1.cmml"><mo id="S2.SS0.SSS0.Px2.p1.3.m2.2.2.1.1.1.1.1.2" xref="S2.SS0.SSS0.Px2.p1.3.m2.2.2.1.1.1.1.1.1.cmml">(</mo><mrow id="S2.SS0.SSS0.Px2.p1.3.m2.2.2.1.1.1.1.1.1" xref="S2.SS0.SSS0.Px2.p1.3.m2.2.2.1.1.1.1.1.1.cmml"><msub id="S2.SS0.SSS0.Px2.p1.3.m2.2.2.1.1.1.1.1.1.3" xref="S2.SS0.SSS0.Px2.p1.3.m2.2.2.1.1.1.1.1.1.3.cmml"><mi id="S2.SS0.SSS0.Px2.p1.3.m2.2.2.1.1.1.1.1.1.3.2" xref="S2.SS0.SSS0.Px2.p1.3.m2.2.2.1.1.1.1.1.1.3.2.cmml">f</mi><mi id="S2.SS0.SSS0.Px2.p1.3.m2.2.2.1.1.1.1.1.1.3.3" xref="S2.SS0.SSS0.Px2.p1.3.m2.2.2.1.1.1.1.1.1.3.3.cmml">θ</mi></msub><mo id="S2.SS0.SSS0.Px2.p1.3.m2.2.2.1.1.1.1.1.1.2" xref="S2.SS0.SSS0.Px2.p1.3.m2.2.2.1.1.1.1.1.1.2.cmml">⁢</mo><mrow id="S2.SS0.SSS0.Px2.p1.3.m2.2.2.1.1.1.1.1.1.1.1" xref="S2.SS0.SSS0.Px2.p1.3.m2.2.2.1.1.1.1.1.1.1.1.1.cmml"><mo id="S2.SS0.SSS0.Px2.p1.3.m2.2.2.1.1.1.1.1.1.1.1.2" xref="S2.SS0.SSS0.Px2.p1.3.m2.2.2.1.1.1.1.1.1.1.1.1.cmml">(</mo><msup id="S2.SS0.SSS0.Px2.p1.3.m2.2.2.1.1.1.1.1.1.1.1.1" xref="S2.SS0.SSS0.Px2.p1.3.m2.2.2.1.1.1.1.1.1.1.1.1.cmml"><mi id="S2.SS0.SSS0.Px2.p1.3.m2.2.2.1.1.1.1.1.1.1.1.1.2" xref="S2.SS0.SSS0.Px2.p1.3.m2.2.2.1.1.1.1.1.1.1.1.1.2.cmml">𝒙</mi><mo id="S2.SS0.SSS0.Px2.p1.3.m2.2.2.1.1.1.1.1.1.1.1.1.3" xref="S2.SS0.SSS0.Px2.p1.3.m2.2.2.1.1.1.1.1.1.1.1.1.3.cmml">′</mo></msup><mo id="S2.SS0.SSS0.Px2.p1.3.m2.2.2.1.1.1.1.1.1.1.1.3" xref="S2.SS0.SSS0.Px2.p1.3.m2.2.2.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S2.SS0.SSS0.Px2.p1.3.m2.2.2.1.1.1.1.1.3" xref="S2.SS0.SSS0.Px2.p1.3.m2.2.2.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S2.SS0.SSS0.Px2.p1.3.m2.2.2.1.1.3" xref="S2.SS0.SSS0.Px2.p1.3.m2.2.2.1.2.cmml">,</mo><mi id="S2.SS0.SSS0.Px2.p1.3.m2.1.1" xref="S2.SS0.SSS0.Px2.p1.3.m2.1.1.cmml">𝒚</mi><mo id="S2.SS0.SSS0.Px2.p1.3.m2.2.2.1.1.4" xref="S2.SS0.SSS0.Px2.p1.3.m2.2.2.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px2.p1.3.m2.2b"><apply id="S2.SS0.SSS0.Px2.p1.3.m2.2.2.cmml" xref="S2.SS0.SSS0.Px2.p1.3.m2.2.2"><times id="S2.SS0.SSS0.Px2.p1.3.m2.2.2.2.cmml" xref="S2.SS0.SSS0.Px2.p1.3.m2.2.2.2"></times><apply id="S2.SS0.SSS0.Px2.p1.3.m2.2.2.3.cmml" xref="S2.SS0.SSS0.Px2.p1.3.m2.2.2.3"><apply id="S2.SS0.SSS0.Px2.p1.3.m2.2.2.3.1.cmml" xref="S2.SS0.SSS0.Px2.p1.3.m2.2.2.3.1"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px2.p1.3.m2.2.2.3.1.1.cmml" xref="S2.SS0.SSS0.Px2.p1.3.m2.2.2.3.1">subscript</csymbol><ci id="S2.SS0.SSS0.Px2.p1.3.m2.2.2.3.1.2.cmml" xref="S2.SS0.SSS0.Px2.p1.3.m2.2.2.3.1.2">∇</ci><ci id="S2.SS0.SSS0.Px2.p1.3.m2.2.2.3.1.3.cmml" xref="S2.SS0.SSS0.Px2.p1.3.m2.2.2.3.1.3">𝒙</ci></apply><ci id="S2.SS0.SSS0.Px2.p1.3.m2.2.2.3.2.cmml" xref="S2.SS0.SSS0.Px2.p1.3.m2.2.2.3.2">ℒ</ci></apply><interval closure="open" id="S2.SS0.SSS0.Px2.p1.3.m2.2.2.1.2.cmml" xref="S2.SS0.SSS0.Px2.p1.3.m2.2.2.1.1"><apply id="S2.SS0.SSS0.Px2.p1.3.m2.2.2.1.1.1.cmml" xref="S2.SS0.SSS0.Px2.p1.3.m2.2.2.1.1.1"><times id="S2.SS0.SSS0.Px2.p1.3.m2.2.2.1.1.1.2.cmml" xref="S2.SS0.SSS0.Px2.p1.3.m2.2.2.1.1.1.2"></times><apply id="S2.SS0.SSS0.Px2.p1.3.m2.2.2.1.1.1.3.cmml" xref="S2.SS0.SSS0.Px2.p1.3.m2.2.2.1.1.1.3"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px2.p1.3.m2.2.2.1.1.1.3.1.cmml" xref="S2.SS0.SSS0.Px2.p1.3.m2.2.2.1.1.1.3">subscript</csymbol><ci id="S2.SS0.SSS0.Px2.p1.3.m2.2.2.1.1.1.3.2.cmml" xref="S2.SS0.SSS0.Px2.p1.3.m2.2.2.1.1.1.3.2">𝑔</ci><ci id="S2.SS0.SSS0.Px2.p1.3.m2.2.2.1.1.1.3.3.cmml" xref="S2.SS0.SSS0.Px2.p1.3.m2.2.2.1.1.1.3.3">italic-ϕ</ci></apply><apply id="S2.SS0.SSS0.Px2.p1.3.m2.2.2.1.1.1.1.1.1.cmml" xref="S2.SS0.SSS0.Px2.p1.3.m2.2.2.1.1.1.1.1"><times id="S2.SS0.SSS0.Px2.p1.3.m2.2.2.1.1.1.1.1.1.2.cmml" xref="S2.SS0.SSS0.Px2.p1.3.m2.2.2.1.1.1.1.1.1.2"></times><apply id="S2.SS0.SSS0.Px2.p1.3.m2.2.2.1.1.1.1.1.1.3.cmml" xref="S2.SS0.SSS0.Px2.p1.3.m2.2.2.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px2.p1.3.m2.2.2.1.1.1.1.1.1.3.1.cmml" xref="S2.SS0.SSS0.Px2.p1.3.m2.2.2.1.1.1.1.1.1.3">subscript</csymbol><ci id="S2.SS0.SSS0.Px2.p1.3.m2.2.2.1.1.1.1.1.1.3.2.cmml" xref="S2.SS0.SSS0.Px2.p1.3.m2.2.2.1.1.1.1.1.1.3.2">𝑓</ci><ci id="S2.SS0.SSS0.Px2.p1.3.m2.2.2.1.1.1.1.1.1.3.3.cmml" xref="S2.SS0.SSS0.Px2.p1.3.m2.2.2.1.1.1.1.1.1.3.3">𝜃</ci></apply><apply id="S2.SS0.SSS0.Px2.p1.3.m2.2.2.1.1.1.1.1.1.1.1.1.cmml" xref="S2.SS0.SSS0.Px2.p1.3.m2.2.2.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px2.p1.3.m2.2.2.1.1.1.1.1.1.1.1.1.1.cmml" xref="S2.SS0.SSS0.Px2.p1.3.m2.2.2.1.1.1.1.1.1.1.1">superscript</csymbol><ci id="S2.SS0.SSS0.Px2.p1.3.m2.2.2.1.1.1.1.1.1.1.1.1.2.cmml" xref="S2.SS0.SSS0.Px2.p1.3.m2.2.2.1.1.1.1.1.1.1.1.1.2">𝒙</ci><ci id="S2.SS0.SSS0.Px2.p1.3.m2.2.2.1.1.1.1.1.1.1.1.1.3.cmml" xref="S2.SS0.SSS0.Px2.p1.3.m2.2.2.1.1.1.1.1.1.1.1.1.3">′</ci></apply></apply></apply><ci id="S2.SS0.SSS0.Px2.p1.3.m2.1.1.cmml" xref="S2.SS0.SSS0.Px2.p1.3.m2.1.1">𝒚</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px2.p1.3.m2.2c">\nabla_{\bm{x}}\mathcal{L}\left(g_{\phi}\left(f_{\theta}\left({\bm{x}}^{\prime}\right)\right),{\bm{y}}\right)</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px2.p1.3.m2.2d">∇ start_POSTSUBSCRIPT bold_italic_x end_POSTSUBSCRIPT caligraphic_L ( italic_g start_POSTSUBSCRIPT italic_ϕ end_POSTSUBSCRIPT ( italic_f start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT ( bold_italic_x start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT ) ) , bold_italic_y )</annotation></semantics></math> harder to attack.</p>
</div>
</section>
<section id="S2.SS0.SSS0.Px3" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Adversarial purification.</h4>

<div id="S2.SS0.SSS0.Px3.p1" class="ltx_para">
<p id="S2.SS0.SSS0.Px3.p1.1" class="ltx_p">Finally, the adversarial purification is one of the Prepossessing methods.
A generative model that can restore clean images from attacked images is trained and used as a preprocessor in adversarial purification (<cite class="ltx_cite ltx_citemacro_citet">Samangouei et al. (<a href="#bib.bib24" title="" class="ltx_ref">2018</a>)</cite>;<cite class="ltx_cite ltx_citemacro_citet">Song et al. (<a href="#bib.bib30" title="" class="ltx_ref">2018</a>)</cite>; <cite class="ltx_cite ltx_citemacro_citet">Srinivasan et al. (<a href="#bib.bib31" title="" class="ltx_ref">2021</a>)</cite>;<cite class="ltx_cite ltx_citemacro_citet">Ghosh et al. (<a href="#bib.bib9" title="" class="ltx_ref">2019</a>)</cite>; <cite class="ltx_cite ltx_citemacro_citet">Hill et al. (<a href="#bib.bib15" title="" class="ltx_ref">2021</a>)</cite>; <cite class="ltx_cite ltx_citemacro_citet">Shi et al. (<a href="#bib.bib26" title="" class="ltx_ref">2021</a>)</cite>;<cite class="ltx_cite ltx_citemacro_citet">Yoon et al. (<a href="#bib.bib38" title="" class="ltx_ref">2021</a>)</cite>), where the preprocessor <math id="S2.SS0.SSS0.Px3.p1.1.m1.1" class="ltx_Math" alttext="f" display="inline"><semantics id="S2.SS0.SSS0.Px3.p1.1.m1.1a"><mi id="S2.SS0.SSS0.Px3.p1.1.m1.1.1" xref="S2.SS0.SSS0.Px3.p1.1.m1.1.1.cmml">f</mi><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px3.p1.1.m1.1b"><ci id="S2.SS0.SSS0.Px3.p1.1.m1.1.1.cmml" xref="S2.SS0.SSS0.Px3.p1.1.m1.1.1">𝑓</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px3.p1.1.m1.1c">f</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px3.p1.1.m1.1d">italic_f</annotation></semantics></math> corresponds to the purification.</p>
</div>
<div id="S2.SS0.SSS0.Px3.p2" class="ltx_para">
<p id="S2.SS0.SSS0.Px3.p2.1" class="ltx_p"><cite class="ltx_cite ltx_citemacro_citet">Samangouei et al. (<a href="#bib.bib24" title="" class="ltx_ref">2018</a>)</cite> proposed defense-GAN, a generator that can restore clean images from attacked images. <cite class="ltx_cite ltx_citemacro_citet">Song et al. (<a href="#bib.bib30" title="" class="ltx_ref">2018</a>)</cite> revealed how to detect and purify adversarial samples using an autoregressive generative model. <cite class="ltx_cite ltx_citemacro_citet">Srinivasan et al. (<a href="#bib.bib31" title="" class="ltx_ref">2021</a>)</cite> presented a purification approach for denoising autoencoders using the Metropolis Adjusted Langevin algorithm (MALA).<cite class="ltx_cite ltx_citemacro_citet">Grathwohl et al. (<a href="#bib.bib12" title="" class="ltx_ref">2020</a>)</cite>,<cite class="ltx_cite ltx_citemacro_citet">Du &amp; Mordatch (<a href="#bib.bib8" title="" class="ltx_ref">2019</a>)</cite> and <cite class="ltx_cite ltx_citemacro_citet">Hill et al. (<a href="#bib.bib15" title="" class="ltx_ref">2021</a>)</cite> proposed and demonstrated that MCMC wich EBMs can purify adversarial examples. Similarly, <cite class="ltx_cite ltx_citemacro_citet">Yoon et al. (<a href="#bib.bib38" title="" class="ltx_ref">2021</a>)</cite> used the denoising score-based model for purification.</p>
</div>
</section>
</section>
<section id="S3" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3 </span>Background of DDPM</h2>

<section id="S3.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.1 </span>DDPM </h3>

<div id="S3.SS1.p1" class="ltx_para">
<p id="S3.SS1.p1.5" class="ltx_p">Assume <math id="S3.SS1.p1.1.m1.1" class="ltx_Math" alttext="p_{\rm{data}}" display="inline"><semantics id="S3.SS1.p1.1.m1.1a"><msub id="S3.SS1.p1.1.m1.1.1" xref="S3.SS1.p1.1.m1.1.1.cmml"><mi id="S3.SS1.p1.1.m1.1.1.2" xref="S3.SS1.p1.1.m1.1.1.2.cmml">p</mi><mi id="S3.SS1.p1.1.m1.1.1.3" xref="S3.SS1.p1.1.m1.1.1.3.cmml">data</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.1.m1.1b"><apply id="S3.SS1.p1.1.m1.1.1.cmml" xref="S3.SS1.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.1.m1.1.1.1.cmml" xref="S3.SS1.p1.1.m1.1.1">subscript</csymbol><ci id="S3.SS1.p1.1.m1.1.1.2.cmml" xref="S3.SS1.p1.1.m1.1.1.2">𝑝</ci><ci id="S3.SS1.p1.1.m1.1.1.3.cmml" xref="S3.SS1.p1.1.m1.1.1.3">data</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.1.m1.1c">p_{\rm{data}}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.1.m1.1d">italic_p start_POSTSUBSCRIPT roman_data end_POSTSUBSCRIPT</annotation></semantics></math> is the distribution of all images <math id="S3.SS1.p1.2.m2.1" class="ltx_Math" alttext="{\bm{x}}" display="inline"><semantics id="S3.SS1.p1.2.m2.1a"><mi id="S3.SS1.p1.2.m2.1.1" xref="S3.SS1.p1.2.m2.1.1.cmml">𝒙</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.2.m2.1b"><ci id="S3.SS1.p1.2.m2.1.1.cmml" xref="S3.SS1.p1.2.m2.1.1">𝒙</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.2.m2.1c">{\bm{x}}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.2.m2.1d">bold_italic_x</annotation></semantics></math> in the dataset, and <math id="S3.SS1.p1.3.m3.2" class="ltx_Math" alttext="p_{\rm{latent}}={\mathcal{N}}(\bm{0}_{3N},{\bm{I}}_{3N\times 3N})" display="inline"><semantics id="S3.SS1.p1.3.m3.2a"><mrow id="S3.SS1.p1.3.m3.2.2" xref="S3.SS1.p1.3.m3.2.2.cmml"><msub id="S3.SS1.p1.3.m3.2.2.4" xref="S3.SS1.p1.3.m3.2.2.4.cmml"><mi id="S3.SS1.p1.3.m3.2.2.4.2" xref="S3.SS1.p1.3.m3.2.2.4.2.cmml">p</mi><mi id="S3.SS1.p1.3.m3.2.2.4.3" xref="S3.SS1.p1.3.m3.2.2.4.3.cmml">latent</mi></msub><mo id="S3.SS1.p1.3.m3.2.2.3" xref="S3.SS1.p1.3.m3.2.2.3.cmml">=</mo><mrow id="S3.SS1.p1.3.m3.2.2.2" xref="S3.SS1.p1.3.m3.2.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.3.m3.2.2.2.4" xref="S3.SS1.p1.3.m3.2.2.2.4.cmml">𝒩</mi><mo id="S3.SS1.p1.3.m3.2.2.2.3" xref="S3.SS1.p1.3.m3.2.2.2.3.cmml">⁢</mo><mrow id="S3.SS1.p1.3.m3.2.2.2.2.2" xref="S3.SS1.p1.3.m3.2.2.2.2.3.cmml"><mo stretchy="false" id="S3.SS1.p1.3.m3.2.2.2.2.2.3" xref="S3.SS1.p1.3.m3.2.2.2.2.3.cmml">(</mo><msub id="S3.SS1.p1.3.m3.1.1.1.1.1.1" xref="S3.SS1.p1.3.m3.1.1.1.1.1.1.cmml"><mn id="S3.SS1.p1.3.m3.1.1.1.1.1.1.2" xref="S3.SS1.p1.3.m3.1.1.1.1.1.1.2.cmml">𝟎</mn><mrow id="S3.SS1.p1.3.m3.1.1.1.1.1.1.3" xref="S3.SS1.p1.3.m3.1.1.1.1.1.1.3.cmml"><mn id="S3.SS1.p1.3.m3.1.1.1.1.1.1.3.2" xref="S3.SS1.p1.3.m3.1.1.1.1.1.1.3.2.cmml">3</mn><mo id="S3.SS1.p1.3.m3.1.1.1.1.1.1.3.1" xref="S3.SS1.p1.3.m3.1.1.1.1.1.1.3.1.cmml">⁢</mo><mi id="S3.SS1.p1.3.m3.1.1.1.1.1.1.3.3" xref="S3.SS1.p1.3.m3.1.1.1.1.1.1.3.3.cmml">N</mi></mrow></msub><mo id="S3.SS1.p1.3.m3.2.2.2.2.2.4" xref="S3.SS1.p1.3.m3.2.2.2.2.3.cmml">,</mo><msub id="S3.SS1.p1.3.m3.2.2.2.2.2.2" xref="S3.SS1.p1.3.m3.2.2.2.2.2.2.cmml"><mi id="S3.SS1.p1.3.m3.2.2.2.2.2.2.2" xref="S3.SS1.p1.3.m3.2.2.2.2.2.2.2.cmml">𝑰</mi><mrow id="S3.SS1.p1.3.m3.2.2.2.2.2.2.3" xref="S3.SS1.p1.3.m3.2.2.2.2.2.2.3.cmml"><mrow id="S3.SS1.p1.3.m3.2.2.2.2.2.2.3.2" xref="S3.SS1.p1.3.m3.2.2.2.2.2.2.3.2.cmml"><mrow id="S3.SS1.p1.3.m3.2.2.2.2.2.2.3.2.2" xref="S3.SS1.p1.3.m3.2.2.2.2.2.2.3.2.2.cmml"><mn id="S3.SS1.p1.3.m3.2.2.2.2.2.2.3.2.2.2" xref="S3.SS1.p1.3.m3.2.2.2.2.2.2.3.2.2.2.cmml">3</mn><mo id="S3.SS1.p1.3.m3.2.2.2.2.2.2.3.2.2.1" xref="S3.SS1.p1.3.m3.2.2.2.2.2.2.3.2.2.1.cmml">⁢</mo><mi id="S3.SS1.p1.3.m3.2.2.2.2.2.2.3.2.2.3" xref="S3.SS1.p1.3.m3.2.2.2.2.2.2.3.2.2.3.cmml">N</mi></mrow><mo lspace="0.222em" rspace="0.222em" id="S3.SS1.p1.3.m3.2.2.2.2.2.2.3.2.1" xref="S3.SS1.p1.3.m3.2.2.2.2.2.2.3.2.1.cmml">×</mo><mn id="S3.SS1.p1.3.m3.2.2.2.2.2.2.3.2.3" xref="S3.SS1.p1.3.m3.2.2.2.2.2.2.3.2.3.cmml">3</mn></mrow><mo id="S3.SS1.p1.3.m3.2.2.2.2.2.2.3.1" xref="S3.SS1.p1.3.m3.2.2.2.2.2.2.3.1.cmml">⁢</mo><mi id="S3.SS1.p1.3.m3.2.2.2.2.2.2.3.3" xref="S3.SS1.p1.3.m3.2.2.2.2.2.2.3.3.cmml">N</mi></mrow></msub><mo stretchy="false" id="S3.SS1.p1.3.m3.2.2.2.2.2.5" xref="S3.SS1.p1.3.m3.2.2.2.2.3.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.3.m3.2b"><apply id="S3.SS1.p1.3.m3.2.2.cmml" xref="S3.SS1.p1.3.m3.2.2"><eq id="S3.SS1.p1.3.m3.2.2.3.cmml" xref="S3.SS1.p1.3.m3.2.2.3"></eq><apply id="S3.SS1.p1.3.m3.2.2.4.cmml" xref="S3.SS1.p1.3.m3.2.2.4"><csymbol cd="ambiguous" id="S3.SS1.p1.3.m3.2.2.4.1.cmml" xref="S3.SS1.p1.3.m3.2.2.4">subscript</csymbol><ci id="S3.SS1.p1.3.m3.2.2.4.2.cmml" xref="S3.SS1.p1.3.m3.2.2.4.2">𝑝</ci><ci id="S3.SS1.p1.3.m3.2.2.4.3.cmml" xref="S3.SS1.p1.3.m3.2.2.4.3">latent</ci></apply><apply id="S3.SS1.p1.3.m3.2.2.2.cmml" xref="S3.SS1.p1.3.m3.2.2.2"><times id="S3.SS1.p1.3.m3.2.2.2.3.cmml" xref="S3.SS1.p1.3.m3.2.2.2.3"></times><ci id="S3.SS1.p1.3.m3.2.2.2.4.cmml" xref="S3.SS1.p1.3.m3.2.2.2.4">𝒩</ci><interval closure="open" id="S3.SS1.p1.3.m3.2.2.2.2.3.cmml" xref="S3.SS1.p1.3.m3.2.2.2.2.2"><apply id="S3.SS1.p1.3.m3.1.1.1.1.1.1.cmml" xref="S3.SS1.p1.3.m3.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.3.m3.1.1.1.1.1.1.1.cmml" xref="S3.SS1.p1.3.m3.1.1.1.1.1.1">subscript</csymbol><cn type="integer" id="S3.SS1.p1.3.m3.1.1.1.1.1.1.2.cmml" xref="S3.SS1.p1.3.m3.1.1.1.1.1.1.2">0</cn><apply id="S3.SS1.p1.3.m3.1.1.1.1.1.1.3.cmml" xref="S3.SS1.p1.3.m3.1.1.1.1.1.1.3"><times id="S3.SS1.p1.3.m3.1.1.1.1.1.1.3.1.cmml" xref="S3.SS1.p1.3.m3.1.1.1.1.1.1.3.1"></times><cn type="integer" id="S3.SS1.p1.3.m3.1.1.1.1.1.1.3.2.cmml" xref="S3.SS1.p1.3.m3.1.1.1.1.1.1.3.2">3</cn><ci id="S3.SS1.p1.3.m3.1.1.1.1.1.1.3.3.cmml" xref="S3.SS1.p1.3.m3.1.1.1.1.1.1.3.3">𝑁</ci></apply></apply><apply id="S3.SS1.p1.3.m3.2.2.2.2.2.2.cmml" xref="S3.SS1.p1.3.m3.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS1.p1.3.m3.2.2.2.2.2.2.1.cmml" xref="S3.SS1.p1.3.m3.2.2.2.2.2.2">subscript</csymbol><ci id="S3.SS1.p1.3.m3.2.2.2.2.2.2.2.cmml" xref="S3.SS1.p1.3.m3.2.2.2.2.2.2.2">𝑰</ci><apply id="S3.SS1.p1.3.m3.2.2.2.2.2.2.3.cmml" xref="S3.SS1.p1.3.m3.2.2.2.2.2.2.3"><times id="S3.SS1.p1.3.m3.2.2.2.2.2.2.3.1.cmml" xref="S3.SS1.p1.3.m3.2.2.2.2.2.2.3.1"></times><apply id="S3.SS1.p1.3.m3.2.2.2.2.2.2.3.2.cmml" xref="S3.SS1.p1.3.m3.2.2.2.2.2.2.3.2"><times id="S3.SS1.p1.3.m3.2.2.2.2.2.2.3.2.1.cmml" xref="S3.SS1.p1.3.m3.2.2.2.2.2.2.3.2.1"></times><apply id="S3.SS1.p1.3.m3.2.2.2.2.2.2.3.2.2.cmml" xref="S3.SS1.p1.3.m3.2.2.2.2.2.2.3.2.2"><times id="S3.SS1.p1.3.m3.2.2.2.2.2.2.3.2.2.1.cmml" xref="S3.SS1.p1.3.m3.2.2.2.2.2.2.3.2.2.1"></times><cn type="integer" id="S3.SS1.p1.3.m3.2.2.2.2.2.2.3.2.2.2.cmml" xref="S3.SS1.p1.3.m3.2.2.2.2.2.2.3.2.2.2">3</cn><ci id="S3.SS1.p1.3.m3.2.2.2.2.2.2.3.2.2.3.cmml" xref="S3.SS1.p1.3.m3.2.2.2.2.2.2.3.2.2.3">𝑁</ci></apply><cn type="integer" id="S3.SS1.p1.3.m3.2.2.2.2.2.2.3.2.3.cmml" xref="S3.SS1.p1.3.m3.2.2.2.2.2.2.3.2.3">3</cn></apply><ci id="S3.SS1.p1.3.m3.2.2.2.2.2.2.3.3.cmml" xref="S3.SS1.p1.3.m3.2.2.2.2.2.2.3.3">𝑁</ci></apply></apply></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.3.m3.2c">p_{\rm{latent}}={\mathcal{N}}(\bm{0}_{3N},{\bm{I}}_{3N\times 3N})</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.3.m3.2d">italic_p start_POSTSUBSCRIPT roman_latent end_POSTSUBSCRIPT = caligraphic_N ( bold_0 start_POSTSUBSCRIPT 3 italic_N end_POSTSUBSCRIPT , bold_italic_I start_POSTSUBSCRIPT 3 italic_N × 3 italic_N end_POSTSUBSCRIPT )</annotation></semantics></math> is the latent distribution, and that <math id="S3.SS1.p1.4.m4.1" class="ltx_Math" alttext="{\mathcal{N}}" display="inline"><semantics id="S3.SS1.p1.4.m4.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.4.m4.1.1" xref="S3.SS1.p1.4.m4.1.1.cmml">𝒩</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.4.m4.1b"><ci id="S3.SS1.p1.4.m4.1.1.cmml" xref="S3.SS1.p1.4.m4.1.1">𝒩</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.4.m4.1c">{\mathcal{N}}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.4.m4.1d">caligraphic_N</annotation></semantics></math> is the Gaussian distribution.
DDPMs consist of two Markov chains, the diffusion process and the reverse process.
The diffusion process gradually adds noise to a clean image until it becomes a Gaussian noise,
and the reverse process iteratively denoises a sampled Gaussian noise to a clean image.
The length of both processes is <math id="S3.SS1.p1.5.m5.1" class="ltx_Math" alttext="T" display="inline"><semantics id="S3.SS1.p1.5.m5.1a"><mi id="S3.SS1.p1.5.m5.1.1" xref="S3.SS1.p1.5.m5.1.1.cmml">T</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.5.m5.1b"><ci id="S3.SS1.p1.5.m5.1.1.cmml" xref="S3.SS1.p1.5.m5.1.1">𝑇</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.5.m5.1c">T</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.5.m5.1d">italic_T</annotation></semantics></math>.</p>
</div>
<section id="S3.SS1.SSS0.Px1" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">The Diffusion Process.</h4>

<div id="S3.SS1.SSS0.Px1.p1" class="ltx_para">
<p id="S3.SS1.SSS0.Px1.p1.5" class="ltx_p">The diffusion process is a Markov process that gradually adds noise to a clean image until it approaches <math id="S3.SS1.SSS0.Px1.p1.1.m1.1" class="ltx_Math" alttext="p_{\rm{latent}}" display="inline"><semantics id="S3.SS1.SSS0.Px1.p1.1.m1.1a"><msub id="S3.SS1.SSS0.Px1.p1.1.m1.1.1" xref="S3.SS1.SSS0.Px1.p1.1.m1.1.1.cmml"><mi id="S3.SS1.SSS0.Px1.p1.1.m1.1.1.2" xref="S3.SS1.SSS0.Px1.p1.1.m1.1.1.2.cmml">p</mi><mi id="S3.SS1.SSS0.Px1.p1.1.m1.1.1.3" xref="S3.SS1.SSS0.Px1.p1.1.m1.1.1.3.cmml">latent</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px1.p1.1.m1.1b"><apply id="S3.SS1.SSS0.Px1.p1.1.m1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p1.1.m1.1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.1.m1.1.1">subscript</csymbol><ci id="S3.SS1.SSS0.Px1.p1.1.m1.1.1.2.cmml" xref="S3.SS1.SSS0.Px1.p1.1.m1.1.1.2">𝑝</ci><ci id="S3.SS1.SSS0.Px1.p1.1.m1.1.1.3.cmml" xref="S3.SS1.SSS0.Px1.p1.1.m1.1.1.3">latent</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px1.p1.1.m1.1c">p_{\rm{latent}}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS0.Px1.p1.1.m1.1d">italic_p start_POSTSUBSCRIPT roman_latent end_POSTSUBSCRIPT</annotation></semantics></math>.
Formally, let <math id="S3.SS1.SSS0.Px1.p1.2.m2.1" class="ltx_Math" alttext="{\bm{x}}^{0}\sim p_{\rm{data}}" display="inline"><semantics id="S3.SS1.SSS0.Px1.p1.2.m2.1a"><mrow id="S3.SS1.SSS0.Px1.p1.2.m2.1.1" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.cmml"><msup id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.2" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.2.cmml"><mi id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.2.2" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.2.2.cmml">𝒙</mi><mn id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.2.3" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.2.3.cmml">0</mn></msup><mo id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1.cmml">∼</mo><msub id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.3" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.3.cmml"><mi id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.3.2" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.3.2.cmml">p</mi><mi id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.3.3" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.3.3.cmml">data</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px1.p1.2.m2.1b"><apply id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1"><csymbol cd="latexml" id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1">similar-to</csymbol><apply id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.2.cmml" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.2"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.2.1.cmml" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.2">superscript</csymbol><ci id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.2.2.cmml" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.2.2">𝒙</ci><cn type="integer" id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.2.3.cmml" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.2.3">0</cn></apply><apply id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.3.cmml" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.3"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.3.1.cmml" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.3">subscript</csymbol><ci id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.3.2.cmml" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.3.2">𝑝</ci><ci id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.3.3.cmml" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.3.3">data</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px1.p1.2.m2.1c">{\bm{x}}^{0}\sim p_{\rm{data}}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS0.Px1.p1.2.m2.1d">bold_italic_x start_POSTSUPERSCRIPT 0 end_POSTSUPERSCRIPT ∼ italic_p start_POSTSUBSCRIPT roman_data end_POSTSUBSCRIPT</annotation></semantics></math>.
The diffusion step <math id="S3.SS1.SSS0.Px1.p1.3.m3.1" class="ltx_Math" alttext="t" display="inline"><semantics id="S3.SS1.SSS0.Px1.p1.3.m3.1a"><mi id="S3.SS1.SSS0.Px1.p1.3.m3.1.1" xref="S3.SS1.SSS0.Px1.p1.3.m3.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px1.p1.3.m3.1b"><ci id="S3.SS1.SSS0.Px1.p1.3.m3.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.3.m3.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px1.p1.3.m3.1c">t</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS0.Px1.p1.3.m3.1d">italic_t</annotation></semantics></math> is denoted by a superscript.
The diffusion process from clean data <math id="S3.SS1.SSS0.Px1.p1.4.m4.1" class="ltx_Math" alttext="{\bm{x}}^{0}" display="inline"><semantics id="S3.SS1.SSS0.Px1.p1.4.m4.1a"><msup id="S3.SS1.SSS0.Px1.p1.4.m4.1.1" xref="S3.SS1.SSS0.Px1.p1.4.m4.1.1.cmml"><mi id="S3.SS1.SSS0.Px1.p1.4.m4.1.1.2" xref="S3.SS1.SSS0.Px1.p1.4.m4.1.1.2.cmml">𝒙</mi><mn id="S3.SS1.SSS0.Px1.p1.4.m4.1.1.3" xref="S3.SS1.SSS0.Px1.p1.4.m4.1.1.3.cmml">0</mn></msup><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px1.p1.4.m4.1b"><apply id="S3.SS1.SSS0.Px1.p1.4.m4.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p1.4.m4.1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.4.m4.1.1">superscript</csymbol><ci id="S3.SS1.SSS0.Px1.p1.4.m4.1.1.2.cmml" xref="S3.SS1.SSS0.Px1.p1.4.m4.1.1.2">𝒙</ci><cn type="integer" id="S3.SS1.SSS0.Px1.p1.4.m4.1.1.3.cmml" xref="S3.SS1.SSS0.Px1.p1.4.m4.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px1.p1.4.m4.1c">{\bm{x}}^{0}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS0.Px1.p1.4.m4.1d">bold_italic_x start_POSTSUPERSCRIPT 0 end_POSTSUPERSCRIPT</annotation></semantics></math> to <math id="S3.SS1.SSS0.Px1.p1.5.m5.1" class="ltx_Math" alttext="{\bm{x}}^{T}" display="inline"><semantics id="S3.SS1.SSS0.Px1.p1.5.m5.1a"><msup id="S3.SS1.SSS0.Px1.p1.5.m5.1.1" xref="S3.SS1.SSS0.Px1.p1.5.m5.1.1.cmml"><mi id="S3.SS1.SSS0.Px1.p1.5.m5.1.1.2" xref="S3.SS1.SSS0.Px1.p1.5.m5.1.1.2.cmml">𝒙</mi><mi id="S3.SS1.SSS0.Px1.p1.5.m5.1.1.3" xref="S3.SS1.SSS0.Px1.p1.5.m5.1.1.3.cmml">T</mi></msup><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px1.p1.5.m5.1b"><apply id="S3.SS1.SSS0.Px1.p1.5.m5.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.5.m5.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p1.5.m5.1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.5.m5.1.1">superscript</csymbol><ci id="S3.SS1.SSS0.Px1.p1.5.m5.1.1.2.cmml" xref="S3.SS1.SSS0.Px1.p1.5.m5.1.1.2">𝒙</ci><ci id="S3.SS1.SSS0.Px1.p1.5.m5.1.1.3.cmml" xref="S3.SS1.SSS0.Px1.p1.5.m5.1.1.3">𝑇</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px1.p1.5.m5.1c">{\bm{x}}^{T}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS0.Px1.p1.5.m5.1d">bold_italic_x start_POSTSUPERSCRIPT italic_T end_POSTSUPERSCRIPT</annotation></semantics></math> is defined as</p>
<table id="S3.E4" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E4.m1.2" class="ltx_Math" alttext="q({\bm{x}}^{1},\cdots,{\bm{x}}^{T}|{\bm{x}}^{0})=\prod_{t=1}^{T}q({\bm{x}}^{t}|{\bm{x}}^{t-1}),\text{ where }q({\bm{x}}^{t}|{\bm{x}}^{t-1})={\mathcal{N}}({\bm{x}}^{t};\sqrt{1-\beta_{t}}{\bm{x}}^{t-1},\beta_{t}{\bm{I}})," display="block"><semantics id="S3.E4.m1.2a"><mrow id="S3.E4.m1.2.2.1"><mrow id="S3.E4.m1.2.2.1.1.2" xref="S3.E4.m1.2.2.1.1.3.cmml"><mrow id="S3.E4.m1.2.2.1.1.1.1" xref="S3.E4.m1.2.2.1.1.1.1.cmml"><mrow id="S3.E4.m1.2.2.1.1.1.1.2" xref="S3.E4.m1.2.2.1.1.1.1.2.cmml"><mi id="S3.E4.m1.2.2.1.1.1.1.2.4" xref="S3.E4.m1.2.2.1.1.1.1.2.4.cmml">q</mi><mo id="S3.E4.m1.2.2.1.1.1.1.2.3" xref="S3.E4.m1.2.2.1.1.1.1.2.3.cmml">⁢</mo><mrow id="S3.E4.m1.2.2.1.1.1.1.2.2.2" xref="S3.E4.m1.2.2.1.1.1.1.2.2.3.cmml"><mo stretchy="false" id="S3.E4.m1.2.2.1.1.1.1.2.2.2.3" xref="S3.E4.m1.2.2.1.1.1.1.2.2.3.cmml">(</mo><msup id="S3.E4.m1.2.2.1.1.1.1.1.1.1.1" xref="S3.E4.m1.2.2.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E4.m1.2.2.1.1.1.1.1.1.1.1.2" xref="S3.E4.m1.2.2.1.1.1.1.1.1.1.1.2.cmml">𝒙</mi><mn id="S3.E4.m1.2.2.1.1.1.1.1.1.1.1.3" xref="S3.E4.m1.2.2.1.1.1.1.1.1.1.1.3.cmml">1</mn></msup><mo id="S3.E4.m1.2.2.1.1.1.1.2.2.2.4" xref="S3.E4.m1.2.2.1.1.1.1.2.2.3.cmml">,</mo><mi mathvariant="normal" id="S3.E4.m1.1.1" xref="S3.E4.m1.1.1.cmml">⋯</mi><mo id="S3.E4.m1.2.2.1.1.1.1.2.2.2.5" xref="S3.E4.m1.2.2.1.1.1.1.2.2.3.cmml">,</mo><mrow id="S3.E4.m1.2.2.1.1.1.1.2.2.2.2" xref="S3.E4.m1.2.2.1.1.1.1.2.2.2.2.cmml"><msup id="S3.E4.m1.2.2.1.1.1.1.2.2.2.2.2" xref="S3.E4.m1.2.2.1.1.1.1.2.2.2.2.2.cmml"><mi id="S3.E4.m1.2.2.1.1.1.1.2.2.2.2.2.2" xref="S3.E4.m1.2.2.1.1.1.1.2.2.2.2.2.2.cmml">𝒙</mi><mi id="S3.E4.m1.2.2.1.1.1.1.2.2.2.2.2.3" xref="S3.E4.m1.2.2.1.1.1.1.2.2.2.2.2.3.cmml">T</mi></msup><mo fence="false" id="S3.E4.m1.2.2.1.1.1.1.2.2.2.2.1" xref="S3.E4.m1.2.2.1.1.1.1.2.2.2.2.1.cmml">|</mo><msup id="S3.E4.m1.2.2.1.1.1.1.2.2.2.2.3" xref="S3.E4.m1.2.2.1.1.1.1.2.2.2.2.3.cmml"><mi id="S3.E4.m1.2.2.1.1.1.1.2.2.2.2.3.2" xref="S3.E4.m1.2.2.1.1.1.1.2.2.2.2.3.2.cmml">𝒙</mi><mn id="S3.E4.m1.2.2.1.1.1.1.2.2.2.2.3.3" xref="S3.E4.m1.2.2.1.1.1.1.2.2.2.2.3.3.cmml">0</mn></msup></mrow><mo stretchy="false" id="S3.E4.m1.2.2.1.1.1.1.2.2.2.6" xref="S3.E4.m1.2.2.1.1.1.1.2.2.3.cmml">)</mo></mrow></mrow><mo rspace="0.111em" id="S3.E4.m1.2.2.1.1.1.1.4" xref="S3.E4.m1.2.2.1.1.1.1.4.cmml">=</mo><mrow id="S3.E4.m1.2.2.1.1.1.1.3" xref="S3.E4.m1.2.2.1.1.1.1.3.cmml"><munderover id="S3.E4.m1.2.2.1.1.1.1.3.2" xref="S3.E4.m1.2.2.1.1.1.1.3.2.cmml"><mo movablelimits="false" id="S3.E4.m1.2.2.1.1.1.1.3.2.2.2" xref="S3.E4.m1.2.2.1.1.1.1.3.2.2.2.cmml">∏</mo><mrow id="S3.E4.m1.2.2.1.1.1.1.3.2.2.3" xref="S3.E4.m1.2.2.1.1.1.1.3.2.2.3.cmml"><mi id="S3.E4.m1.2.2.1.1.1.1.3.2.2.3.2" xref="S3.E4.m1.2.2.1.1.1.1.3.2.2.3.2.cmml">t</mi><mo id="S3.E4.m1.2.2.1.1.1.1.3.2.2.3.1" xref="S3.E4.m1.2.2.1.1.1.1.3.2.2.3.1.cmml">=</mo><mn id="S3.E4.m1.2.2.1.1.1.1.3.2.2.3.3" xref="S3.E4.m1.2.2.1.1.1.1.3.2.2.3.3.cmml">1</mn></mrow><mi id="S3.E4.m1.2.2.1.1.1.1.3.2.3" xref="S3.E4.m1.2.2.1.1.1.1.3.2.3.cmml">T</mi></munderover><mrow id="S3.E4.m1.2.2.1.1.1.1.3.1" xref="S3.E4.m1.2.2.1.1.1.1.3.1.cmml"><mi id="S3.E4.m1.2.2.1.1.1.1.3.1.3" xref="S3.E4.m1.2.2.1.1.1.1.3.1.3.cmml">q</mi><mo id="S3.E4.m1.2.2.1.1.1.1.3.1.2" xref="S3.E4.m1.2.2.1.1.1.1.3.1.2.cmml">⁢</mo><mrow id="S3.E4.m1.2.2.1.1.1.1.3.1.1.1" xref="S3.E4.m1.2.2.1.1.1.1.3.1.1.1.1.cmml"><mo stretchy="false" id="S3.E4.m1.2.2.1.1.1.1.3.1.1.1.2" xref="S3.E4.m1.2.2.1.1.1.1.3.1.1.1.1.cmml">(</mo><mrow id="S3.E4.m1.2.2.1.1.1.1.3.1.1.1.1" xref="S3.E4.m1.2.2.1.1.1.1.3.1.1.1.1.cmml"><msup id="S3.E4.m1.2.2.1.1.1.1.3.1.1.1.1.2" xref="S3.E4.m1.2.2.1.1.1.1.3.1.1.1.1.2.cmml"><mi id="S3.E4.m1.2.2.1.1.1.1.3.1.1.1.1.2.2" xref="S3.E4.m1.2.2.1.1.1.1.3.1.1.1.1.2.2.cmml">𝒙</mi><mi id="S3.E4.m1.2.2.1.1.1.1.3.1.1.1.1.2.3" xref="S3.E4.m1.2.2.1.1.1.1.3.1.1.1.1.2.3.cmml">t</mi></msup><mo fence="false" id="S3.E4.m1.2.2.1.1.1.1.3.1.1.1.1.1" xref="S3.E4.m1.2.2.1.1.1.1.3.1.1.1.1.1.cmml">|</mo><msup id="S3.E4.m1.2.2.1.1.1.1.3.1.1.1.1.3" xref="S3.E4.m1.2.2.1.1.1.1.3.1.1.1.1.3.cmml"><mi id="S3.E4.m1.2.2.1.1.1.1.3.1.1.1.1.3.2" xref="S3.E4.m1.2.2.1.1.1.1.3.1.1.1.1.3.2.cmml">𝒙</mi><mrow id="S3.E4.m1.2.2.1.1.1.1.3.1.1.1.1.3.3" xref="S3.E4.m1.2.2.1.1.1.1.3.1.1.1.1.3.3.cmml"><mi id="S3.E4.m1.2.2.1.1.1.1.3.1.1.1.1.3.3.2" xref="S3.E4.m1.2.2.1.1.1.1.3.1.1.1.1.3.3.2.cmml">t</mi><mo id="S3.E4.m1.2.2.1.1.1.1.3.1.1.1.1.3.3.1" xref="S3.E4.m1.2.2.1.1.1.1.3.1.1.1.1.3.3.1.cmml">−</mo><mn id="S3.E4.m1.2.2.1.1.1.1.3.1.1.1.1.3.3.3" xref="S3.E4.m1.2.2.1.1.1.1.3.1.1.1.1.3.3.3.cmml">1</mn></mrow></msup></mrow><mo stretchy="false" id="S3.E4.m1.2.2.1.1.1.1.3.1.1.1.3" xref="S3.E4.m1.2.2.1.1.1.1.3.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="S3.E4.m1.2.2.1.1.2.3" xref="S3.E4.m1.2.2.1.1.3a.cmml">,</mo><mrow id="S3.E4.m1.2.2.1.1.2.2" xref="S3.E4.m1.2.2.1.1.2.2.cmml"><mrow id="S3.E4.m1.2.2.1.1.2.2.1" xref="S3.E4.m1.2.2.1.1.2.2.1.cmml"><mtext id="S3.E4.m1.2.2.1.1.2.2.1.3" xref="S3.E4.m1.2.2.1.1.2.2.1.3a.cmml"> where </mtext><mo id="S3.E4.m1.2.2.1.1.2.2.1.2" xref="S3.E4.m1.2.2.1.1.2.2.1.2.cmml">⁢</mo><mi id="S3.E4.m1.2.2.1.1.2.2.1.4" xref="S3.E4.m1.2.2.1.1.2.2.1.4.cmml">q</mi><mo id="S3.E4.m1.2.2.1.1.2.2.1.2a" xref="S3.E4.m1.2.2.1.1.2.2.1.2.cmml">⁢</mo><mrow id="S3.E4.m1.2.2.1.1.2.2.1.1.1" xref="S3.E4.m1.2.2.1.1.2.2.1.1.1.1.cmml"><mo stretchy="false" id="S3.E4.m1.2.2.1.1.2.2.1.1.1.2" xref="S3.E4.m1.2.2.1.1.2.2.1.1.1.1.cmml">(</mo><mrow id="S3.E4.m1.2.2.1.1.2.2.1.1.1.1" xref="S3.E4.m1.2.2.1.1.2.2.1.1.1.1.cmml"><msup id="S3.E4.m1.2.2.1.1.2.2.1.1.1.1.2" xref="S3.E4.m1.2.2.1.1.2.2.1.1.1.1.2.cmml"><mi id="S3.E4.m1.2.2.1.1.2.2.1.1.1.1.2.2" xref="S3.E4.m1.2.2.1.1.2.2.1.1.1.1.2.2.cmml">𝒙</mi><mi id="S3.E4.m1.2.2.1.1.2.2.1.1.1.1.2.3" xref="S3.E4.m1.2.2.1.1.2.2.1.1.1.1.2.3.cmml">t</mi></msup><mo fence="false" id="S3.E4.m1.2.2.1.1.2.2.1.1.1.1.1" xref="S3.E4.m1.2.2.1.1.2.2.1.1.1.1.1.cmml">|</mo><msup id="S3.E4.m1.2.2.1.1.2.2.1.1.1.1.3" xref="S3.E4.m1.2.2.1.1.2.2.1.1.1.1.3.cmml"><mi id="S3.E4.m1.2.2.1.1.2.2.1.1.1.1.3.2" xref="S3.E4.m1.2.2.1.1.2.2.1.1.1.1.3.2.cmml">𝒙</mi><mrow id="S3.E4.m1.2.2.1.1.2.2.1.1.1.1.3.3" xref="S3.E4.m1.2.2.1.1.2.2.1.1.1.1.3.3.cmml"><mi id="S3.E4.m1.2.2.1.1.2.2.1.1.1.1.3.3.2" xref="S3.E4.m1.2.2.1.1.2.2.1.1.1.1.3.3.2.cmml">t</mi><mo id="S3.E4.m1.2.2.1.1.2.2.1.1.1.1.3.3.1" xref="S3.E4.m1.2.2.1.1.2.2.1.1.1.1.3.3.1.cmml">−</mo><mn id="S3.E4.m1.2.2.1.1.2.2.1.1.1.1.3.3.3" xref="S3.E4.m1.2.2.1.1.2.2.1.1.1.1.3.3.3.cmml">1</mn></mrow></msup></mrow><mo stretchy="false" id="S3.E4.m1.2.2.1.1.2.2.1.1.1.3" xref="S3.E4.m1.2.2.1.1.2.2.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E4.m1.2.2.1.1.2.2.5" xref="S3.E4.m1.2.2.1.1.2.2.5.cmml">=</mo><mrow id="S3.E4.m1.2.2.1.1.2.2.4" xref="S3.E4.m1.2.2.1.1.2.2.4.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E4.m1.2.2.1.1.2.2.4.5" xref="S3.E4.m1.2.2.1.1.2.2.4.5.cmml">𝒩</mi><mo id="S3.E4.m1.2.2.1.1.2.2.4.4" xref="S3.E4.m1.2.2.1.1.2.2.4.4.cmml">⁢</mo><mrow id="S3.E4.m1.2.2.1.1.2.2.4.3.3" xref="S3.E4.m1.2.2.1.1.2.2.4.3.4.cmml"><mo stretchy="false" id="S3.E4.m1.2.2.1.1.2.2.4.3.3.4" xref="S3.E4.m1.2.2.1.1.2.2.4.3.4.cmml">(</mo><msup id="S3.E4.m1.2.2.1.1.2.2.2.1.1.1" xref="S3.E4.m1.2.2.1.1.2.2.2.1.1.1.cmml"><mi id="S3.E4.m1.2.2.1.1.2.2.2.1.1.1.2" xref="S3.E4.m1.2.2.1.1.2.2.2.1.1.1.2.cmml">𝒙</mi><mi id="S3.E4.m1.2.2.1.1.2.2.2.1.1.1.3" xref="S3.E4.m1.2.2.1.1.2.2.2.1.1.1.3.cmml">t</mi></msup><mo id="S3.E4.m1.2.2.1.1.2.2.4.3.3.5" xref="S3.E4.m1.2.2.1.1.2.2.4.3.4.cmml">;</mo><mrow id="S3.E4.m1.2.2.1.1.2.2.3.2.2.2" xref="S3.E4.m1.2.2.1.1.2.2.3.2.2.2.cmml"><msqrt id="S3.E4.m1.2.2.1.1.2.2.3.2.2.2.2" xref="S3.E4.m1.2.2.1.1.2.2.3.2.2.2.2.cmml"><mrow id="S3.E4.m1.2.2.1.1.2.2.3.2.2.2.2.2" xref="S3.E4.m1.2.2.1.1.2.2.3.2.2.2.2.2.cmml"><mn id="S3.E4.m1.2.2.1.1.2.2.3.2.2.2.2.2.2" xref="S3.E4.m1.2.2.1.1.2.2.3.2.2.2.2.2.2.cmml">1</mn><mo id="S3.E4.m1.2.2.1.1.2.2.3.2.2.2.2.2.1" xref="S3.E4.m1.2.2.1.1.2.2.3.2.2.2.2.2.1.cmml">−</mo><msub id="S3.E4.m1.2.2.1.1.2.2.3.2.2.2.2.2.3" xref="S3.E4.m1.2.2.1.1.2.2.3.2.2.2.2.2.3.cmml"><mi id="S3.E4.m1.2.2.1.1.2.2.3.2.2.2.2.2.3.2" xref="S3.E4.m1.2.2.1.1.2.2.3.2.2.2.2.2.3.2.cmml">β</mi><mi id="S3.E4.m1.2.2.1.1.2.2.3.2.2.2.2.2.3.3" xref="S3.E4.m1.2.2.1.1.2.2.3.2.2.2.2.2.3.3.cmml">t</mi></msub></mrow></msqrt><mo id="S3.E4.m1.2.2.1.1.2.2.3.2.2.2.1" xref="S3.E4.m1.2.2.1.1.2.2.3.2.2.2.1.cmml">⁢</mo><msup id="S3.E4.m1.2.2.1.1.2.2.3.2.2.2.3" xref="S3.E4.m1.2.2.1.1.2.2.3.2.2.2.3.cmml"><mi id="S3.E4.m1.2.2.1.1.2.2.3.2.2.2.3.2" xref="S3.E4.m1.2.2.1.1.2.2.3.2.2.2.3.2.cmml">𝒙</mi><mrow id="S3.E4.m1.2.2.1.1.2.2.3.2.2.2.3.3" xref="S3.E4.m1.2.2.1.1.2.2.3.2.2.2.3.3.cmml"><mi id="S3.E4.m1.2.2.1.1.2.2.3.2.2.2.3.3.2" xref="S3.E4.m1.2.2.1.1.2.2.3.2.2.2.3.3.2.cmml">t</mi><mo id="S3.E4.m1.2.2.1.1.2.2.3.2.2.2.3.3.1" xref="S3.E4.m1.2.2.1.1.2.2.3.2.2.2.3.3.1.cmml">−</mo><mn id="S3.E4.m1.2.2.1.1.2.2.3.2.2.2.3.3.3" xref="S3.E4.m1.2.2.1.1.2.2.3.2.2.2.3.3.3.cmml">1</mn></mrow></msup></mrow><mo id="S3.E4.m1.2.2.1.1.2.2.4.3.3.6" xref="S3.E4.m1.2.2.1.1.2.2.4.3.4.cmml">,</mo><mrow id="S3.E4.m1.2.2.1.1.2.2.4.3.3.3" xref="S3.E4.m1.2.2.1.1.2.2.4.3.3.3.cmml"><msub id="S3.E4.m1.2.2.1.1.2.2.4.3.3.3.2" xref="S3.E4.m1.2.2.1.1.2.2.4.3.3.3.2.cmml"><mi id="S3.E4.m1.2.2.1.1.2.2.4.3.3.3.2.2" xref="S3.E4.m1.2.2.1.1.2.2.4.3.3.3.2.2.cmml">β</mi><mi id="S3.E4.m1.2.2.1.1.2.2.4.3.3.3.2.3" xref="S3.E4.m1.2.2.1.1.2.2.4.3.3.3.2.3.cmml">t</mi></msub><mo id="S3.E4.m1.2.2.1.1.2.2.4.3.3.3.1" xref="S3.E4.m1.2.2.1.1.2.2.4.3.3.3.1.cmml">⁢</mo><mi id="S3.E4.m1.2.2.1.1.2.2.4.3.3.3.3" xref="S3.E4.m1.2.2.1.1.2.2.4.3.3.3.3.cmml">𝑰</mi></mrow><mo stretchy="false" id="S3.E4.m1.2.2.1.1.2.2.4.3.3.7" xref="S3.E4.m1.2.2.1.1.2.2.4.3.4.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="S3.E4.m1.2.2.1.2">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E4.m1.2b"><apply id="S3.E4.m1.2.2.1.1.3.cmml" xref="S3.E4.m1.2.2.1.1.2"><csymbol cd="ambiguous" id="S3.E4.m1.2.2.1.1.3a.cmml" xref="S3.E4.m1.2.2.1.1.2.3">formulae-sequence</csymbol><apply id="S3.E4.m1.2.2.1.1.1.1.cmml" xref="S3.E4.m1.2.2.1.1.1.1"><eq id="S3.E4.m1.2.2.1.1.1.1.4.cmml" xref="S3.E4.m1.2.2.1.1.1.1.4"></eq><apply id="S3.E4.m1.2.2.1.1.1.1.2.cmml" xref="S3.E4.m1.2.2.1.1.1.1.2"><times id="S3.E4.m1.2.2.1.1.1.1.2.3.cmml" xref="S3.E4.m1.2.2.1.1.1.1.2.3"></times><ci id="S3.E4.m1.2.2.1.1.1.1.2.4.cmml" xref="S3.E4.m1.2.2.1.1.1.1.2.4">𝑞</ci><vector id="S3.E4.m1.2.2.1.1.1.1.2.2.3.cmml" xref="S3.E4.m1.2.2.1.1.1.1.2.2.2"><apply id="S3.E4.m1.2.2.1.1.1.1.1.1.1.1.cmml" xref="S3.E4.m1.2.2.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E4.m1.2.2.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E4.m1.2.2.1.1.1.1.1.1.1.1">superscript</csymbol><ci id="S3.E4.m1.2.2.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E4.m1.2.2.1.1.1.1.1.1.1.1.2">𝒙</ci><cn type="integer" id="S3.E4.m1.2.2.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E4.m1.2.2.1.1.1.1.1.1.1.1.3">1</cn></apply><ci id="S3.E4.m1.1.1.cmml" xref="S3.E4.m1.1.1">⋯</ci><apply id="S3.E4.m1.2.2.1.1.1.1.2.2.2.2.cmml" xref="S3.E4.m1.2.2.1.1.1.1.2.2.2.2"><csymbol cd="latexml" id="S3.E4.m1.2.2.1.1.1.1.2.2.2.2.1.cmml" xref="S3.E4.m1.2.2.1.1.1.1.2.2.2.2.1">conditional</csymbol><apply id="S3.E4.m1.2.2.1.1.1.1.2.2.2.2.2.cmml" xref="S3.E4.m1.2.2.1.1.1.1.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.E4.m1.2.2.1.1.1.1.2.2.2.2.2.1.cmml" xref="S3.E4.m1.2.2.1.1.1.1.2.2.2.2.2">superscript</csymbol><ci id="S3.E4.m1.2.2.1.1.1.1.2.2.2.2.2.2.cmml" xref="S3.E4.m1.2.2.1.1.1.1.2.2.2.2.2.2">𝒙</ci><ci id="S3.E4.m1.2.2.1.1.1.1.2.2.2.2.2.3.cmml" xref="S3.E4.m1.2.2.1.1.1.1.2.2.2.2.2.3">𝑇</ci></apply><apply id="S3.E4.m1.2.2.1.1.1.1.2.2.2.2.3.cmml" xref="S3.E4.m1.2.2.1.1.1.1.2.2.2.2.3"><csymbol cd="ambiguous" id="S3.E4.m1.2.2.1.1.1.1.2.2.2.2.3.1.cmml" xref="S3.E4.m1.2.2.1.1.1.1.2.2.2.2.3">superscript</csymbol><ci id="S3.E4.m1.2.2.1.1.1.1.2.2.2.2.3.2.cmml" xref="S3.E4.m1.2.2.1.1.1.1.2.2.2.2.3.2">𝒙</ci><cn type="integer" id="S3.E4.m1.2.2.1.1.1.1.2.2.2.2.3.3.cmml" xref="S3.E4.m1.2.2.1.1.1.1.2.2.2.2.3.3">0</cn></apply></apply></vector></apply><apply id="S3.E4.m1.2.2.1.1.1.1.3.cmml" xref="S3.E4.m1.2.2.1.1.1.1.3"><apply id="S3.E4.m1.2.2.1.1.1.1.3.2.cmml" xref="S3.E4.m1.2.2.1.1.1.1.3.2"><csymbol cd="ambiguous" id="S3.E4.m1.2.2.1.1.1.1.3.2.1.cmml" xref="S3.E4.m1.2.2.1.1.1.1.3.2">superscript</csymbol><apply id="S3.E4.m1.2.2.1.1.1.1.3.2.2.cmml" xref="S3.E4.m1.2.2.1.1.1.1.3.2"><csymbol cd="ambiguous" id="S3.E4.m1.2.2.1.1.1.1.3.2.2.1.cmml" xref="S3.E4.m1.2.2.1.1.1.1.3.2">subscript</csymbol><csymbol cd="latexml" id="S3.E4.m1.2.2.1.1.1.1.3.2.2.2.cmml" xref="S3.E4.m1.2.2.1.1.1.1.3.2.2.2">product</csymbol><apply id="S3.E4.m1.2.2.1.1.1.1.3.2.2.3.cmml" xref="S3.E4.m1.2.2.1.1.1.1.3.2.2.3"><eq id="S3.E4.m1.2.2.1.1.1.1.3.2.2.3.1.cmml" xref="S3.E4.m1.2.2.1.1.1.1.3.2.2.3.1"></eq><ci id="S3.E4.m1.2.2.1.1.1.1.3.2.2.3.2.cmml" xref="S3.E4.m1.2.2.1.1.1.1.3.2.2.3.2">𝑡</ci><cn type="integer" id="S3.E4.m1.2.2.1.1.1.1.3.2.2.3.3.cmml" xref="S3.E4.m1.2.2.1.1.1.1.3.2.2.3.3">1</cn></apply></apply><ci id="S3.E4.m1.2.2.1.1.1.1.3.2.3.cmml" xref="S3.E4.m1.2.2.1.1.1.1.3.2.3">𝑇</ci></apply><apply id="S3.E4.m1.2.2.1.1.1.1.3.1.cmml" xref="S3.E4.m1.2.2.1.1.1.1.3.1"><times id="S3.E4.m1.2.2.1.1.1.1.3.1.2.cmml" xref="S3.E4.m1.2.2.1.1.1.1.3.1.2"></times><ci id="S3.E4.m1.2.2.1.1.1.1.3.1.3.cmml" xref="S3.E4.m1.2.2.1.1.1.1.3.1.3">𝑞</ci><apply id="S3.E4.m1.2.2.1.1.1.1.3.1.1.1.1.cmml" xref="S3.E4.m1.2.2.1.1.1.1.3.1.1.1"><csymbol cd="latexml" id="S3.E4.m1.2.2.1.1.1.1.3.1.1.1.1.1.cmml" xref="S3.E4.m1.2.2.1.1.1.1.3.1.1.1.1.1">conditional</csymbol><apply id="S3.E4.m1.2.2.1.1.1.1.3.1.1.1.1.2.cmml" xref="S3.E4.m1.2.2.1.1.1.1.3.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E4.m1.2.2.1.1.1.1.3.1.1.1.1.2.1.cmml" xref="S3.E4.m1.2.2.1.1.1.1.3.1.1.1.1.2">superscript</csymbol><ci id="S3.E4.m1.2.2.1.1.1.1.3.1.1.1.1.2.2.cmml" xref="S3.E4.m1.2.2.1.1.1.1.3.1.1.1.1.2.2">𝒙</ci><ci id="S3.E4.m1.2.2.1.1.1.1.3.1.1.1.1.2.3.cmml" xref="S3.E4.m1.2.2.1.1.1.1.3.1.1.1.1.2.3">𝑡</ci></apply><apply id="S3.E4.m1.2.2.1.1.1.1.3.1.1.1.1.3.cmml" xref="S3.E4.m1.2.2.1.1.1.1.3.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E4.m1.2.2.1.1.1.1.3.1.1.1.1.3.1.cmml" xref="S3.E4.m1.2.2.1.1.1.1.3.1.1.1.1.3">superscript</csymbol><ci id="S3.E4.m1.2.2.1.1.1.1.3.1.1.1.1.3.2.cmml" xref="S3.E4.m1.2.2.1.1.1.1.3.1.1.1.1.3.2">𝒙</ci><apply id="S3.E4.m1.2.2.1.1.1.1.3.1.1.1.1.3.3.cmml" xref="S3.E4.m1.2.2.1.1.1.1.3.1.1.1.1.3.3"><minus id="S3.E4.m1.2.2.1.1.1.1.3.1.1.1.1.3.3.1.cmml" xref="S3.E4.m1.2.2.1.1.1.1.3.1.1.1.1.3.3.1"></minus><ci id="S3.E4.m1.2.2.1.1.1.1.3.1.1.1.1.3.3.2.cmml" xref="S3.E4.m1.2.2.1.1.1.1.3.1.1.1.1.3.3.2">𝑡</ci><cn type="integer" id="S3.E4.m1.2.2.1.1.1.1.3.1.1.1.1.3.3.3.cmml" xref="S3.E4.m1.2.2.1.1.1.1.3.1.1.1.1.3.3.3">1</cn></apply></apply></apply></apply></apply></apply><apply id="S3.E4.m1.2.2.1.1.2.2.cmml" xref="S3.E4.m1.2.2.1.1.2.2"><eq id="S3.E4.m1.2.2.1.1.2.2.5.cmml" xref="S3.E4.m1.2.2.1.1.2.2.5"></eq><apply id="S3.E4.m1.2.2.1.1.2.2.1.cmml" xref="S3.E4.m1.2.2.1.1.2.2.1"><times id="S3.E4.m1.2.2.1.1.2.2.1.2.cmml" xref="S3.E4.m1.2.2.1.1.2.2.1.2"></times><ci id="S3.E4.m1.2.2.1.1.2.2.1.3a.cmml" xref="S3.E4.m1.2.2.1.1.2.2.1.3"><mtext id="S3.E4.m1.2.2.1.1.2.2.1.3.cmml" xref="S3.E4.m1.2.2.1.1.2.2.1.3"> where </mtext></ci><ci id="S3.E4.m1.2.2.1.1.2.2.1.4.cmml" xref="S3.E4.m1.2.2.1.1.2.2.1.4">𝑞</ci><apply id="S3.E4.m1.2.2.1.1.2.2.1.1.1.1.cmml" xref="S3.E4.m1.2.2.1.1.2.2.1.1.1"><csymbol cd="latexml" id="S3.E4.m1.2.2.1.1.2.2.1.1.1.1.1.cmml" xref="S3.E4.m1.2.2.1.1.2.2.1.1.1.1.1">conditional</csymbol><apply id="S3.E4.m1.2.2.1.1.2.2.1.1.1.1.2.cmml" xref="S3.E4.m1.2.2.1.1.2.2.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E4.m1.2.2.1.1.2.2.1.1.1.1.2.1.cmml" xref="S3.E4.m1.2.2.1.1.2.2.1.1.1.1.2">superscript</csymbol><ci id="S3.E4.m1.2.2.1.1.2.2.1.1.1.1.2.2.cmml" xref="S3.E4.m1.2.2.1.1.2.2.1.1.1.1.2.2">𝒙</ci><ci id="S3.E4.m1.2.2.1.1.2.2.1.1.1.1.2.3.cmml" xref="S3.E4.m1.2.2.1.1.2.2.1.1.1.1.2.3">𝑡</ci></apply><apply id="S3.E4.m1.2.2.1.1.2.2.1.1.1.1.3.cmml" xref="S3.E4.m1.2.2.1.1.2.2.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E4.m1.2.2.1.1.2.2.1.1.1.1.3.1.cmml" xref="S3.E4.m1.2.2.1.1.2.2.1.1.1.1.3">superscript</csymbol><ci id="S3.E4.m1.2.2.1.1.2.2.1.1.1.1.3.2.cmml" xref="S3.E4.m1.2.2.1.1.2.2.1.1.1.1.3.2">𝒙</ci><apply id="S3.E4.m1.2.2.1.1.2.2.1.1.1.1.3.3.cmml" xref="S3.E4.m1.2.2.1.1.2.2.1.1.1.1.3.3"><minus id="S3.E4.m1.2.2.1.1.2.2.1.1.1.1.3.3.1.cmml" xref="S3.E4.m1.2.2.1.1.2.2.1.1.1.1.3.3.1"></minus><ci id="S3.E4.m1.2.2.1.1.2.2.1.1.1.1.3.3.2.cmml" xref="S3.E4.m1.2.2.1.1.2.2.1.1.1.1.3.3.2">𝑡</ci><cn type="integer" id="S3.E4.m1.2.2.1.1.2.2.1.1.1.1.3.3.3.cmml" xref="S3.E4.m1.2.2.1.1.2.2.1.1.1.1.3.3.3">1</cn></apply></apply></apply></apply><apply id="S3.E4.m1.2.2.1.1.2.2.4.cmml" xref="S3.E4.m1.2.2.1.1.2.2.4"><times id="S3.E4.m1.2.2.1.1.2.2.4.4.cmml" xref="S3.E4.m1.2.2.1.1.2.2.4.4"></times><ci id="S3.E4.m1.2.2.1.1.2.2.4.5.cmml" xref="S3.E4.m1.2.2.1.1.2.2.4.5">𝒩</ci><list id="S3.E4.m1.2.2.1.1.2.2.4.3.4.cmml" xref="S3.E4.m1.2.2.1.1.2.2.4.3.3"><apply id="S3.E4.m1.2.2.1.1.2.2.2.1.1.1.cmml" xref="S3.E4.m1.2.2.1.1.2.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.E4.m1.2.2.1.1.2.2.2.1.1.1.1.cmml" xref="S3.E4.m1.2.2.1.1.2.2.2.1.1.1">superscript</csymbol><ci id="S3.E4.m1.2.2.1.1.2.2.2.1.1.1.2.cmml" xref="S3.E4.m1.2.2.1.1.2.2.2.1.1.1.2">𝒙</ci><ci id="S3.E4.m1.2.2.1.1.2.2.2.1.1.1.3.cmml" xref="S3.E4.m1.2.2.1.1.2.2.2.1.1.1.3">𝑡</ci></apply><apply id="S3.E4.m1.2.2.1.1.2.2.3.2.2.2.cmml" xref="S3.E4.m1.2.2.1.1.2.2.3.2.2.2"><times id="S3.E4.m1.2.2.1.1.2.2.3.2.2.2.1.cmml" xref="S3.E4.m1.2.2.1.1.2.2.3.2.2.2.1"></times><apply id="S3.E4.m1.2.2.1.1.2.2.3.2.2.2.2.cmml" xref="S3.E4.m1.2.2.1.1.2.2.3.2.2.2.2"><root id="S3.E4.m1.2.2.1.1.2.2.3.2.2.2.2a.cmml" xref="S3.E4.m1.2.2.1.1.2.2.3.2.2.2.2"></root><apply id="S3.E4.m1.2.2.1.1.2.2.3.2.2.2.2.2.cmml" xref="S3.E4.m1.2.2.1.1.2.2.3.2.2.2.2.2"><minus id="S3.E4.m1.2.2.1.1.2.2.3.2.2.2.2.2.1.cmml" xref="S3.E4.m1.2.2.1.1.2.2.3.2.2.2.2.2.1"></minus><cn type="integer" id="S3.E4.m1.2.2.1.1.2.2.3.2.2.2.2.2.2.cmml" xref="S3.E4.m1.2.2.1.1.2.2.3.2.2.2.2.2.2">1</cn><apply id="S3.E4.m1.2.2.1.1.2.2.3.2.2.2.2.2.3.cmml" xref="S3.E4.m1.2.2.1.1.2.2.3.2.2.2.2.2.3"><csymbol cd="ambiguous" id="S3.E4.m1.2.2.1.1.2.2.3.2.2.2.2.2.3.1.cmml" xref="S3.E4.m1.2.2.1.1.2.2.3.2.2.2.2.2.3">subscript</csymbol><ci id="S3.E4.m1.2.2.1.1.2.2.3.2.2.2.2.2.3.2.cmml" xref="S3.E4.m1.2.2.1.1.2.2.3.2.2.2.2.2.3.2">𝛽</ci><ci id="S3.E4.m1.2.2.1.1.2.2.3.2.2.2.2.2.3.3.cmml" xref="S3.E4.m1.2.2.1.1.2.2.3.2.2.2.2.2.3.3">𝑡</ci></apply></apply></apply><apply id="S3.E4.m1.2.2.1.1.2.2.3.2.2.2.3.cmml" xref="S3.E4.m1.2.2.1.1.2.2.3.2.2.2.3"><csymbol cd="ambiguous" id="S3.E4.m1.2.2.1.1.2.2.3.2.2.2.3.1.cmml" xref="S3.E4.m1.2.2.1.1.2.2.3.2.2.2.3">superscript</csymbol><ci id="S3.E4.m1.2.2.1.1.2.2.3.2.2.2.3.2.cmml" xref="S3.E4.m1.2.2.1.1.2.2.3.2.2.2.3.2">𝒙</ci><apply id="S3.E4.m1.2.2.1.1.2.2.3.2.2.2.3.3.cmml" xref="S3.E4.m1.2.2.1.1.2.2.3.2.2.2.3.3"><minus id="S3.E4.m1.2.2.1.1.2.2.3.2.2.2.3.3.1.cmml" xref="S3.E4.m1.2.2.1.1.2.2.3.2.2.2.3.3.1"></minus><ci id="S3.E4.m1.2.2.1.1.2.2.3.2.2.2.3.3.2.cmml" xref="S3.E4.m1.2.2.1.1.2.2.3.2.2.2.3.3.2">𝑡</ci><cn type="integer" id="S3.E4.m1.2.2.1.1.2.2.3.2.2.2.3.3.3.cmml" xref="S3.E4.m1.2.2.1.1.2.2.3.2.2.2.3.3.3">1</cn></apply></apply></apply><apply id="S3.E4.m1.2.2.1.1.2.2.4.3.3.3.cmml" xref="S3.E4.m1.2.2.1.1.2.2.4.3.3.3"><times id="S3.E4.m1.2.2.1.1.2.2.4.3.3.3.1.cmml" xref="S3.E4.m1.2.2.1.1.2.2.4.3.3.3.1"></times><apply id="S3.E4.m1.2.2.1.1.2.2.4.3.3.3.2.cmml" xref="S3.E4.m1.2.2.1.1.2.2.4.3.3.3.2"><csymbol cd="ambiguous" id="S3.E4.m1.2.2.1.1.2.2.4.3.3.3.2.1.cmml" xref="S3.E4.m1.2.2.1.1.2.2.4.3.3.3.2">subscript</csymbol><ci id="S3.E4.m1.2.2.1.1.2.2.4.3.3.3.2.2.cmml" xref="S3.E4.m1.2.2.1.1.2.2.4.3.3.3.2.2">𝛽</ci><ci id="S3.E4.m1.2.2.1.1.2.2.4.3.3.3.2.3.cmml" xref="S3.E4.m1.2.2.1.1.2.2.4.3.3.3.2.3">𝑡</ci></apply><ci id="S3.E4.m1.2.2.1.1.2.2.4.3.3.3.3.cmml" xref="S3.E4.m1.2.2.1.1.2.2.4.3.3.3.3">𝑰</ci></apply></list></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E4.m1.2c">q({\bm{x}}^{1},\cdots,{\bm{x}}^{T}|{\bm{x}}^{0})=\prod_{t=1}^{T}q({\bm{x}}^{t}|{\bm{x}}^{t-1}),\text{ where }q({\bm{x}}^{t}|{\bm{x}}^{t-1})={\mathcal{N}}({\bm{x}}^{t};\sqrt{1-\beta_{t}}{\bm{x}}^{t-1},\beta_{t}{\bm{I}}),</annotation><annotation encoding="application/x-llamapun" id="S3.E4.m1.2d">italic_q ( bold_italic_x start_POSTSUPERSCRIPT 1 end_POSTSUPERSCRIPT , ⋯ , bold_italic_x start_POSTSUPERSCRIPT italic_T end_POSTSUPERSCRIPT | bold_italic_x start_POSTSUPERSCRIPT 0 end_POSTSUPERSCRIPT ) = ∏ start_POSTSUBSCRIPT italic_t = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_T end_POSTSUPERSCRIPT italic_q ( bold_italic_x start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT | bold_italic_x start_POSTSUPERSCRIPT italic_t - 1 end_POSTSUPERSCRIPT ) , where italic_q ( bold_italic_x start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT | bold_italic_x start_POSTSUPERSCRIPT italic_t - 1 end_POSTSUPERSCRIPT ) = caligraphic_N ( bold_italic_x start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT ; square-root start_ARG 1 - italic_β start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT end_ARG bold_italic_x start_POSTSUPERSCRIPT italic_t - 1 end_POSTSUPERSCRIPT , italic_β start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT bold_italic_I ) ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(4)</span></td>
</tr></tbody>
</table>
<p id="S3.SS1.SSS0.Px1.p1.11" class="ltx_p">where <math id="S3.SS1.SSS0.Px1.p1.6.m1.1" class="ltx_Math" alttext="\beta_{t}" display="inline"><semantics id="S3.SS1.SSS0.Px1.p1.6.m1.1a"><msub id="S3.SS1.SSS0.Px1.p1.6.m1.1.1" xref="S3.SS1.SSS0.Px1.p1.6.m1.1.1.cmml"><mi id="S3.SS1.SSS0.Px1.p1.6.m1.1.1.2" xref="S3.SS1.SSS0.Px1.p1.6.m1.1.1.2.cmml">β</mi><mi id="S3.SS1.SSS0.Px1.p1.6.m1.1.1.3" xref="S3.SS1.SSS0.Px1.p1.6.m1.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px1.p1.6.m1.1b"><apply id="S3.SS1.SSS0.Px1.p1.6.m1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.6.m1.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p1.6.m1.1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.6.m1.1.1">subscript</csymbol><ci id="S3.SS1.SSS0.Px1.p1.6.m1.1.1.2.cmml" xref="S3.SS1.SSS0.Px1.p1.6.m1.1.1.2">𝛽</ci><ci id="S3.SS1.SSS0.Px1.p1.6.m1.1.1.3.cmml" xref="S3.SS1.SSS0.Px1.p1.6.m1.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px1.p1.6.m1.1c">\beta_{t}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS0.Px1.p1.6.m1.1d">italic_β start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math>’s are predefined small positive constants. We give the detailed definition of <math id="S3.SS1.SSS0.Px1.p1.7.m2.1" class="ltx_Math" alttext="\beta_{t}" display="inline"><semantics id="S3.SS1.SSS0.Px1.p1.7.m2.1a"><msub id="S3.SS1.SSS0.Px1.p1.7.m2.1.1" xref="S3.SS1.SSS0.Px1.p1.7.m2.1.1.cmml"><mi id="S3.SS1.SSS0.Px1.p1.7.m2.1.1.2" xref="S3.SS1.SSS0.Px1.p1.7.m2.1.1.2.cmml">β</mi><mi id="S3.SS1.SSS0.Px1.p1.7.m2.1.1.3" xref="S3.SS1.SSS0.Px1.p1.7.m2.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px1.p1.7.m2.1b"><apply id="S3.SS1.SSS0.Px1.p1.7.m2.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.7.m2.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p1.7.m2.1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.7.m2.1.1">subscript</csymbol><ci id="S3.SS1.SSS0.Px1.p1.7.m2.1.1.2.cmml" xref="S3.SS1.SSS0.Px1.p1.7.m2.1.1.2">𝛽</ci><ci id="S3.SS1.SSS0.Px1.p1.7.m2.1.1.3.cmml" xref="S3.SS1.SSS0.Px1.p1.7.m2.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px1.p1.7.m2.1c">\beta_{t}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS0.Px1.p1.7.m2.1d">italic_β start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math> in the corresponding experiment part.
According to <cite class="ltx_cite ltx_citemacro_citet">Ho et al. (<a href="#bib.bib17" title="" class="ltx_ref">2020b</a>)</cite>, there is a closed form expression for <math id="S3.SS1.SSS0.Px1.p1.8.m3.1" class="ltx_Math" alttext="q({\bm{x}}^{t}|{\bm{x}}^{0})" display="inline"><semantics id="S3.SS1.SSS0.Px1.p1.8.m3.1a"><mrow id="S3.SS1.SSS0.Px1.p1.8.m3.1.1" xref="S3.SS1.SSS0.Px1.p1.8.m3.1.1.cmml"><mi id="S3.SS1.SSS0.Px1.p1.8.m3.1.1.3" xref="S3.SS1.SSS0.Px1.p1.8.m3.1.1.3.cmml">q</mi><mo id="S3.SS1.SSS0.Px1.p1.8.m3.1.1.2" xref="S3.SS1.SSS0.Px1.p1.8.m3.1.1.2.cmml">⁢</mo><mrow id="S3.SS1.SSS0.Px1.p1.8.m3.1.1.1.1" xref="S3.SS1.SSS0.Px1.p1.8.m3.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.SS1.SSS0.Px1.p1.8.m3.1.1.1.1.2" xref="S3.SS1.SSS0.Px1.p1.8.m3.1.1.1.1.1.cmml">(</mo><mrow id="S3.SS1.SSS0.Px1.p1.8.m3.1.1.1.1.1" xref="S3.SS1.SSS0.Px1.p1.8.m3.1.1.1.1.1.cmml"><msup id="S3.SS1.SSS0.Px1.p1.8.m3.1.1.1.1.1.2" xref="S3.SS1.SSS0.Px1.p1.8.m3.1.1.1.1.1.2.cmml"><mi id="S3.SS1.SSS0.Px1.p1.8.m3.1.1.1.1.1.2.2" xref="S3.SS1.SSS0.Px1.p1.8.m3.1.1.1.1.1.2.2.cmml">𝒙</mi><mi id="S3.SS1.SSS0.Px1.p1.8.m3.1.1.1.1.1.2.3" xref="S3.SS1.SSS0.Px1.p1.8.m3.1.1.1.1.1.2.3.cmml">t</mi></msup><mo fence="false" id="S3.SS1.SSS0.Px1.p1.8.m3.1.1.1.1.1.1" xref="S3.SS1.SSS0.Px1.p1.8.m3.1.1.1.1.1.1.cmml">|</mo><msup id="S3.SS1.SSS0.Px1.p1.8.m3.1.1.1.1.1.3" xref="S3.SS1.SSS0.Px1.p1.8.m3.1.1.1.1.1.3.cmml"><mi id="S3.SS1.SSS0.Px1.p1.8.m3.1.1.1.1.1.3.2" xref="S3.SS1.SSS0.Px1.p1.8.m3.1.1.1.1.1.3.2.cmml">𝒙</mi><mn id="S3.SS1.SSS0.Px1.p1.8.m3.1.1.1.1.1.3.3" xref="S3.SS1.SSS0.Px1.p1.8.m3.1.1.1.1.1.3.3.cmml">0</mn></msup></mrow><mo stretchy="false" id="S3.SS1.SSS0.Px1.p1.8.m3.1.1.1.1.3" xref="S3.SS1.SSS0.Px1.p1.8.m3.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px1.p1.8.m3.1b"><apply id="S3.SS1.SSS0.Px1.p1.8.m3.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.8.m3.1.1"><times id="S3.SS1.SSS0.Px1.p1.8.m3.1.1.2.cmml" xref="S3.SS1.SSS0.Px1.p1.8.m3.1.1.2"></times><ci id="S3.SS1.SSS0.Px1.p1.8.m3.1.1.3.cmml" xref="S3.SS1.SSS0.Px1.p1.8.m3.1.1.3">𝑞</ci><apply id="S3.SS1.SSS0.Px1.p1.8.m3.1.1.1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.8.m3.1.1.1.1"><csymbol cd="latexml" id="S3.SS1.SSS0.Px1.p1.8.m3.1.1.1.1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.8.m3.1.1.1.1.1.1">conditional</csymbol><apply id="S3.SS1.SSS0.Px1.p1.8.m3.1.1.1.1.1.2.cmml" xref="S3.SS1.SSS0.Px1.p1.8.m3.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p1.8.m3.1.1.1.1.1.2.1.cmml" xref="S3.SS1.SSS0.Px1.p1.8.m3.1.1.1.1.1.2">superscript</csymbol><ci id="S3.SS1.SSS0.Px1.p1.8.m3.1.1.1.1.1.2.2.cmml" xref="S3.SS1.SSS0.Px1.p1.8.m3.1.1.1.1.1.2.2">𝒙</ci><ci id="S3.SS1.SSS0.Px1.p1.8.m3.1.1.1.1.1.2.3.cmml" xref="S3.SS1.SSS0.Px1.p1.8.m3.1.1.1.1.1.2.3">𝑡</ci></apply><apply id="S3.SS1.SSS0.Px1.p1.8.m3.1.1.1.1.1.3.cmml" xref="S3.SS1.SSS0.Px1.p1.8.m3.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p1.8.m3.1.1.1.1.1.3.1.cmml" xref="S3.SS1.SSS0.Px1.p1.8.m3.1.1.1.1.1.3">superscript</csymbol><ci id="S3.SS1.SSS0.Px1.p1.8.m3.1.1.1.1.1.3.2.cmml" xref="S3.SS1.SSS0.Px1.p1.8.m3.1.1.1.1.1.3.2">𝒙</ci><cn type="integer" id="S3.SS1.SSS0.Px1.p1.8.m3.1.1.1.1.1.3.3.cmml" xref="S3.SS1.SSS0.Px1.p1.8.m3.1.1.1.1.1.3.3">0</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px1.p1.8.m3.1c">q({\bm{x}}^{t}|{\bm{x}}^{0})</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS0.Px1.p1.8.m3.1d">italic_q ( bold_italic_x start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT | bold_italic_x start_POSTSUPERSCRIPT 0 end_POSTSUPERSCRIPT )</annotation></semantics></math>. We first define constants <math id="S3.SS1.SSS0.Px1.p1.9.m4.1" class="ltx_Math" alttext="\alpha_{t}=1-\beta_{t}" display="inline"><semantics id="S3.SS1.SSS0.Px1.p1.9.m4.1a"><mrow id="S3.SS1.SSS0.Px1.p1.9.m4.1.1" xref="S3.SS1.SSS0.Px1.p1.9.m4.1.1.cmml"><msub id="S3.SS1.SSS0.Px1.p1.9.m4.1.1.2" xref="S3.SS1.SSS0.Px1.p1.9.m4.1.1.2.cmml"><mi id="S3.SS1.SSS0.Px1.p1.9.m4.1.1.2.2" xref="S3.SS1.SSS0.Px1.p1.9.m4.1.1.2.2.cmml">α</mi><mi id="S3.SS1.SSS0.Px1.p1.9.m4.1.1.2.3" xref="S3.SS1.SSS0.Px1.p1.9.m4.1.1.2.3.cmml">t</mi></msub><mo id="S3.SS1.SSS0.Px1.p1.9.m4.1.1.1" xref="S3.SS1.SSS0.Px1.p1.9.m4.1.1.1.cmml">=</mo><mrow id="S3.SS1.SSS0.Px1.p1.9.m4.1.1.3" xref="S3.SS1.SSS0.Px1.p1.9.m4.1.1.3.cmml"><mn id="S3.SS1.SSS0.Px1.p1.9.m4.1.1.3.2" xref="S3.SS1.SSS0.Px1.p1.9.m4.1.1.3.2.cmml">1</mn><mo id="S3.SS1.SSS0.Px1.p1.9.m4.1.1.3.1" xref="S3.SS1.SSS0.Px1.p1.9.m4.1.1.3.1.cmml">−</mo><msub id="S3.SS1.SSS0.Px1.p1.9.m4.1.1.3.3" xref="S3.SS1.SSS0.Px1.p1.9.m4.1.1.3.3.cmml"><mi id="S3.SS1.SSS0.Px1.p1.9.m4.1.1.3.3.2" xref="S3.SS1.SSS0.Px1.p1.9.m4.1.1.3.3.2.cmml">β</mi><mi id="S3.SS1.SSS0.Px1.p1.9.m4.1.1.3.3.3" xref="S3.SS1.SSS0.Px1.p1.9.m4.1.1.3.3.3.cmml">t</mi></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px1.p1.9.m4.1b"><apply id="S3.SS1.SSS0.Px1.p1.9.m4.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.9.m4.1.1"><eq id="S3.SS1.SSS0.Px1.p1.9.m4.1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.9.m4.1.1.1"></eq><apply id="S3.SS1.SSS0.Px1.p1.9.m4.1.1.2.cmml" xref="S3.SS1.SSS0.Px1.p1.9.m4.1.1.2"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p1.9.m4.1.1.2.1.cmml" xref="S3.SS1.SSS0.Px1.p1.9.m4.1.1.2">subscript</csymbol><ci id="S3.SS1.SSS0.Px1.p1.9.m4.1.1.2.2.cmml" xref="S3.SS1.SSS0.Px1.p1.9.m4.1.1.2.2">𝛼</ci><ci id="S3.SS1.SSS0.Px1.p1.9.m4.1.1.2.3.cmml" xref="S3.SS1.SSS0.Px1.p1.9.m4.1.1.2.3">𝑡</ci></apply><apply id="S3.SS1.SSS0.Px1.p1.9.m4.1.1.3.cmml" xref="S3.SS1.SSS0.Px1.p1.9.m4.1.1.3"><minus id="S3.SS1.SSS0.Px1.p1.9.m4.1.1.3.1.cmml" xref="S3.SS1.SSS0.Px1.p1.9.m4.1.1.3.1"></minus><cn type="integer" id="S3.SS1.SSS0.Px1.p1.9.m4.1.1.3.2.cmml" xref="S3.SS1.SSS0.Px1.p1.9.m4.1.1.3.2">1</cn><apply id="S3.SS1.SSS0.Px1.p1.9.m4.1.1.3.3.cmml" xref="S3.SS1.SSS0.Px1.p1.9.m4.1.1.3.3"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p1.9.m4.1.1.3.3.1.cmml" xref="S3.SS1.SSS0.Px1.p1.9.m4.1.1.3.3">subscript</csymbol><ci id="S3.SS1.SSS0.Px1.p1.9.m4.1.1.3.3.2.cmml" xref="S3.SS1.SSS0.Px1.p1.9.m4.1.1.3.3.2">𝛽</ci><ci id="S3.SS1.SSS0.Px1.p1.9.m4.1.1.3.3.3.cmml" xref="S3.SS1.SSS0.Px1.p1.9.m4.1.1.3.3.3">𝑡</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px1.p1.9.m4.1c">\alpha_{t}=1-\beta_{t}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS0.Px1.p1.9.m4.1d">italic_α start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT = 1 - italic_β start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math>, <math id="S3.SS1.SSS0.Px1.p1.10.m5.1" class="ltx_Math" alttext="\bar{\alpha}_{t}=\prod_{i=1}^{t}\alpha_{i}" display="inline"><semantics id="S3.SS1.SSS0.Px1.p1.10.m5.1a"><mrow id="S3.SS1.SSS0.Px1.p1.10.m5.1.1" xref="S3.SS1.SSS0.Px1.p1.10.m5.1.1.cmml"><msub id="S3.SS1.SSS0.Px1.p1.10.m5.1.1.2" xref="S3.SS1.SSS0.Px1.p1.10.m5.1.1.2.cmml"><mover accent="true" id="S3.SS1.SSS0.Px1.p1.10.m5.1.1.2.2" xref="S3.SS1.SSS0.Px1.p1.10.m5.1.1.2.2.cmml"><mi id="S3.SS1.SSS0.Px1.p1.10.m5.1.1.2.2.2" xref="S3.SS1.SSS0.Px1.p1.10.m5.1.1.2.2.2.cmml">α</mi><mo id="S3.SS1.SSS0.Px1.p1.10.m5.1.1.2.2.1" xref="S3.SS1.SSS0.Px1.p1.10.m5.1.1.2.2.1.cmml">¯</mo></mover><mi id="S3.SS1.SSS0.Px1.p1.10.m5.1.1.2.3" xref="S3.SS1.SSS0.Px1.p1.10.m5.1.1.2.3.cmml">t</mi></msub><mo rspace="0.111em" id="S3.SS1.SSS0.Px1.p1.10.m5.1.1.1" xref="S3.SS1.SSS0.Px1.p1.10.m5.1.1.1.cmml">=</mo><mrow id="S3.SS1.SSS0.Px1.p1.10.m5.1.1.3" xref="S3.SS1.SSS0.Px1.p1.10.m5.1.1.3.cmml"><msubsup id="S3.SS1.SSS0.Px1.p1.10.m5.1.1.3.1" xref="S3.SS1.SSS0.Px1.p1.10.m5.1.1.3.1.cmml"><mo id="S3.SS1.SSS0.Px1.p1.10.m5.1.1.3.1.2.2" xref="S3.SS1.SSS0.Px1.p1.10.m5.1.1.3.1.2.2.cmml">∏</mo><mrow id="S3.SS1.SSS0.Px1.p1.10.m5.1.1.3.1.2.3" xref="S3.SS1.SSS0.Px1.p1.10.m5.1.1.3.1.2.3.cmml"><mi id="S3.SS1.SSS0.Px1.p1.10.m5.1.1.3.1.2.3.2" xref="S3.SS1.SSS0.Px1.p1.10.m5.1.1.3.1.2.3.2.cmml">i</mi><mo id="S3.SS1.SSS0.Px1.p1.10.m5.1.1.3.1.2.3.1" xref="S3.SS1.SSS0.Px1.p1.10.m5.1.1.3.1.2.3.1.cmml">=</mo><mn id="S3.SS1.SSS0.Px1.p1.10.m5.1.1.3.1.2.3.3" xref="S3.SS1.SSS0.Px1.p1.10.m5.1.1.3.1.2.3.3.cmml">1</mn></mrow><mi id="S3.SS1.SSS0.Px1.p1.10.m5.1.1.3.1.3" xref="S3.SS1.SSS0.Px1.p1.10.m5.1.1.3.1.3.cmml">t</mi></msubsup><msub id="S3.SS1.SSS0.Px1.p1.10.m5.1.1.3.2" xref="S3.SS1.SSS0.Px1.p1.10.m5.1.1.3.2.cmml"><mi id="S3.SS1.SSS0.Px1.p1.10.m5.1.1.3.2.2" xref="S3.SS1.SSS0.Px1.p1.10.m5.1.1.3.2.2.cmml">α</mi><mi id="S3.SS1.SSS0.Px1.p1.10.m5.1.1.3.2.3" xref="S3.SS1.SSS0.Px1.p1.10.m5.1.1.3.2.3.cmml">i</mi></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px1.p1.10.m5.1b"><apply id="S3.SS1.SSS0.Px1.p1.10.m5.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.10.m5.1.1"><eq id="S3.SS1.SSS0.Px1.p1.10.m5.1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.10.m5.1.1.1"></eq><apply id="S3.SS1.SSS0.Px1.p1.10.m5.1.1.2.cmml" xref="S3.SS1.SSS0.Px1.p1.10.m5.1.1.2"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p1.10.m5.1.1.2.1.cmml" xref="S3.SS1.SSS0.Px1.p1.10.m5.1.1.2">subscript</csymbol><apply id="S3.SS1.SSS0.Px1.p1.10.m5.1.1.2.2.cmml" xref="S3.SS1.SSS0.Px1.p1.10.m5.1.1.2.2"><ci id="S3.SS1.SSS0.Px1.p1.10.m5.1.1.2.2.1.cmml" xref="S3.SS1.SSS0.Px1.p1.10.m5.1.1.2.2.1">¯</ci><ci id="S3.SS1.SSS0.Px1.p1.10.m5.1.1.2.2.2.cmml" xref="S3.SS1.SSS0.Px1.p1.10.m5.1.1.2.2.2">𝛼</ci></apply><ci id="S3.SS1.SSS0.Px1.p1.10.m5.1.1.2.3.cmml" xref="S3.SS1.SSS0.Px1.p1.10.m5.1.1.2.3">𝑡</ci></apply><apply id="S3.SS1.SSS0.Px1.p1.10.m5.1.1.3.cmml" xref="S3.SS1.SSS0.Px1.p1.10.m5.1.1.3"><apply id="S3.SS1.SSS0.Px1.p1.10.m5.1.1.3.1.cmml" xref="S3.SS1.SSS0.Px1.p1.10.m5.1.1.3.1"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p1.10.m5.1.1.3.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.10.m5.1.1.3.1">superscript</csymbol><apply id="S3.SS1.SSS0.Px1.p1.10.m5.1.1.3.1.2.cmml" xref="S3.SS1.SSS0.Px1.p1.10.m5.1.1.3.1"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p1.10.m5.1.1.3.1.2.1.cmml" xref="S3.SS1.SSS0.Px1.p1.10.m5.1.1.3.1">subscript</csymbol><csymbol cd="latexml" id="S3.SS1.SSS0.Px1.p1.10.m5.1.1.3.1.2.2.cmml" xref="S3.SS1.SSS0.Px1.p1.10.m5.1.1.3.1.2.2">product</csymbol><apply id="S3.SS1.SSS0.Px1.p1.10.m5.1.1.3.1.2.3.cmml" xref="S3.SS1.SSS0.Px1.p1.10.m5.1.1.3.1.2.3"><eq id="S3.SS1.SSS0.Px1.p1.10.m5.1.1.3.1.2.3.1.cmml" xref="S3.SS1.SSS0.Px1.p1.10.m5.1.1.3.1.2.3.1"></eq><ci id="S3.SS1.SSS0.Px1.p1.10.m5.1.1.3.1.2.3.2.cmml" xref="S3.SS1.SSS0.Px1.p1.10.m5.1.1.3.1.2.3.2">𝑖</ci><cn type="integer" id="S3.SS1.SSS0.Px1.p1.10.m5.1.1.3.1.2.3.3.cmml" xref="S3.SS1.SSS0.Px1.p1.10.m5.1.1.3.1.2.3.3">1</cn></apply></apply><ci id="S3.SS1.SSS0.Px1.p1.10.m5.1.1.3.1.3.cmml" xref="S3.SS1.SSS0.Px1.p1.10.m5.1.1.3.1.3">𝑡</ci></apply><apply id="S3.SS1.SSS0.Px1.p1.10.m5.1.1.3.2.cmml" xref="S3.SS1.SSS0.Px1.p1.10.m5.1.1.3.2"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p1.10.m5.1.1.3.2.1.cmml" xref="S3.SS1.SSS0.Px1.p1.10.m5.1.1.3.2">subscript</csymbol><ci id="S3.SS1.SSS0.Px1.p1.10.m5.1.1.3.2.2.cmml" xref="S3.SS1.SSS0.Px1.p1.10.m5.1.1.3.2.2">𝛼</ci><ci id="S3.SS1.SSS0.Px1.p1.10.m5.1.1.3.2.3.cmml" xref="S3.SS1.SSS0.Px1.p1.10.m5.1.1.3.2.3">𝑖</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px1.p1.10.m5.1c">\bar{\alpha}_{t}=\prod_{i=1}^{t}\alpha_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS0.Px1.p1.10.m5.1d">over¯ start_ARG italic_α end_ARG start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT = ∏ start_POSTSUBSCRIPT italic_i = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT italic_α start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math>. Then, we have
<math id="S3.SS1.SSS0.Px1.p1.11.m6.4" class="ltx_Math" alttext="q({\bm{x}}^{t}|{\bm{x}}^{0})={\mathcal{N}}\left({\bm{x}}^{t};\sqrt{\bar{\alpha}_{t}}{\bm{x}}^{0},(1-\bar{\alpha}_{t}){\bm{I}}\right)" display="inline"><semantics id="S3.SS1.SSS0.Px1.p1.11.m6.4a"><mrow id="S3.SS1.SSS0.Px1.p1.11.m6.4.4" xref="S3.SS1.SSS0.Px1.p1.11.m6.4.4.cmml"><mrow id="S3.SS1.SSS0.Px1.p1.11.m6.1.1.1" xref="S3.SS1.SSS0.Px1.p1.11.m6.1.1.1.cmml"><mi id="S3.SS1.SSS0.Px1.p1.11.m6.1.1.1.3" xref="S3.SS1.SSS0.Px1.p1.11.m6.1.1.1.3.cmml">q</mi><mo id="S3.SS1.SSS0.Px1.p1.11.m6.1.1.1.2" xref="S3.SS1.SSS0.Px1.p1.11.m6.1.1.1.2.cmml">⁢</mo><mrow id="S3.SS1.SSS0.Px1.p1.11.m6.1.1.1.1.1" xref="S3.SS1.SSS0.Px1.p1.11.m6.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.SS1.SSS0.Px1.p1.11.m6.1.1.1.1.1.2" xref="S3.SS1.SSS0.Px1.p1.11.m6.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.SS1.SSS0.Px1.p1.11.m6.1.1.1.1.1.1" xref="S3.SS1.SSS0.Px1.p1.11.m6.1.1.1.1.1.1.cmml"><msup id="S3.SS1.SSS0.Px1.p1.11.m6.1.1.1.1.1.1.2" xref="S3.SS1.SSS0.Px1.p1.11.m6.1.1.1.1.1.1.2.cmml"><mi id="S3.SS1.SSS0.Px1.p1.11.m6.1.1.1.1.1.1.2.2" xref="S3.SS1.SSS0.Px1.p1.11.m6.1.1.1.1.1.1.2.2.cmml">𝒙</mi><mi id="S3.SS1.SSS0.Px1.p1.11.m6.1.1.1.1.1.1.2.3" xref="S3.SS1.SSS0.Px1.p1.11.m6.1.1.1.1.1.1.2.3.cmml">t</mi></msup><mo fence="false" id="S3.SS1.SSS0.Px1.p1.11.m6.1.1.1.1.1.1.1" xref="S3.SS1.SSS0.Px1.p1.11.m6.1.1.1.1.1.1.1.cmml">|</mo><msup id="S3.SS1.SSS0.Px1.p1.11.m6.1.1.1.1.1.1.3" xref="S3.SS1.SSS0.Px1.p1.11.m6.1.1.1.1.1.1.3.cmml"><mi id="S3.SS1.SSS0.Px1.p1.11.m6.1.1.1.1.1.1.3.2" xref="S3.SS1.SSS0.Px1.p1.11.m6.1.1.1.1.1.1.3.2.cmml">𝒙</mi><mn id="S3.SS1.SSS0.Px1.p1.11.m6.1.1.1.1.1.1.3.3" xref="S3.SS1.SSS0.Px1.p1.11.m6.1.1.1.1.1.1.3.3.cmml">0</mn></msup></mrow><mo stretchy="false" id="S3.SS1.SSS0.Px1.p1.11.m6.1.1.1.1.1.3" xref="S3.SS1.SSS0.Px1.p1.11.m6.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.SS1.SSS0.Px1.p1.11.m6.4.4.5" xref="S3.SS1.SSS0.Px1.p1.11.m6.4.4.5.cmml">=</mo><mrow id="S3.SS1.SSS0.Px1.p1.11.m6.4.4.4" xref="S3.SS1.SSS0.Px1.p1.11.m6.4.4.4.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.SSS0.Px1.p1.11.m6.4.4.4.5" xref="S3.SS1.SSS0.Px1.p1.11.m6.4.4.4.5.cmml">𝒩</mi><mo id="S3.SS1.SSS0.Px1.p1.11.m6.4.4.4.4" xref="S3.SS1.SSS0.Px1.p1.11.m6.4.4.4.4.cmml">⁢</mo><mrow id="S3.SS1.SSS0.Px1.p1.11.m6.4.4.4.3.3" xref="S3.SS1.SSS0.Px1.p1.11.m6.4.4.4.3.4.cmml"><mo id="S3.SS1.SSS0.Px1.p1.11.m6.4.4.4.3.3.4" xref="S3.SS1.SSS0.Px1.p1.11.m6.4.4.4.3.4.cmml">(</mo><msup id="S3.SS1.SSS0.Px1.p1.11.m6.2.2.2.1.1.1" xref="S3.SS1.SSS0.Px1.p1.11.m6.2.2.2.1.1.1.cmml"><mi id="S3.SS1.SSS0.Px1.p1.11.m6.2.2.2.1.1.1.2" xref="S3.SS1.SSS0.Px1.p1.11.m6.2.2.2.1.1.1.2.cmml">𝒙</mi><mi id="S3.SS1.SSS0.Px1.p1.11.m6.2.2.2.1.1.1.3" xref="S3.SS1.SSS0.Px1.p1.11.m6.2.2.2.1.1.1.3.cmml">t</mi></msup><mo id="S3.SS1.SSS0.Px1.p1.11.m6.4.4.4.3.3.5" xref="S3.SS1.SSS0.Px1.p1.11.m6.4.4.4.3.4.cmml">;</mo><mrow id="S3.SS1.SSS0.Px1.p1.11.m6.3.3.3.2.2.2" xref="S3.SS1.SSS0.Px1.p1.11.m6.3.3.3.2.2.2.cmml"><msqrt id="S3.SS1.SSS0.Px1.p1.11.m6.3.3.3.2.2.2.2" xref="S3.SS1.SSS0.Px1.p1.11.m6.3.3.3.2.2.2.2.cmml"><msub id="S3.SS1.SSS0.Px1.p1.11.m6.3.3.3.2.2.2.2.2" xref="S3.SS1.SSS0.Px1.p1.11.m6.3.3.3.2.2.2.2.2.cmml"><mover accent="true" id="S3.SS1.SSS0.Px1.p1.11.m6.3.3.3.2.2.2.2.2.2" xref="S3.SS1.SSS0.Px1.p1.11.m6.3.3.3.2.2.2.2.2.2.cmml"><mi id="S3.SS1.SSS0.Px1.p1.11.m6.3.3.3.2.2.2.2.2.2.2" xref="S3.SS1.SSS0.Px1.p1.11.m6.3.3.3.2.2.2.2.2.2.2.cmml">α</mi><mo id="S3.SS1.SSS0.Px1.p1.11.m6.3.3.3.2.2.2.2.2.2.1" xref="S3.SS1.SSS0.Px1.p1.11.m6.3.3.3.2.2.2.2.2.2.1.cmml">¯</mo></mover><mi id="S3.SS1.SSS0.Px1.p1.11.m6.3.3.3.2.2.2.2.2.3" xref="S3.SS1.SSS0.Px1.p1.11.m6.3.3.3.2.2.2.2.2.3.cmml">t</mi></msub></msqrt><mo id="S3.SS1.SSS0.Px1.p1.11.m6.3.3.3.2.2.2.1" xref="S3.SS1.SSS0.Px1.p1.11.m6.3.3.3.2.2.2.1.cmml">⁢</mo><msup id="S3.SS1.SSS0.Px1.p1.11.m6.3.3.3.2.2.2.3" xref="S3.SS1.SSS0.Px1.p1.11.m6.3.3.3.2.2.2.3.cmml"><mi id="S3.SS1.SSS0.Px1.p1.11.m6.3.3.3.2.2.2.3.2" xref="S3.SS1.SSS0.Px1.p1.11.m6.3.3.3.2.2.2.3.2.cmml">𝒙</mi><mn id="S3.SS1.SSS0.Px1.p1.11.m6.3.3.3.2.2.2.3.3" xref="S3.SS1.SSS0.Px1.p1.11.m6.3.3.3.2.2.2.3.3.cmml">0</mn></msup></mrow><mo id="S3.SS1.SSS0.Px1.p1.11.m6.4.4.4.3.3.6" xref="S3.SS1.SSS0.Px1.p1.11.m6.4.4.4.3.4.cmml">,</mo><mrow id="S3.SS1.SSS0.Px1.p1.11.m6.4.4.4.3.3.3" xref="S3.SS1.SSS0.Px1.p1.11.m6.4.4.4.3.3.3.cmml"><mrow id="S3.SS1.SSS0.Px1.p1.11.m6.4.4.4.3.3.3.1.1" xref="S3.SS1.SSS0.Px1.p1.11.m6.4.4.4.3.3.3.1.1.1.cmml"><mo stretchy="false" id="S3.SS1.SSS0.Px1.p1.11.m6.4.4.4.3.3.3.1.1.2" xref="S3.SS1.SSS0.Px1.p1.11.m6.4.4.4.3.3.3.1.1.1.cmml">(</mo><mrow id="S3.SS1.SSS0.Px1.p1.11.m6.4.4.4.3.3.3.1.1.1" xref="S3.SS1.SSS0.Px1.p1.11.m6.4.4.4.3.3.3.1.1.1.cmml"><mn id="S3.SS1.SSS0.Px1.p1.11.m6.4.4.4.3.3.3.1.1.1.2" xref="S3.SS1.SSS0.Px1.p1.11.m6.4.4.4.3.3.3.1.1.1.2.cmml">1</mn><mo id="S3.SS1.SSS0.Px1.p1.11.m6.4.4.4.3.3.3.1.1.1.1" xref="S3.SS1.SSS0.Px1.p1.11.m6.4.4.4.3.3.3.1.1.1.1.cmml">−</mo><msub id="S3.SS1.SSS0.Px1.p1.11.m6.4.4.4.3.3.3.1.1.1.3" xref="S3.SS1.SSS0.Px1.p1.11.m6.4.4.4.3.3.3.1.1.1.3.cmml"><mover accent="true" id="S3.SS1.SSS0.Px1.p1.11.m6.4.4.4.3.3.3.1.1.1.3.2" xref="S3.SS1.SSS0.Px1.p1.11.m6.4.4.4.3.3.3.1.1.1.3.2.cmml"><mi id="S3.SS1.SSS0.Px1.p1.11.m6.4.4.4.3.3.3.1.1.1.3.2.2" xref="S3.SS1.SSS0.Px1.p1.11.m6.4.4.4.3.3.3.1.1.1.3.2.2.cmml">α</mi><mo id="S3.SS1.SSS0.Px1.p1.11.m6.4.4.4.3.3.3.1.1.1.3.2.1" xref="S3.SS1.SSS0.Px1.p1.11.m6.4.4.4.3.3.3.1.1.1.3.2.1.cmml">¯</mo></mover><mi id="S3.SS1.SSS0.Px1.p1.11.m6.4.4.4.3.3.3.1.1.1.3.3" xref="S3.SS1.SSS0.Px1.p1.11.m6.4.4.4.3.3.3.1.1.1.3.3.cmml">t</mi></msub></mrow><mo stretchy="false" id="S3.SS1.SSS0.Px1.p1.11.m6.4.4.4.3.3.3.1.1.3" xref="S3.SS1.SSS0.Px1.p1.11.m6.4.4.4.3.3.3.1.1.1.cmml">)</mo></mrow><mo id="S3.SS1.SSS0.Px1.p1.11.m6.4.4.4.3.3.3.2" xref="S3.SS1.SSS0.Px1.p1.11.m6.4.4.4.3.3.3.2.cmml">⁢</mo><mi id="S3.SS1.SSS0.Px1.p1.11.m6.4.4.4.3.3.3.3" xref="S3.SS1.SSS0.Px1.p1.11.m6.4.4.4.3.3.3.3.cmml">𝑰</mi></mrow><mo id="S3.SS1.SSS0.Px1.p1.11.m6.4.4.4.3.3.7" xref="S3.SS1.SSS0.Px1.p1.11.m6.4.4.4.3.4.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px1.p1.11.m6.4b"><apply id="S3.SS1.SSS0.Px1.p1.11.m6.4.4.cmml" xref="S3.SS1.SSS0.Px1.p1.11.m6.4.4"><eq id="S3.SS1.SSS0.Px1.p1.11.m6.4.4.5.cmml" xref="S3.SS1.SSS0.Px1.p1.11.m6.4.4.5"></eq><apply id="S3.SS1.SSS0.Px1.p1.11.m6.1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.11.m6.1.1.1"><times id="S3.SS1.SSS0.Px1.p1.11.m6.1.1.1.2.cmml" xref="S3.SS1.SSS0.Px1.p1.11.m6.1.1.1.2"></times><ci id="S3.SS1.SSS0.Px1.p1.11.m6.1.1.1.3.cmml" xref="S3.SS1.SSS0.Px1.p1.11.m6.1.1.1.3">𝑞</ci><apply id="S3.SS1.SSS0.Px1.p1.11.m6.1.1.1.1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.11.m6.1.1.1.1.1"><csymbol cd="latexml" id="S3.SS1.SSS0.Px1.p1.11.m6.1.1.1.1.1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.11.m6.1.1.1.1.1.1.1">conditional</csymbol><apply id="S3.SS1.SSS0.Px1.p1.11.m6.1.1.1.1.1.1.2.cmml" xref="S3.SS1.SSS0.Px1.p1.11.m6.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p1.11.m6.1.1.1.1.1.1.2.1.cmml" xref="S3.SS1.SSS0.Px1.p1.11.m6.1.1.1.1.1.1.2">superscript</csymbol><ci id="S3.SS1.SSS0.Px1.p1.11.m6.1.1.1.1.1.1.2.2.cmml" xref="S3.SS1.SSS0.Px1.p1.11.m6.1.1.1.1.1.1.2.2">𝒙</ci><ci id="S3.SS1.SSS0.Px1.p1.11.m6.1.1.1.1.1.1.2.3.cmml" xref="S3.SS1.SSS0.Px1.p1.11.m6.1.1.1.1.1.1.2.3">𝑡</ci></apply><apply id="S3.SS1.SSS0.Px1.p1.11.m6.1.1.1.1.1.1.3.cmml" xref="S3.SS1.SSS0.Px1.p1.11.m6.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p1.11.m6.1.1.1.1.1.1.3.1.cmml" xref="S3.SS1.SSS0.Px1.p1.11.m6.1.1.1.1.1.1.3">superscript</csymbol><ci id="S3.SS1.SSS0.Px1.p1.11.m6.1.1.1.1.1.1.3.2.cmml" xref="S3.SS1.SSS0.Px1.p1.11.m6.1.1.1.1.1.1.3.2">𝒙</ci><cn type="integer" id="S3.SS1.SSS0.Px1.p1.11.m6.1.1.1.1.1.1.3.3.cmml" xref="S3.SS1.SSS0.Px1.p1.11.m6.1.1.1.1.1.1.3.3">0</cn></apply></apply></apply><apply id="S3.SS1.SSS0.Px1.p1.11.m6.4.4.4.cmml" xref="S3.SS1.SSS0.Px1.p1.11.m6.4.4.4"><times id="S3.SS1.SSS0.Px1.p1.11.m6.4.4.4.4.cmml" xref="S3.SS1.SSS0.Px1.p1.11.m6.4.4.4.4"></times><ci id="S3.SS1.SSS0.Px1.p1.11.m6.4.4.4.5.cmml" xref="S3.SS1.SSS0.Px1.p1.11.m6.4.4.4.5">𝒩</ci><list id="S3.SS1.SSS0.Px1.p1.11.m6.4.4.4.3.4.cmml" xref="S3.SS1.SSS0.Px1.p1.11.m6.4.4.4.3.3"><apply id="S3.SS1.SSS0.Px1.p1.11.m6.2.2.2.1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.11.m6.2.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p1.11.m6.2.2.2.1.1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.11.m6.2.2.2.1.1.1">superscript</csymbol><ci id="S3.SS1.SSS0.Px1.p1.11.m6.2.2.2.1.1.1.2.cmml" xref="S3.SS1.SSS0.Px1.p1.11.m6.2.2.2.1.1.1.2">𝒙</ci><ci id="S3.SS1.SSS0.Px1.p1.11.m6.2.2.2.1.1.1.3.cmml" xref="S3.SS1.SSS0.Px1.p1.11.m6.2.2.2.1.1.1.3">𝑡</ci></apply><apply id="S3.SS1.SSS0.Px1.p1.11.m6.3.3.3.2.2.2.cmml" xref="S3.SS1.SSS0.Px1.p1.11.m6.3.3.3.2.2.2"><times id="S3.SS1.SSS0.Px1.p1.11.m6.3.3.3.2.2.2.1.cmml" xref="S3.SS1.SSS0.Px1.p1.11.m6.3.3.3.2.2.2.1"></times><apply id="S3.SS1.SSS0.Px1.p1.11.m6.3.3.3.2.2.2.2.cmml" xref="S3.SS1.SSS0.Px1.p1.11.m6.3.3.3.2.2.2.2"><root id="S3.SS1.SSS0.Px1.p1.11.m6.3.3.3.2.2.2.2a.cmml" xref="S3.SS1.SSS0.Px1.p1.11.m6.3.3.3.2.2.2.2"></root><apply id="S3.SS1.SSS0.Px1.p1.11.m6.3.3.3.2.2.2.2.2.cmml" xref="S3.SS1.SSS0.Px1.p1.11.m6.3.3.3.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p1.11.m6.3.3.3.2.2.2.2.2.1.cmml" xref="S3.SS1.SSS0.Px1.p1.11.m6.3.3.3.2.2.2.2.2">subscript</csymbol><apply id="S3.SS1.SSS0.Px1.p1.11.m6.3.3.3.2.2.2.2.2.2.cmml" xref="S3.SS1.SSS0.Px1.p1.11.m6.3.3.3.2.2.2.2.2.2"><ci id="S3.SS1.SSS0.Px1.p1.11.m6.3.3.3.2.2.2.2.2.2.1.cmml" xref="S3.SS1.SSS0.Px1.p1.11.m6.3.3.3.2.2.2.2.2.2.1">¯</ci><ci id="S3.SS1.SSS0.Px1.p1.11.m6.3.3.3.2.2.2.2.2.2.2.cmml" xref="S3.SS1.SSS0.Px1.p1.11.m6.3.3.3.2.2.2.2.2.2.2">𝛼</ci></apply><ci id="S3.SS1.SSS0.Px1.p1.11.m6.3.3.3.2.2.2.2.2.3.cmml" xref="S3.SS1.SSS0.Px1.p1.11.m6.3.3.3.2.2.2.2.2.3">𝑡</ci></apply></apply><apply id="S3.SS1.SSS0.Px1.p1.11.m6.3.3.3.2.2.2.3.cmml" xref="S3.SS1.SSS0.Px1.p1.11.m6.3.3.3.2.2.2.3"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p1.11.m6.3.3.3.2.2.2.3.1.cmml" xref="S3.SS1.SSS0.Px1.p1.11.m6.3.3.3.2.2.2.3">superscript</csymbol><ci id="S3.SS1.SSS0.Px1.p1.11.m6.3.3.3.2.2.2.3.2.cmml" xref="S3.SS1.SSS0.Px1.p1.11.m6.3.3.3.2.2.2.3.2">𝒙</ci><cn type="integer" id="S3.SS1.SSS0.Px1.p1.11.m6.3.3.3.2.2.2.3.3.cmml" xref="S3.SS1.SSS0.Px1.p1.11.m6.3.3.3.2.2.2.3.3">0</cn></apply></apply><apply id="S3.SS1.SSS0.Px1.p1.11.m6.4.4.4.3.3.3.cmml" xref="S3.SS1.SSS0.Px1.p1.11.m6.4.4.4.3.3.3"><times id="S3.SS1.SSS0.Px1.p1.11.m6.4.4.4.3.3.3.2.cmml" xref="S3.SS1.SSS0.Px1.p1.11.m6.4.4.4.3.3.3.2"></times><apply id="S3.SS1.SSS0.Px1.p1.11.m6.4.4.4.3.3.3.1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.11.m6.4.4.4.3.3.3.1.1"><minus id="S3.SS1.SSS0.Px1.p1.11.m6.4.4.4.3.3.3.1.1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.11.m6.4.4.4.3.3.3.1.1.1.1"></minus><cn type="integer" id="S3.SS1.SSS0.Px1.p1.11.m6.4.4.4.3.3.3.1.1.1.2.cmml" xref="S3.SS1.SSS0.Px1.p1.11.m6.4.4.4.3.3.3.1.1.1.2">1</cn><apply id="S3.SS1.SSS0.Px1.p1.11.m6.4.4.4.3.3.3.1.1.1.3.cmml" xref="S3.SS1.SSS0.Px1.p1.11.m6.4.4.4.3.3.3.1.1.1.3"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p1.11.m6.4.4.4.3.3.3.1.1.1.3.1.cmml" xref="S3.SS1.SSS0.Px1.p1.11.m6.4.4.4.3.3.3.1.1.1.3">subscript</csymbol><apply id="S3.SS1.SSS0.Px1.p1.11.m6.4.4.4.3.3.3.1.1.1.3.2.cmml" xref="S3.SS1.SSS0.Px1.p1.11.m6.4.4.4.3.3.3.1.1.1.3.2"><ci id="S3.SS1.SSS0.Px1.p1.11.m6.4.4.4.3.3.3.1.1.1.3.2.1.cmml" xref="S3.SS1.SSS0.Px1.p1.11.m6.4.4.4.3.3.3.1.1.1.3.2.1">¯</ci><ci id="S3.SS1.SSS0.Px1.p1.11.m6.4.4.4.3.3.3.1.1.1.3.2.2.cmml" xref="S3.SS1.SSS0.Px1.p1.11.m6.4.4.4.3.3.3.1.1.1.3.2.2">𝛼</ci></apply><ci id="S3.SS1.SSS0.Px1.p1.11.m6.4.4.4.3.3.3.1.1.1.3.3.cmml" xref="S3.SS1.SSS0.Px1.p1.11.m6.4.4.4.3.3.3.1.1.1.3.3">𝑡</ci></apply></apply><ci id="S3.SS1.SSS0.Px1.p1.11.m6.4.4.4.3.3.3.3.cmml" xref="S3.SS1.SSS0.Px1.p1.11.m6.4.4.4.3.3.3.3">𝑰</ci></apply></list></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px1.p1.11.m6.4c">q({\bm{x}}^{t}|{\bm{x}}^{0})={\mathcal{N}}\left({\bm{x}}^{t};\sqrt{\bar{\alpha}_{t}}{\bm{x}}^{0},(1-\bar{\alpha}_{t}){\bm{I}}\right)</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS0.Px1.p1.11.m6.4d">italic_q ( bold_italic_x start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT | bold_italic_x start_POSTSUPERSCRIPT 0 end_POSTSUPERSCRIPT ) = caligraphic_N ( bold_italic_x start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT ; square-root start_ARG over¯ start_ARG italic_α end_ARG start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT end_ARG bold_italic_x start_POSTSUPERSCRIPT 0 end_POSTSUPERSCRIPT , ( 1 - over¯ start_ARG italic_α end_ARG start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT ) bold_italic_I )</annotation></semantics></math>.</p>
</div>
<div id="S3.SS1.SSS0.Px1.p2" class="ltx_para">
<p id="S3.SS1.SSS0.Px1.p2.6" class="ltx_p">Therefore, when <math id="S3.SS1.SSS0.Px1.p2.1.m1.1" class="ltx_Math" alttext="T" display="inline"><semantics id="S3.SS1.SSS0.Px1.p2.1.m1.1a"><mi id="S3.SS1.SSS0.Px1.p2.1.m1.1.1" xref="S3.SS1.SSS0.Px1.p2.1.m1.1.1.cmml">T</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px1.p2.1.m1.1b"><ci id="S3.SS1.SSS0.Px1.p2.1.m1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p2.1.m1.1.1">𝑇</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px1.p2.1.m1.1c">T</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS0.Px1.p2.1.m1.1d">italic_T</annotation></semantics></math> is large enough, <math id="S3.SS1.SSS0.Px1.p2.2.m2.1" class="ltx_Math" alttext="\bar{\alpha}_{t}" display="inline"><semantics id="S3.SS1.SSS0.Px1.p2.2.m2.1a"><msub id="S3.SS1.SSS0.Px1.p2.2.m2.1.1" xref="S3.SS1.SSS0.Px1.p2.2.m2.1.1.cmml"><mover accent="true" id="S3.SS1.SSS0.Px1.p2.2.m2.1.1.2" xref="S3.SS1.SSS0.Px1.p2.2.m2.1.1.2.cmml"><mi id="S3.SS1.SSS0.Px1.p2.2.m2.1.1.2.2" xref="S3.SS1.SSS0.Px1.p2.2.m2.1.1.2.2.cmml">α</mi><mo id="S3.SS1.SSS0.Px1.p2.2.m2.1.1.2.1" xref="S3.SS1.SSS0.Px1.p2.2.m2.1.1.2.1.cmml">¯</mo></mover><mi id="S3.SS1.SSS0.Px1.p2.2.m2.1.1.3" xref="S3.SS1.SSS0.Px1.p2.2.m2.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px1.p2.2.m2.1b"><apply id="S3.SS1.SSS0.Px1.p2.2.m2.1.1.cmml" xref="S3.SS1.SSS0.Px1.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p2.2.m2.1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p2.2.m2.1.1">subscript</csymbol><apply id="S3.SS1.SSS0.Px1.p2.2.m2.1.1.2.cmml" xref="S3.SS1.SSS0.Px1.p2.2.m2.1.1.2"><ci id="S3.SS1.SSS0.Px1.p2.2.m2.1.1.2.1.cmml" xref="S3.SS1.SSS0.Px1.p2.2.m2.1.1.2.1">¯</ci><ci id="S3.SS1.SSS0.Px1.p2.2.m2.1.1.2.2.cmml" xref="S3.SS1.SSS0.Px1.p2.2.m2.1.1.2.2">𝛼</ci></apply><ci id="S3.SS1.SSS0.Px1.p2.2.m2.1.1.3.cmml" xref="S3.SS1.SSS0.Px1.p2.2.m2.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px1.p2.2.m2.1c">\bar{\alpha}_{t}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS0.Px1.p2.2.m2.1d">over¯ start_ARG italic_α end_ARG start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math> goes to <math id="S3.SS1.SSS0.Px1.p2.3.m3.1" class="ltx_Math" alttext="0" display="inline"><semantics id="S3.SS1.SSS0.Px1.p2.3.m3.1a"><mn id="S3.SS1.SSS0.Px1.p2.3.m3.1.1" xref="S3.SS1.SSS0.Px1.p2.3.m3.1.1.cmml">0</mn><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px1.p2.3.m3.1b"><cn type="integer" id="S3.SS1.SSS0.Px1.p2.3.m3.1.1.cmml" xref="S3.SS1.SSS0.Px1.p2.3.m3.1.1">0</cn></annotation-xml></semantics></math>, and <math id="S3.SS1.SSS0.Px1.p2.4.m4.1" class="ltx_Math" alttext="q({\bm{x}}^{T}|{\bm{x}}^{0})" display="inline"><semantics id="S3.SS1.SSS0.Px1.p2.4.m4.1a"><mrow id="S3.SS1.SSS0.Px1.p2.4.m4.1.1" xref="S3.SS1.SSS0.Px1.p2.4.m4.1.1.cmml"><mi id="S3.SS1.SSS0.Px1.p2.4.m4.1.1.3" xref="S3.SS1.SSS0.Px1.p2.4.m4.1.1.3.cmml">q</mi><mo id="S3.SS1.SSS0.Px1.p2.4.m4.1.1.2" xref="S3.SS1.SSS0.Px1.p2.4.m4.1.1.2.cmml">⁢</mo><mrow id="S3.SS1.SSS0.Px1.p2.4.m4.1.1.1.1" xref="S3.SS1.SSS0.Px1.p2.4.m4.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.SS1.SSS0.Px1.p2.4.m4.1.1.1.1.2" xref="S3.SS1.SSS0.Px1.p2.4.m4.1.1.1.1.1.cmml">(</mo><mrow id="S3.SS1.SSS0.Px1.p2.4.m4.1.1.1.1.1" xref="S3.SS1.SSS0.Px1.p2.4.m4.1.1.1.1.1.cmml"><msup id="S3.SS1.SSS0.Px1.p2.4.m4.1.1.1.1.1.2" xref="S3.SS1.SSS0.Px1.p2.4.m4.1.1.1.1.1.2.cmml"><mi id="S3.SS1.SSS0.Px1.p2.4.m4.1.1.1.1.1.2.2" xref="S3.SS1.SSS0.Px1.p2.4.m4.1.1.1.1.1.2.2.cmml">𝒙</mi><mi id="S3.SS1.SSS0.Px1.p2.4.m4.1.1.1.1.1.2.3" xref="S3.SS1.SSS0.Px1.p2.4.m4.1.1.1.1.1.2.3.cmml">T</mi></msup><mo fence="false" id="S3.SS1.SSS0.Px1.p2.4.m4.1.1.1.1.1.1" xref="S3.SS1.SSS0.Px1.p2.4.m4.1.1.1.1.1.1.cmml">|</mo><msup id="S3.SS1.SSS0.Px1.p2.4.m4.1.1.1.1.1.3" xref="S3.SS1.SSS0.Px1.p2.4.m4.1.1.1.1.1.3.cmml"><mi id="S3.SS1.SSS0.Px1.p2.4.m4.1.1.1.1.1.3.2" xref="S3.SS1.SSS0.Px1.p2.4.m4.1.1.1.1.1.3.2.cmml">𝒙</mi><mn id="S3.SS1.SSS0.Px1.p2.4.m4.1.1.1.1.1.3.3" xref="S3.SS1.SSS0.Px1.p2.4.m4.1.1.1.1.1.3.3.cmml">0</mn></msup></mrow><mo stretchy="false" id="S3.SS1.SSS0.Px1.p2.4.m4.1.1.1.1.3" xref="S3.SS1.SSS0.Px1.p2.4.m4.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px1.p2.4.m4.1b"><apply id="S3.SS1.SSS0.Px1.p2.4.m4.1.1.cmml" xref="S3.SS1.SSS0.Px1.p2.4.m4.1.1"><times id="S3.SS1.SSS0.Px1.p2.4.m4.1.1.2.cmml" xref="S3.SS1.SSS0.Px1.p2.4.m4.1.1.2"></times><ci id="S3.SS1.SSS0.Px1.p2.4.m4.1.1.3.cmml" xref="S3.SS1.SSS0.Px1.p2.4.m4.1.1.3">𝑞</ci><apply id="S3.SS1.SSS0.Px1.p2.4.m4.1.1.1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p2.4.m4.1.1.1.1"><csymbol cd="latexml" id="S3.SS1.SSS0.Px1.p2.4.m4.1.1.1.1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p2.4.m4.1.1.1.1.1.1">conditional</csymbol><apply id="S3.SS1.SSS0.Px1.p2.4.m4.1.1.1.1.1.2.cmml" xref="S3.SS1.SSS0.Px1.p2.4.m4.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p2.4.m4.1.1.1.1.1.2.1.cmml" xref="S3.SS1.SSS0.Px1.p2.4.m4.1.1.1.1.1.2">superscript</csymbol><ci id="S3.SS1.SSS0.Px1.p2.4.m4.1.1.1.1.1.2.2.cmml" xref="S3.SS1.SSS0.Px1.p2.4.m4.1.1.1.1.1.2.2">𝒙</ci><ci id="S3.SS1.SSS0.Px1.p2.4.m4.1.1.1.1.1.2.3.cmml" xref="S3.SS1.SSS0.Px1.p2.4.m4.1.1.1.1.1.2.3">𝑇</ci></apply><apply id="S3.SS1.SSS0.Px1.p2.4.m4.1.1.1.1.1.3.cmml" xref="S3.SS1.SSS0.Px1.p2.4.m4.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p2.4.m4.1.1.1.1.1.3.1.cmml" xref="S3.SS1.SSS0.Px1.p2.4.m4.1.1.1.1.1.3">superscript</csymbol><ci id="S3.SS1.SSS0.Px1.p2.4.m4.1.1.1.1.1.3.2.cmml" xref="S3.SS1.SSS0.Px1.p2.4.m4.1.1.1.1.1.3.2">𝒙</ci><cn type="integer" id="S3.SS1.SSS0.Px1.p2.4.m4.1.1.1.1.1.3.3.cmml" xref="S3.SS1.SSS0.Px1.p2.4.m4.1.1.1.1.1.3.3">0</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px1.p2.4.m4.1c">q({\bm{x}}^{T}|{\bm{x}}^{0})</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS0.Px1.p2.4.m4.1d">italic_q ( bold_italic_x start_POSTSUPERSCRIPT italic_T end_POSTSUPERSCRIPT | bold_italic_x start_POSTSUPERSCRIPT 0 end_POSTSUPERSCRIPT )</annotation></semantics></math> becomes close to the latent distribution <math id="S3.SS1.SSS0.Px1.p2.5.m5.1" class="ltx_Math" alttext="p_{\rm{latent}}({\bm{x}}^{T})" display="inline"><semantics id="S3.SS1.SSS0.Px1.p2.5.m5.1a"><mrow id="S3.SS1.SSS0.Px1.p2.5.m5.1.1" xref="S3.SS1.SSS0.Px1.p2.5.m5.1.1.cmml"><msub id="S3.SS1.SSS0.Px1.p2.5.m5.1.1.3" xref="S3.SS1.SSS0.Px1.p2.5.m5.1.1.3.cmml"><mi id="S3.SS1.SSS0.Px1.p2.5.m5.1.1.3.2" xref="S3.SS1.SSS0.Px1.p2.5.m5.1.1.3.2.cmml">p</mi><mi id="S3.SS1.SSS0.Px1.p2.5.m5.1.1.3.3" xref="S3.SS1.SSS0.Px1.p2.5.m5.1.1.3.3.cmml">latent</mi></msub><mo id="S3.SS1.SSS0.Px1.p2.5.m5.1.1.2" xref="S3.SS1.SSS0.Px1.p2.5.m5.1.1.2.cmml">⁢</mo><mrow id="S3.SS1.SSS0.Px1.p2.5.m5.1.1.1.1" xref="S3.SS1.SSS0.Px1.p2.5.m5.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.SS1.SSS0.Px1.p2.5.m5.1.1.1.1.2" xref="S3.SS1.SSS0.Px1.p2.5.m5.1.1.1.1.1.cmml">(</mo><msup id="S3.SS1.SSS0.Px1.p2.5.m5.1.1.1.1.1" xref="S3.SS1.SSS0.Px1.p2.5.m5.1.1.1.1.1.cmml"><mi id="S3.SS1.SSS0.Px1.p2.5.m5.1.1.1.1.1.2" xref="S3.SS1.SSS0.Px1.p2.5.m5.1.1.1.1.1.2.cmml">𝒙</mi><mi id="S3.SS1.SSS0.Px1.p2.5.m5.1.1.1.1.1.3" xref="S3.SS1.SSS0.Px1.p2.5.m5.1.1.1.1.1.3.cmml">T</mi></msup><mo stretchy="false" id="S3.SS1.SSS0.Px1.p2.5.m5.1.1.1.1.3" xref="S3.SS1.SSS0.Px1.p2.5.m5.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px1.p2.5.m5.1b"><apply id="S3.SS1.SSS0.Px1.p2.5.m5.1.1.cmml" xref="S3.SS1.SSS0.Px1.p2.5.m5.1.1"><times id="S3.SS1.SSS0.Px1.p2.5.m5.1.1.2.cmml" xref="S3.SS1.SSS0.Px1.p2.5.m5.1.1.2"></times><apply id="S3.SS1.SSS0.Px1.p2.5.m5.1.1.3.cmml" xref="S3.SS1.SSS0.Px1.p2.5.m5.1.1.3"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p2.5.m5.1.1.3.1.cmml" xref="S3.SS1.SSS0.Px1.p2.5.m5.1.1.3">subscript</csymbol><ci id="S3.SS1.SSS0.Px1.p2.5.m5.1.1.3.2.cmml" xref="S3.SS1.SSS0.Px1.p2.5.m5.1.1.3.2">𝑝</ci><ci id="S3.SS1.SSS0.Px1.p2.5.m5.1.1.3.3.cmml" xref="S3.SS1.SSS0.Px1.p2.5.m5.1.1.3.3">latent</ci></apply><apply id="S3.SS1.SSS0.Px1.p2.5.m5.1.1.1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p2.5.m5.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p2.5.m5.1.1.1.1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p2.5.m5.1.1.1.1">superscript</csymbol><ci id="S3.SS1.SSS0.Px1.p2.5.m5.1.1.1.1.1.2.cmml" xref="S3.SS1.SSS0.Px1.p2.5.m5.1.1.1.1.1.2">𝒙</ci><ci id="S3.SS1.SSS0.Px1.p2.5.m5.1.1.1.1.1.3.cmml" xref="S3.SS1.SSS0.Px1.p2.5.m5.1.1.1.1.1.3">𝑇</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px1.p2.5.m5.1c">p_{\rm{latent}}({\bm{x}}^{T})</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS0.Px1.p2.5.m5.1d">italic_p start_POSTSUBSCRIPT roman_latent end_POSTSUBSCRIPT ( bold_italic_x start_POSTSUPERSCRIPT italic_T end_POSTSUPERSCRIPT )</annotation></semantics></math>.
Note that <math id="S3.SS1.SSS0.Px1.p2.6.m6.1" class="ltx_Math" alttext="{\bm{x}}^{t}" display="inline"><semantics id="S3.SS1.SSS0.Px1.p2.6.m6.1a"><msup id="S3.SS1.SSS0.Px1.p2.6.m6.1.1" xref="S3.SS1.SSS0.Px1.p2.6.m6.1.1.cmml"><mi id="S3.SS1.SSS0.Px1.p2.6.m6.1.1.2" xref="S3.SS1.SSS0.Px1.p2.6.m6.1.1.2.cmml">𝒙</mi><mi id="S3.SS1.SSS0.Px1.p2.6.m6.1.1.3" xref="S3.SS1.SSS0.Px1.p2.6.m6.1.1.3.cmml">t</mi></msup><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px1.p2.6.m6.1b"><apply id="S3.SS1.SSS0.Px1.p2.6.m6.1.1.cmml" xref="S3.SS1.SSS0.Px1.p2.6.m6.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p2.6.m6.1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p2.6.m6.1.1">superscript</csymbol><ci id="S3.SS1.SSS0.Px1.p2.6.m6.1.1.2.cmml" xref="S3.SS1.SSS0.Px1.p2.6.m6.1.1.2">𝒙</ci><ci id="S3.SS1.SSS0.Px1.p2.6.m6.1.1.3.cmml" xref="S3.SS1.SSS0.Px1.p2.6.m6.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px1.p2.6.m6.1c">{\bm{x}}^{t}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS0.Px1.p2.6.m6.1d">bold_italic_x start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT</annotation></semantics></math> can be directly sampled through the following equation:</p>
<table id="S3.E5" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E5.m1.2" class="ltx_Math" alttext="{\bm{x}}^{t}=\sqrt{\bar{\alpha}_{t}}{\bm{x}}^{0}+\sqrt{1-\bar{\alpha}_{t}}\bm{\epsilon},\text{ where $\bm{\epsilon}$ is a standard Gaussian noise.}" display="block"><semantics id="S3.E5.m1.2a"><mrow id="S3.E5.m1.2.2" xref="S3.E5.m1.2.2.cmml"><msup id="S3.E5.m1.2.2.3" xref="S3.E5.m1.2.2.3.cmml"><mi id="S3.E5.m1.2.2.3.2" xref="S3.E5.m1.2.2.3.2.cmml">𝒙</mi><mi id="S3.E5.m1.2.2.3.3" xref="S3.E5.m1.2.2.3.3.cmml">t</mi></msup><mo id="S3.E5.m1.2.2.2" xref="S3.E5.m1.2.2.2.cmml">=</mo><mrow id="S3.E5.m1.2.2.1.1" xref="S3.E5.m1.2.2.1.2.cmml"><mrow id="S3.E5.m1.2.2.1.1.1" xref="S3.E5.m1.2.2.1.1.1.cmml"><mrow id="S3.E5.m1.2.2.1.1.1.2" xref="S3.E5.m1.2.2.1.1.1.2.cmml"><msqrt id="S3.E5.m1.2.2.1.1.1.2.2" xref="S3.E5.m1.2.2.1.1.1.2.2.cmml"><msub id="S3.E5.m1.2.2.1.1.1.2.2.2" xref="S3.E5.m1.2.2.1.1.1.2.2.2.cmml"><mover accent="true" id="S3.E5.m1.2.2.1.1.1.2.2.2.2" xref="S3.E5.m1.2.2.1.1.1.2.2.2.2.cmml"><mi id="S3.E5.m1.2.2.1.1.1.2.2.2.2.2" xref="S3.E5.m1.2.2.1.1.1.2.2.2.2.2.cmml">α</mi><mo id="S3.E5.m1.2.2.1.1.1.2.2.2.2.1" xref="S3.E5.m1.2.2.1.1.1.2.2.2.2.1.cmml">¯</mo></mover><mi id="S3.E5.m1.2.2.1.1.1.2.2.2.3" xref="S3.E5.m1.2.2.1.1.1.2.2.2.3.cmml">t</mi></msub></msqrt><mo id="S3.E5.m1.2.2.1.1.1.2.1" xref="S3.E5.m1.2.2.1.1.1.2.1.cmml">⁢</mo><msup id="S3.E5.m1.2.2.1.1.1.2.3" xref="S3.E5.m1.2.2.1.1.1.2.3.cmml"><mi id="S3.E5.m1.2.2.1.1.1.2.3.2" xref="S3.E5.m1.2.2.1.1.1.2.3.2.cmml">𝒙</mi><mn id="S3.E5.m1.2.2.1.1.1.2.3.3" xref="S3.E5.m1.2.2.1.1.1.2.3.3.cmml">0</mn></msup></mrow><mo id="S3.E5.m1.2.2.1.1.1.1" xref="S3.E5.m1.2.2.1.1.1.1.cmml">+</mo><mrow id="S3.E5.m1.2.2.1.1.1.3" xref="S3.E5.m1.2.2.1.1.1.3.cmml"><msqrt id="S3.E5.m1.2.2.1.1.1.3.2" xref="S3.E5.m1.2.2.1.1.1.3.2.cmml"><mrow id="S3.E5.m1.2.2.1.1.1.3.2.2" xref="S3.E5.m1.2.2.1.1.1.3.2.2.cmml"><mn id="S3.E5.m1.2.2.1.1.1.3.2.2.2" xref="S3.E5.m1.2.2.1.1.1.3.2.2.2.cmml">1</mn><mo id="S3.E5.m1.2.2.1.1.1.3.2.2.1" xref="S3.E5.m1.2.2.1.1.1.3.2.2.1.cmml">−</mo><msub id="S3.E5.m1.2.2.1.1.1.3.2.2.3" xref="S3.E5.m1.2.2.1.1.1.3.2.2.3.cmml"><mover accent="true" id="S3.E5.m1.2.2.1.1.1.3.2.2.3.2" xref="S3.E5.m1.2.2.1.1.1.3.2.2.3.2.cmml"><mi id="S3.E5.m1.2.2.1.1.1.3.2.2.3.2.2" xref="S3.E5.m1.2.2.1.1.1.3.2.2.3.2.2.cmml">α</mi><mo id="S3.E5.m1.2.2.1.1.1.3.2.2.3.2.1" xref="S3.E5.m1.2.2.1.1.1.3.2.2.3.2.1.cmml">¯</mo></mover><mi id="S3.E5.m1.2.2.1.1.1.3.2.2.3.3" xref="S3.E5.m1.2.2.1.1.1.3.2.2.3.3.cmml">t</mi></msub></mrow></msqrt><mo id="S3.E5.m1.2.2.1.1.1.3.1" xref="S3.E5.m1.2.2.1.1.1.3.1.cmml">⁢</mo><mi mathvariant="bold-italic" id="S3.E5.m1.2.2.1.1.1.3.3" xref="S3.E5.m1.2.2.1.1.1.3.3.cmml">ϵ</mi></mrow></mrow><mo id="S3.E5.m1.2.2.1.1.2" xref="S3.E5.m1.2.2.1.2.cmml">,</mo><mrow id="S3.E5.m1.1.1.1" xref="S3.E5.m1.1.1.1c.cmml"><mtext id="S3.E5.m1.1.1.1a" xref="S3.E5.m1.1.1.1c.cmml"> where </mtext><mi mathvariant="bold-italic" id="S3.E5.m1.1.1.1.m1.1.1" xref="S3.E5.m1.1.1.1.m1.1.1.cmml">ϵ</mi><mtext id="S3.E5.m1.1.1.1b" xref="S3.E5.m1.1.1.1c.cmml"> is a standard Gaussian noise.</mtext></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E5.m1.2b"><apply id="S3.E5.m1.2.2.cmml" xref="S3.E5.m1.2.2"><eq id="S3.E5.m1.2.2.2.cmml" xref="S3.E5.m1.2.2.2"></eq><apply id="S3.E5.m1.2.2.3.cmml" xref="S3.E5.m1.2.2.3"><csymbol cd="ambiguous" id="S3.E5.m1.2.2.3.1.cmml" xref="S3.E5.m1.2.2.3">superscript</csymbol><ci id="S3.E5.m1.2.2.3.2.cmml" xref="S3.E5.m1.2.2.3.2">𝒙</ci><ci id="S3.E5.m1.2.2.3.3.cmml" xref="S3.E5.m1.2.2.3.3">𝑡</ci></apply><list id="S3.E5.m1.2.2.1.2.cmml" xref="S3.E5.m1.2.2.1.1"><apply id="S3.E5.m1.2.2.1.1.1.cmml" xref="S3.E5.m1.2.2.1.1.1"><plus id="S3.E5.m1.2.2.1.1.1.1.cmml" xref="S3.E5.m1.2.2.1.1.1.1"></plus><apply id="S3.E5.m1.2.2.1.1.1.2.cmml" xref="S3.E5.m1.2.2.1.1.1.2"><times id="S3.E5.m1.2.2.1.1.1.2.1.cmml" xref="S3.E5.m1.2.2.1.1.1.2.1"></times><apply id="S3.E5.m1.2.2.1.1.1.2.2.cmml" xref="S3.E5.m1.2.2.1.1.1.2.2"><root id="S3.E5.m1.2.2.1.1.1.2.2a.cmml" xref="S3.E5.m1.2.2.1.1.1.2.2"></root><apply id="S3.E5.m1.2.2.1.1.1.2.2.2.cmml" xref="S3.E5.m1.2.2.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S3.E5.m1.2.2.1.1.1.2.2.2.1.cmml" xref="S3.E5.m1.2.2.1.1.1.2.2.2">subscript</csymbol><apply id="S3.E5.m1.2.2.1.1.1.2.2.2.2.cmml" xref="S3.E5.m1.2.2.1.1.1.2.2.2.2"><ci id="S3.E5.m1.2.2.1.1.1.2.2.2.2.1.cmml" xref="S3.E5.m1.2.2.1.1.1.2.2.2.2.1">¯</ci><ci id="S3.E5.m1.2.2.1.1.1.2.2.2.2.2.cmml" xref="S3.E5.m1.2.2.1.1.1.2.2.2.2.2">𝛼</ci></apply><ci id="S3.E5.m1.2.2.1.1.1.2.2.2.3.cmml" xref="S3.E5.m1.2.2.1.1.1.2.2.2.3">𝑡</ci></apply></apply><apply id="S3.E5.m1.2.2.1.1.1.2.3.cmml" xref="S3.E5.m1.2.2.1.1.1.2.3"><csymbol cd="ambiguous" id="S3.E5.m1.2.2.1.1.1.2.3.1.cmml" xref="S3.E5.m1.2.2.1.1.1.2.3">superscript</csymbol><ci id="S3.E5.m1.2.2.1.1.1.2.3.2.cmml" xref="S3.E5.m1.2.2.1.1.1.2.3.2">𝒙</ci><cn type="integer" id="S3.E5.m1.2.2.1.1.1.2.3.3.cmml" xref="S3.E5.m1.2.2.1.1.1.2.3.3">0</cn></apply></apply><apply id="S3.E5.m1.2.2.1.1.1.3.cmml" xref="S3.E5.m1.2.2.1.1.1.3"><times id="S3.E5.m1.2.2.1.1.1.3.1.cmml" xref="S3.E5.m1.2.2.1.1.1.3.1"></times><apply id="S3.E5.m1.2.2.1.1.1.3.2.cmml" xref="S3.E5.m1.2.2.1.1.1.3.2"><root id="S3.E5.m1.2.2.1.1.1.3.2a.cmml" xref="S3.E5.m1.2.2.1.1.1.3.2"></root><apply id="S3.E5.m1.2.2.1.1.1.3.2.2.cmml" xref="S3.E5.m1.2.2.1.1.1.3.2.2"><minus id="S3.E5.m1.2.2.1.1.1.3.2.2.1.cmml" xref="S3.E5.m1.2.2.1.1.1.3.2.2.1"></minus><cn type="integer" id="S3.E5.m1.2.2.1.1.1.3.2.2.2.cmml" xref="S3.E5.m1.2.2.1.1.1.3.2.2.2">1</cn><apply id="S3.E5.m1.2.2.1.1.1.3.2.2.3.cmml" xref="S3.E5.m1.2.2.1.1.1.3.2.2.3"><csymbol cd="ambiguous" id="S3.E5.m1.2.2.1.1.1.3.2.2.3.1.cmml" xref="S3.E5.m1.2.2.1.1.1.3.2.2.3">subscript</csymbol><apply id="S3.E5.m1.2.2.1.1.1.3.2.2.3.2.cmml" xref="S3.E5.m1.2.2.1.1.1.3.2.2.3.2"><ci id="S3.E5.m1.2.2.1.1.1.3.2.2.3.2.1.cmml" xref="S3.E5.m1.2.2.1.1.1.3.2.2.3.2.1">¯</ci><ci id="S3.E5.m1.2.2.1.1.1.3.2.2.3.2.2.cmml" xref="S3.E5.m1.2.2.1.1.1.3.2.2.3.2.2">𝛼</ci></apply><ci id="S3.E5.m1.2.2.1.1.1.3.2.2.3.3.cmml" xref="S3.E5.m1.2.2.1.1.1.3.2.2.3.3">𝑡</ci></apply></apply></apply><ci id="S3.E5.m1.2.2.1.1.1.3.3.cmml" xref="S3.E5.m1.2.2.1.1.1.3.3">bold-italic-ϵ</ci></apply></apply><ci id="S3.E5.m1.1.1.1c.cmml" xref="S3.E5.m1.1.1.1"><mrow id="S3.E5.m1.1.1.1.cmml" xref="S3.E5.m1.1.1.1"><mtext id="S3.E5.m1.1.1.1a.cmml" xref="S3.E5.m1.1.1.1"> where </mtext><mi mathvariant="bold-italic" id="S3.E5.m1.1.1.1.m1.1.1.cmml" xref="S3.E5.m1.1.1.1.m1.1.1">ϵ</mi><mtext id="S3.E5.m1.1.1.1b.cmml" xref="S3.E5.m1.1.1.1"> is a standard Gaussian noise.</mtext></mrow></ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E5.m1.2c">{\bm{x}}^{t}=\sqrt{\bar{\alpha}_{t}}{\bm{x}}^{0}+\sqrt{1-\bar{\alpha}_{t}}\bm{\epsilon},\text{ where $\bm{\epsilon}$ is a standard Gaussian noise.}</annotation><annotation encoding="application/x-llamapun" id="S3.E5.m1.2d">bold_italic_x start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT = square-root start_ARG over¯ start_ARG italic_α end_ARG start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT end_ARG bold_italic_x start_POSTSUPERSCRIPT 0 end_POSTSUPERSCRIPT + square-root start_ARG 1 - over¯ start_ARG italic_α end_ARG start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT end_ARG bold_italic_ϵ , where bold_italic_ϵ is a standard Gaussian noise.</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(5)</span></td>
</tr></tbody>
</table>
</div>
</section>
<section id="S3.SS1.SSS0.Px2" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">The Reverse Process.</h4>

<div id="S3.SS1.SSS0.Px2.p1" class="ltx_para">
<p id="S3.SS1.SSS0.Px2.p1.3" class="ltx_p">The reverse process is a Markov process that predicts and eliminates the noise added in the diffusion process. Let <math id="S3.SS1.SSS0.Px2.p1.1.m1.1" class="ltx_Math" alttext="{\bm{x}}^{T}\sim p_{\rm{latent}}" display="inline"><semantics id="S3.SS1.SSS0.Px2.p1.1.m1.1a"><mrow id="S3.SS1.SSS0.Px2.p1.1.m1.1.1" xref="S3.SS1.SSS0.Px2.p1.1.m1.1.1.cmml"><msup id="S3.SS1.SSS0.Px2.p1.1.m1.1.1.2" xref="S3.SS1.SSS0.Px2.p1.1.m1.1.1.2.cmml"><mi id="S3.SS1.SSS0.Px2.p1.1.m1.1.1.2.2" xref="S3.SS1.SSS0.Px2.p1.1.m1.1.1.2.2.cmml">𝒙</mi><mi id="S3.SS1.SSS0.Px2.p1.1.m1.1.1.2.3" xref="S3.SS1.SSS0.Px2.p1.1.m1.1.1.2.3.cmml">T</mi></msup><mo id="S3.SS1.SSS0.Px2.p1.1.m1.1.1.1" xref="S3.SS1.SSS0.Px2.p1.1.m1.1.1.1.cmml">∼</mo><msub id="S3.SS1.SSS0.Px2.p1.1.m1.1.1.3" xref="S3.SS1.SSS0.Px2.p1.1.m1.1.1.3.cmml"><mi id="S3.SS1.SSS0.Px2.p1.1.m1.1.1.3.2" xref="S3.SS1.SSS0.Px2.p1.1.m1.1.1.3.2.cmml">p</mi><mi id="S3.SS1.SSS0.Px2.p1.1.m1.1.1.3.3" xref="S3.SS1.SSS0.Px2.p1.1.m1.1.1.3.3.cmml">latent</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px2.p1.1.m1.1b"><apply id="S3.SS1.SSS0.Px2.p1.1.m1.1.1.cmml" xref="S3.SS1.SSS0.Px2.p1.1.m1.1.1"><csymbol cd="latexml" id="S3.SS1.SSS0.Px2.p1.1.m1.1.1.1.cmml" xref="S3.SS1.SSS0.Px2.p1.1.m1.1.1.1">similar-to</csymbol><apply id="S3.SS1.SSS0.Px2.p1.1.m1.1.1.2.cmml" xref="S3.SS1.SSS0.Px2.p1.1.m1.1.1.2"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px2.p1.1.m1.1.1.2.1.cmml" xref="S3.SS1.SSS0.Px2.p1.1.m1.1.1.2">superscript</csymbol><ci id="S3.SS1.SSS0.Px2.p1.1.m1.1.1.2.2.cmml" xref="S3.SS1.SSS0.Px2.p1.1.m1.1.1.2.2">𝒙</ci><ci id="S3.SS1.SSS0.Px2.p1.1.m1.1.1.2.3.cmml" xref="S3.SS1.SSS0.Px2.p1.1.m1.1.1.2.3">𝑇</ci></apply><apply id="S3.SS1.SSS0.Px2.p1.1.m1.1.1.3.cmml" xref="S3.SS1.SSS0.Px2.p1.1.m1.1.1.3"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px2.p1.1.m1.1.1.3.1.cmml" xref="S3.SS1.SSS0.Px2.p1.1.m1.1.1.3">subscript</csymbol><ci id="S3.SS1.SSS0.Px2.p1.1.m1.1.1.3.2.cmml" xref="S3.SS1.SSS0.Px2.p1.1.m1.1.1.3.2">𝑝</ci><ci id="S3.SS1.SSS0.Px2.p1.1.m1.1.1.3.3.cmml" xref="S3.SS1.SSS0.Px2.p1.1.m1.1.1.3.3">latent</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px2.p1.1.m1.1c">{\bm{x}}^{T}\sim p_{\rm{latent}}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS0.Px2.p1.1.m1.1d">bold_italic_x start_POSTSUPERSCRIPT italic_T end_POSTSUPERSCRIPT ∼ italic_p start_POSTSUBSCRIPT roman_latent end_POSTSUBSCRIPT</annotation></semantics></math> be a latent variable. The reverse process from latent <math id="S3.SS1.SSS0.Px2.p1.2.m2.1" class="ltx_Math" alttext="{\bm{x}}^{T}" display="inline"><semantics id="S3.SS1.SSS0.Px2.p1.2.m2.1a"><msup id="S3.SS1.SSS0.Px2.p1.2.m2.1.1" xref="S3.SS1.SSS0.Px2.p1.2.m2.1.1.cmml"><mi id="S3.SS1.SSS0.Px2.p1.2.m2.1.1.2" xref="S3.SS1.SSS0.Px2.p1.2.m2.1.1.2.cmml">𝒙</mi><mi id="S3.SS1.SSS0.Px2.p1.2.m2.1.1.3" xref="S3.SS1.SSS0.Px2.p1.2.m2.1.1.3.cmml">T</mi></msup><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px2.p1.2.m2.1b"><apply id="S3.SS1.SSS0.Px2.p1.2.m2.1.1.cmml" xref="S3.SS1.SSS0.Px2.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px2.p1.2.m2.1.1.1.cmml" xref="S3.SS1.SSS0.Px2.p1.2.m2.1.1">superscript</csymbol><ci id="S3.SS1.SSS0.Px2.p1.2.m2.1.1.2.cmml" xref="S3.SS1.SSS0.Px2.p1.2.m2.1.1.2">𝒙</ci><ci id="S3.SS1.SSS0.Px2.p1.2.m2.1.1.3.cmml" xref="S3.SS1.SSS0.Px2.p1.2.m2.1.1.3">𝑇</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px2.p1.2.m2.1c">{\bm{x}}^{T}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS0.Px2.p1.2.m2.1d">bold_italic_x start_POSTSUPERSCRIPT italic_T end_POSTSUPERSCRIPT</annotation></semantics></math> to clean data <math id="S3.SS1.SSS0.Px2.p1.3.m3.1" class="ltx_Math" alttext="{\bm{x}}^{0}" display="inline"><semantics id="S3.SS1.SSS0.Px2.p1.3.m3.1a"><msup id="S3.SS1.SSS0.Px2.p1.3.m3.1.1" xref="S3.SS1.SSS0.Px2.p1.3.m3.1.1.cmml"><mi id="S3.SS1.SSS0.Px2.p1.3.m3.1.1.2" xref="S3.SS1.SSS0.Px2.p1.3.m3.1.1.2.cmml">𝒙</mi><mn id="S3.SS1.SSS0.Px2.p1.3.m3.1.1.3" xref="S3.SS1.SSS0.Px2.p1.3.m3.1.1.3.cmml">0</mn></msup><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px2.p1.3.m3.1b"><apply id="S3.SS1.SSS0.Px2.p1.3.m3.1.1.cmml" xref="S3.SS1.SSS0.Px2.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px2.p1.3.m3.1.1.1.cmml" xref="S3.SS1.SSS0.Px2.p1.3.m3.1.1">superscript</csymbol><ci id="S3.SS1.SSS0.Px2.p1.3.m3.1.1.2.cmml" xref="S3.SS1.SSS0.Px2.p1.3.m3.1.1.2">𝒙</ci><cn type="integer" id="S3.SS1.SSS0.Px2.p1.3.m3.1.1.3.cmml" xref="S3.SS1.SSS0.Px2.p1.3.m3.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px2.p1.3.m3.1c">{\bm{x}}^{0}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS0.Px2.p1.3.m3.1d">bold_italic_x start_POSTSUPERSCRIPT 0 end_POSTSUPERSCRIPT</annotation></semantics></math> is defined as</p>
<table id="A1.EGx1" class="ltx_equationgroup ltx_eqn_align ltx_eqn_table">

<tbody id="S3.E6"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S3.E6.m1.3" class="ltx_Math" alttext="\displaystyle p_{\bm{\theta}}({\bm{x}}^{0},\cdots,{\bm{x}}^{T-1}|{\bm{x}}^{T})=\prod_{t=1}^{T}p_{\bm{\theta}}({\bm{x}}^{t-1}|{\bm{x}}^{t}),\text{ where }p_{\bm{\theta}}({\bm{x}}^{t-1}|{\bm{x}}^{t})={\mathcal{N}}({\bm{x}}^{t-1};\bm{\mu}_{\bm{\theta}}({\bm{x}}^{t},t),\sigma_{t}^{2}{\bm{I}})." display="inline"><semantics id="S3.E6.m1.3a"><mrow id="S3.E6.m1.3.3.1"><mrow id="S3.E6.m1.3.3.1.1.2" xref="S3.E6.m1.3.3.1.1.3.cmml"><mrow id="S3.E6.m1.3.3.1.1.1.1" xref="S3.E6.m1.3.3.1.1.1.1.cmml"><mrow id="S3.E6.m1.3.3.1.1.1.1.2" xref="S3.E6.m1.3.3.1.1.1.1.2.cmml"><msub id="S3.E6.m1.3.3.1.1.1.1.2.4" xref="S3.E6.m1.3.3.1.1.1.1.2.4.cmml"><mi id="S3.E6.m1.3.3.1.1.1.1.2.4.2" xref="S3.E6.m1.3.3.1.1.1.1.2.4.2.cmml">p</mi><mi id="S3.E6.m1.3.3.1.1.1.1.2.4.3" xref="S3.E6.m1.3.3.1.1.1.1.2.4.3.cmml">𝜽</mi></msub><mo id="S3.E6.m1.3.3.1.1.1.1.2.3" xref="S3.E6.m1.3.3.1.1.1.1.2.3.cmml">⁢</mo><mrow id="S3.E6.m1.3.3.1.1.1.1.2.2.2" xref="S3.E6.m1.3.3.1.1.1.1.2.2.3.cmml"><mo stretchy="false" id="S3.E6.m1.3.3.1.1.1.1.2.2.2.3" xref="S3.E6.m1.3.3.1.1.1.1.2.2.3.cmml">(</mo><msup id="S3.E6.m1.3.3.1.1.1.1.1.1.1.1" xref="S3.E6.m1.3.3.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E6.m1.3.3.1.1.1.1.1.1.1.1.2" xref="S3.E6.m1.3.3.1.1.1.1.1.1.1.1.2.cmml">𝒙</mi><mn id="S3.E6.m1.3.3.1.1.1.1.1.1.1.1.3" xref="S3.E6.m1.3.3.1.1.1.1.1.1.1.1.3.cmml">0</mn></msup><mo id="S3.E6.m1.3.3.1.1.1.1.2.2.2.4" xref="S3.E6.m1.3.3.1.1.1.1.2.2.3.cmml">,</mo><mi mathvariant="normal" id="S3.E6.m1.1.1" xref="S3.E6.m1.1.1.cmml">⋯</mi><mo id="S3.E6.m1.3.3.1.1.1.1.2.2.2.5" xref="S3.E6.m1.3.3.1.1.1.1.2.2.3.cmml">,</mo><mrow id="S3.E6.m1.3.3.1.1.1.1.2.2.2.2" xref="S3.E6.m1.3.3.1.1.1.1.2.2.2.2.cmml"><msup id="S3.E6.m1.3.3.1.1.1.1.2.2.2.2.2" xref="S3.E6.m1.3.3.1.1.1.1.2.2.2.2.2.cmml"><mi id="S3.E6.m1.3.3.1.1.1.1.2.2.2.2.2.2" xref="S3.E6.m1.3.3.1.1.1.1.2.2.2.2.2.2.cmml">𝒙</mi><mrow id="S3.E6.m1.3.3.1.1.1.1.2.2.2.2.2.3" xref="S3.E6.m1.3.3.1.1.1.1.2.2.2.2.2.3.cmml"><mi id="S3.E6.m1.3.3.1.1.1.1.2.2.2.2.2.3.2" xref="S3.E6.m1.3.3.1.1.1.1.2.2.2.2.2.3.2.cmml">T</mi><mo id="S3.E6.m1.3.3.1.1.1.1.2.2.2.2.2.3.1" xref="S3.E6.m1.3.3.1.1.1.1.2.2.2.2.2.3.1.cmml">−</mo><mn id="S3.E6.m1.3.3.1.1.1.1.2.2.2.2.2.3.3" xref="S3.E6.m1.3.3.1.1.1.1.2.2.2.2.2.3.3.cmml">1</mn></mrow></msup><mo fence="false" id="S3.E6.m1.3.3.1.1.1.1.2.2.2.2.1" xref="S3.E6.m1.3.3.1.1.1.1.2.2.2.2.1.cmml">|</mo><msup id="S3.E6.m1.3.3.1.1.1.1.2.2.2.2.3" xref="S3.E6.m1.3.3.1.1.1.1.2.2.2.2.3.cmml"><mi id="S3.E6.m1.3.3.1.1.1.1.2.2.2.2.3.2" xref="S3.E6.m1.3.3.1.1.1.1.2.2.2.2.3.2.cmml">𝒙</mi><mi id="S3.E6.m1.3.3.1.1.1.1.2.2.2.2.3.3" xref="S3.E6.m1.3.3.1.1.1.1.2.2.2.2.3.3.cmml">T</mi></msup></mrow><mo stretchy="false" id="S3.E6.m1.3.3.1.1.1.1.2.2.2.6" xref="S3.E6.m1.3.3.1.1.1.1.2.2.3.cmml">)</mo></mrow></mrow><mo id="S3.E6.m1.3.3.1.1.1.1.4" xref="S3.E6.m1.3.3.1.1.1.1.4.cmml">=</mo><mrow id="S3.E6.m1.3.3.1.1.1.1.3" xref="S3.E6.m1.3.3.1.1.1.1.3.cmml"><mstyle displaystyle="true" id="S3.E6.m1.3.3.1.1.1.1.3.2" xref="S3.E6.m1.3.3.1.1.1.1.3.2.cmml"><munderover id="S3.E6.m1.3.3.1.1.1.1.3.2a" xref="S3.E6.m1.3.3.1.1.1.1.3.2.cmml"><mo movablelimits="false" id="S3.E6.m1.3.3.1.1.1.1.3.2.2.2" xref="S3.E6.m1.3.3.1.1.1.1.3.2.2.2.cmml">∏</mo><mrow id="S3.E6.m1.3.3.1.1.1.1.3.2.2.3" xref="S3.E6.m1.3.3.1.1.1.1.3.2.2.3.cmml"><mi id="S3.E6.m1.3.3.1.1.1.1.3.2.2.3.2" xref="S3.E6.m1.3.3.1.1.1.1.3.2.2.3.2.cmml">t</mi><mo id="S3.E6.m1.3.3.1.1.1.1.3.2.2.3.1" xref="S3.E6.m1.3.3.1.1.1.1.3.2.2.3.1.cmml">=</mo><mn id="S3.E6.m1.3.3.1.1.1.1.3.2.2.3.3" xref="S3.E6.m1.3.3.1.1.1.1.3.2.2.3.3.cmml">1</mn></mrow><mi id="S3.E6.m1.3.3.1.1.1.1.3.2.3" xref="S3.E6.m1.3.3.1.1.1.1.3.2.3.cmml">T</mi></munderover></mstyle><mrow id="S3.E6.m1.3.3.1.1.1.1.3.1" xref="S3.E6.m1.3.3.1.1.1.1.3.1.cmml"><msub id="S3.E6.m1.3.3.1.1.1.1.3.1.3" xref="S3.E6.m1.3.3.1.1.1.1.3.1.3.cmml"><mi id="S3.E6.m1.3.3.1.1.1.1.3.1.3.2" xref="S3.E6.m1.3.3.1.1.1.1.3.1.3.2.cmml">p</mi><mi id="S3.E6.m1.3.3.1.1.1.1.3.1.3.3" xref="S3.E6.m1.3.3.1.1.1.1.3.1.3.3.cmml">𝜽</mi></msub><mo id="S3.E6.m1.3.3.1.1.1.1.3.1.2" xref="S3.E6.m1.3.3.1.1.1.1.3.1.2.cmml">⁢</mo><mrow id="S3.E6.m1.3.3.1.1.1.1.3.1.1.1" xref="S3.E6.m1.3.3.1.1.1.1.3.1.1.1.1.cmml"><mo stretchy="false" id="S3.E6.m1.3.3.1.1.1.1.3.1.1.1.2" xref="S3.E6.m1.3.3.1.1.1.1.3.1.1.1.1.cmml">(</mo><mrow id="S3.E6.m1.3.3.1.1.1.1.3.1.1.1.1" xref="S3.E6.m1.3.3.1.1.1.1.3.1.1.1.1.cmml"><msup id="S3.E6.m1.3.3.1.1.1.1.3.1.1.1.1.2" xref="S3.E6.m1.3.3.1.1.1.1.3.1.1.1.1.2.cmml"><mi id="S3.E6.m1.3.3.1.1.1.1.3.1.1.1.1.2.2" xref="S3.E6.m1.3.3.1.1.1.1.3.1.1.1.1.2.2.cmml">𝒙</mi><mrow id="S3.E6.m1.3.3.1.1.1.1.3.1.1.1.1.2.3" xref="S3.E6.m1.3.3.1.1.1.1.3.1.1.1.1.2.3.cmml"><mi id="S3.E6.m1.3.3.1.1.1.1.3.1.1.1.1.2.3.2" xref="S3.E6.m1.3.3.1.1.1.1.3.1.1.1.1.2.3.2.cmml">t</mi><mo id="S3.E6.m1.3.3.1.1.1.1.3.1.1.1.1.2.3.1" xref="S3.E6.m1.3.3.1.1.1.1.3.1.1.1.1.2.3.1.cmml">−</mo><mn id="S3.E6.m1.3.3.1.1.1.1.3.1.1.1.1.2.3.3" xref="S3.E6.m1.3.3.1.1.1.1.3.1.1.1.1.2.3.3.cmml">1</mn></mrow></msup><mo fence="false" id="S3.E6.m1.3.3.1.1.1.1.3.1.1.1.1.1" xref="S3.E6.m1.3.3.1.1.1.1.3.1.1.1.1.1.cmml">|</mo><msup id="S3.E6.m1.3.3.1.1.1.1.3.1.1.1.1.3" xref="S3.E6.m1.3.3.1.1.1.1.3.1.1.1.1.3.cmml"><mi id="S3.E6.m1.3.3.1.1.1.1.3.1.1.1.1.3.2" xref="S3.E6.m1.3.3.1.1.1.1.3.1.1.1.1.3.2.cmml">𝒙</mi><mi id="S3.E6.m1.3.3.1.1.1.1.3.1.1.1.1.3.3" xref="S3.E6.m1.3.3.1.1.1.1.3.1.1.1.1.3.3.cmml">t</mi></msup></mrow><mo stretchy="false" id="S3.E6.m1.3.3.1.1.1.1.3.1.1.1.3" xref="S3.E6.m1.3.3.1.1.1.1.3.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="S3.E6.m1.3.3.1.1.2.3" xref="S3.E6.m1.3.3.1.1.3a.cmml">,</mo><mrow id="S3.E6.m1.3.3.1.1.2.2" xref="S3.E6.m1.3.3.1.1.2.2.cmml"><mrow id="S3.E6.m1.3.3.1.1.2.2.1" xref="S3.E6.m1.3.3.1.1.2.2.1.cmml"><mtext id="S3.E6.m1.3.3.1.1.2.2.1.3" xref="S3.E6.m1.3.3.1.1.2.2.1.3a.cmml"> where </mtext><mo id="S3.E6.m1.3.3.1.1.2.2.1.2" xref="S3.E6.m1.3.3.1.1.2.2.1.2.cmml">⁢</mo><msub id="S3.E6.m1.3.3.1.1.2.2.1.4" xref="S3.E6.m1.3.3.1.1.2.2.1.4.cmml"><mi id="S3.E6.m1.3.3.1.1.2.2.1.4.2" xref="S3.E6.m1.3.3.1.1.2.2.1.4.2.cmml">p</mi><mi id="S3.E6.m1.3.3.1.1.2.2.1.4.3" xref="S3.E6.m1.3.3.1.1.2.2.1.4.3.cmml">𝜽</mi></msub><mo id="S3.E6.m1.3.3.1.1.2.2.1.2a" xref="S3.E6.m1.3.3.1.1.2.2.1.2.cmml">⁢</mo><mrow id="S3.E6.m1.3.3.1.1.2.2.1.1.1" xref="S3.E6.m1.3.3.1.1.2.2.1.1.1.1.cmml"><mo stretchy="false" id="S3.E6.m1.3.3.1.1.2.2.1.1.1.2" xref="S3.E6.m1.3.3.1.1.2.2.1.1.1.1.cmml">(</mo><mrow id="S3.E6.m1.3.3.1.1.2.2.1.1.1.1" xref="S3.E6.m1.3.3.1.1.2.2.1.1.1.1.cmml"><msup id="S3.E6.m1.3.3.1.1.2.2.1.1.1.1.2" xref="S3.E6.m1.3.3.1.1.2.2.1.1.1.1.2.cmml"><mi id="S3.E6.m1.3.3.1.1.2.2.1.1.1.1.2.2" xref="S3.E6.m1.3.3.1.1.2.2.1.1.1.1.2.2.cmml">𝒙</mi><mrow id="S3.E6.m1.3.3.1.1.2.2.1.1.1.1.2.3" xref="S3.E6.m1.3.3.1.1.2.2.1.1.1.1.2.3.cmml"><mi id="S3.E6.m1.3.3.1.1.2.2.1.1.1.1.2.3.2" xref="S3.E6.m1.3.3.1.1.2.2.1.1.1.1.2.3.2.cmml">t</mi><mo id="S3.E6.m1.3.3.1.1.2.2.1.1.1.1.2.3.1" xref="S3.E6.m1.3.3.1.1.2.2.1.1.1.1.2.3.1.cmml">−</mo><mn id="S3.E6.m1.3.3.1.1.2.2.1.1.1.1.2.3.3" xref="S3.E6.m1.3.3.1.1.2.2.1.1.1.1.2.3.3.cmml">1</mn></mrow></msup><mo fence="false" id="S3.E6.m1.3.3.1.1.2.2.1.1.1.1.1" xref="S3.E6.m1.3.3.1.1.2.2.1.1.1.1.1.cmml">|</mo><msup id="S3.E6.m1.3.3.1.1.2.2.1.1.1.1.3" xref="S3.E6.m1.3.3.1.1.2.2.1.1.1.1.3.cmml"><mi id="S3.E6.m1.3.3.1.1.2.2.1.1.1.1.3.2" xref="S3.E6.m1.3.3.1.1.2.2.1.1.1.1.3.2.cmml">𝒙</mi><mi id="S3.E6.m1.3.3.1.1.2.2.1.1.1.1.3.3" xref="S3.E6.m1.3.3.1.1.2.2.1.1.1.1.3.3.cmml">t</mi></msup></mrow><mo stretchy="false" id="S3.E6.m1.3.3.1.1.2.2.1.1.1.3" xref="S3.E6.m1.3.3.1.1.2.2.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E6.m1.3.3.1.1.2.2.5" xref="S3.E6.m1.3.3.1.1.2.2.5.cmml">=</mo><mrow id="S3.E6.m1.3.3.1.1.2.2.4" xref="S3.E6.m1.3.3.1.1.2.2.4.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E6.m1.3.3.1.1.2.2.4.5" xref="S3.E6.m1.3.3.1.1.2.2.4.5.cmml">𝒩</mi><mo id="S3.E6.m1.3.3.1.1.2.2.4.4" xref="S3.E6.m1.3.3.1.1.2.2.4.4.cmml">⁢</mo><mrow id="S3.E6.m1.3.3.1.1.2.2.4.3.3" xref="S3.E6.m1.3.3.1.1.2.2.4.3.4.cmml"><mo stretchy="false" id="S3.E6.m1.3.3.1.1.2.2.4.3.3.4" xref="S3.E6.m1.3.3.1.1.2.2.4.3.4.cmml">(</mo><msup id="S3.E6.m1.3.3.1.1.2.2.2.1.1.1" xref="S3.E6.m1.3.3.1.1.2.2.2.1.1.1.cmml"><mi id="S3.E6.m1.3.3.1.1.2.2.2.1.1.1.2" xref="S3.E6.m1.3.3.1.1.2.2.2.1.1.1.2.cmml">𝒙</mi><mrow id="S3.E6.m1.3.3.1.1.2.2.2.1.1.1.3" xref="S3.E6.m1.3.3.1.1.2.2.2.1.1.1.3.cmml"><mi id="S3.E6.m1.3.3.1.1.2.2.2.1.1.1.3.2" xref="S3.E6.m1.3.3.1.1.2.2.2.1.1.1.3.2.cmml">t</mi><mo id="S3.E6.m1.3.3.1.1.2.2.2.1.1.1.3.1" xref="S3.E6.m1.3.3.1.1.2.2.2.1.1.1.3.1.cmml">−</mo><mn id="S3.E6.m1.3.3.1.1.2.2.2.1.1.1.3.3" xref="S3.E6.m1.3.3.1.1.2.2.2.1.1.1.3.3.cmml">1</mn></mrow></msup><mo id="S3.E6.m1.3.3.1.1.2.2.4.3.3.5" xref="S3.E6.m1.3.3.1.1.2.2.4.3.4.cmml">;</mo><mrow id="S3.E6.m1.3.3.1.1.2.2.3.2.2.2" xref="S3.E6.m1.3.3.1.1.2.2.3.2.2.2.cmml"><msub id="S3.E6.m1.3.3.1.1.2.2.3.2.2.2.3" xref="S3.E6.m1.3.3.1.1.2.2.3.2.2.2.3.cmml"><mi id="S3.E6.m1.3.3.1.1.2.2.3.2.2.2.3.2" xref="S3.E6.m1.3.3.1.1.2.2.3.2.2.2.3.2.cmml">𝝁</mi><mi id="S3.E6.m1.3.3.1.1.2.2.3.2.2.2.3.3" xref="S3.E6.m1.3.3.1.1.2.2.3.2.2.2.3.3.cmml">𝜽</mi></msub><mo id="S3.E6.m1.3.3.1.1.2.2.3.2.2.2.2" xref="S3.E6.m1.3.3.1.1.2.2.3.2.2.2.2.cmml">⁢</mo><mrow id="S3.E6.m1.3.3.1.1.2.2.3.2.2.2.1.1" xref="S3.E6.m1.3.3.1.1.2.2.3.2.2.2.1.2.cmml"><mo stretchy="false" id="S3.E6.m1.3.3.1.1.2.2.3.2.2.2.1.1.2" xref="S3.E6.m1.3.3.1.1.2.2.3.2.2.2.1.2.cmml">(</mo><msup id="S3.E6.m1.3.3.1.1.2.2.3.2.2.2.1.1.1" xref="S3.E6.m1.3.3.1.1.2.2.3.2.2.2.1.1.1.cmml"><mi id="S3.E6.m1.3.3.1.1.2.2.3.2.2.2.1.1.1.2" xref="S3.E6.m1.3.3.1.1.2.2.3.2.2.2.1.1.1.2.cmml">𝒙</mi><mi id="S3.E6.m1.3.3.1.1.2.2.3.2.2.2.1.1.1.3" xref="S3.E6.m1.3.3.1.1.2.2.3.2.2.2.1.1.1.3.cmml">t</mi></msup><mo id="S3.E6.m1.3.3.1.1.2.2.3.2.2.2.1.1.3" xref="S3.E6.m1.3.3.1.1.2.2.3.2.2.2.1.2.cmml">,</mo><mi id="S3.E6.m1.2.2" xref="S3.E6.m1.2.2.cmml">t</mi><mo stretchy="false" id="S3.E6.m1.3.3.1.1.2.2.3.2.2.2.1.1.4" xref="S3.E6.m1.3.3.1.1.2.2.3.2.2.2.1.2.cmml">)</mo></mrow></mrow><mo id="S3.E6.m1.3.3.1.1.2.2.4.3.3.6" xref="S3.E6.m1.3.3.1.1.2.2.4.3.4.cmml">,</mo><mrow id="S3.E6.m1.3.3.1.1.2.2.4.3.3.3" xref="S3.E6.m1.3.3.1.1.2.2.4.3.3.3.cmml"><msubsup id="S3.E6.m1.3.3.1.1.2.2.4.3.3.3.2" xref="S3.E6.m1.3.3.1.1.2.2.4.3.3.3.2.cmml"><mi id="S3.E6.m1.3.3.1.1.2.2.4.3.3.3.2.2.2" xref="S3.E6.m1.3.3.1.1.2.2.4.3.3.3.2.2.2.cmml">σ</mi><mi id="S3.E6.m1.3.3.1.1.2.2.4.3.3.3.2.2.3" xref="S3.E6.m1.3.3.1.1.2.2.4.3.3.3.2.2.3.cmml">t</mi><mn id="S3.E6.m1.3.3.1.1.2.2.4.3.3.3.2.3" xref="S3.E6.m1.3.3.1.1.2.2.4.3.3.3.2.3.cmml">2</mn></msubsup><mo id="S3.E6.m1.3.3.1.1.2.2.4.3.3.3.1" xref="S3.E6.m1.3.3.1.1.2.2.4.3.3.3.1.cmml">⁢</mo><mi id="S3.E6.m1.3.3.1.1.2.2.4.3.3.3.3" xref="S3.E6.m1.3.3.1.1.2.2.4.3.3.3.3.cmml">𝑰</mi></mrow><mo stretchy="false" id="S3.E6.m1.3.3.1.1.2.2.4.3.3.7" xref="S3.E6.m1.3.3.1.1.2.2.4.3.4.cmml">)</mo></mrow></mrow></mrow></mrow><mo lspace="0em" id="S3.E6.m1.3.3.1.2">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E6.m1.3b"><apply id="S3.E6.m1.3.3.1.1.3.cmml" xref="S3.E6.m1.3.3.1.1.2"><csymbol cd="ambiguous" id="S3.E6.m1.3.3.1.1.3a.cmml" xref="S3.E6.m1.3.3.1.1.2.3">formulae-sequence</csymbol><apply id="S3.E6.m1.3.3.1.1.1.1.cmml" xref="S3.E6.m1.3.3.1.1.1.1"><eq id="S3.E6.m1.3.3.1.1.1.1.4.cmml" xref="S3.E6.m1.3.3.1.1.1.1.4"></eq><apply id="S3.E6.m1.3.3.1.1.1.1.2.cmml" xref="S3.E6.m1.3.3.1.1.1.1.2"><times id="S3.E6.m1.3.3.1.1.1.1.2.3.cmml" xref="S3.E6.m1.3.3.1.1.1.1.2.3"></times><apply id="S3.E6.m1.3.3.1.1.1.1.2.4.cmml" xref="S3.E6.m1.3.3.1.1.1.1.2.4"><csymbol cd="ambiguous" id="S3.E6.m1.3.3.1.1.1.1.2.4.1.cmml" xref="S3.E6.m1.3.3.1.1.1.1.2.4">subscript</csymbol><ci id="S3.E6.m1.3.3.1.1.1.1.2.4.2.cmml" xref="S3.E6.m1.3.3.1.1.1.1.2.4.2">𝑝</ci><ci id="S3.E6.m1.3.3.1.1.1.1.2.4.3.cmml" xref="S3.E6.m1.3.3.1.1.1.1.2.4.3">𝜽</ci></apply><vector id="S3.E6.m1.3.3.1.1.1.1.2.2.3.cmml" xref="S3.E6.m1.3.3.1.1.1.1.2.2.2"><apply id="S3.E6.m1.3.3.1.1.1.1.1.1.1.1.cmml" xref="S3.E6.m1.3.3.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E6.m1.3.3.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E6.m1.3.3.1.1.1.1.1.1.1.1">superscript</csymbol><ci id="S3.E6.m1.3.3.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E6.m1.3.3.1.1.1.1.1.1.1.1.2">𝒙</ci><cn type="integer" id="S3.E6.m1.3.3.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E6.m1.3.3.1.1.1.1.1.1.1.1.3">0</cn></apply><ci id="S3.E6.m1.1.1.cmml" xref="S3.E6.m1.1.1">⋯</ci><apply id="S3.E6.m1.3.3.1.1.1.1.2.2.2.2.cmml" xref="S3.E6.m1.3.3.1.1.1.1.2.2.2.2"><csymbol cd="latexml" id="S3.E6.m1.3.3.1.1.1.1.2.2.2.2.1.cmml" xref="S3.E6.m1.3.3.1.1.1.1.2.2.2.2.1">conditional</csymbol><apply id="S3.E6.m1.3.3.1.1.1.1.2.2.2.2.2.cmml" xref="S3.E6.m1.3.3.1.1.1.1.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.E6.m1.3.3.1.1.1.1.2.2.2.2.2.1.cmml" xref="S3.E6.m1.3.3.1.1.1.1.2.2.2.2.2">superscript</csymbol><ci id="S3.E6.m1.3.3.1.1.1.1.2.2.2.2.2.2.cmml" xref="S3.E6.m1.3.3.1.1.1.1.2.2.2.2.2.2">𝒙</ci><apply id="S3.E6.m1.3.3.1.1.1.1.2.2.2.2.2.3.cmml" xref="S3.E6.m1.3.3.1.1.1.1.2.2.2.2.2.3"><minus id="S3.E6.m1.3.3.1.1.1.1.2.2.2.2.2.3.1.cmml" xref="S3.E6.m1.3.3.1.1.1.1.2.2.2.2.2.3.1"></minus><ci id="S3.E6.m1.3.3.1.1.1.1.2.2.2.2.2.3.2.cmml" xref="S3.E6.m1.3.3.1.1.1.1.2.2.2.2.2.3.2">𝑇</ci><cn type="integer" id="S3.E6.m1.3.3.1.1.1.1.2.2.2.2.2.3.3.cmml" xref="S3.E6.m1.3.3.1.1.1.1.2.2.2.2.2.3.3">1</cn></apply></apply><apply id="S3.E6.m1.3.3.1.1.1.1.2.2.2.2.3.cmml" xref="S3.E6.m1.3.3.1.1.1.1.2.2.2.2.3"><csymbol cd="ambiguous" id="S3.E6.m1.3.3.1.1.1.1.2.2.2.2.3.1.cmml" xref="S3.E6.m1.3.3.1.1.1.1.2.2.2.2.3">superscript</csymbol><ci id="S3.E6.m1.3.3.1.1.1.1.2.2.2.2.3.2.cmml" xref="S3.E6.m1.3.3.1.1.1.1.2.2.2.2.3.2">𝒙</ci><ci id="S3.E6.m1.3.3.1.1.1.1.2.2.2.2.3.3.cmml" xref="S3.E6.m1.3.3.1.1.1.1.2.2.2.2.3.3">𝑇</ci></apply></apply></vector></apply><apply id="S3.E6.m1.3.3.1.1.1.1.3.cmml" xref="S3.E6.m1.3.3.1.1.1.1.3"><apply id="S3.E6.m1.3.3.1.1.1.1.3.2.cmml" xref="S3.E6.m1.3.3.1.1.1.1.3.2"><csymbol cd="ambiguous" id="S3.E6.m1.3.3.1.1.1.1.3.2.1.cmml" xref="S3.E6.m1.3.3.1.1.1.1.3.2">superscript</csymbol><apply id="S3.E6.m1.3.3.1.1.1.1.3.2.2.cmml" xref="S3.E6.m1.3.3.1.1.1.1.3.2"><csymbol cd="ambiguous" id="S3.E6.m1.3.3.1.1.1.1.3.2.2.1.cmml" xref="S3.E6.m1.3.3.1.1.1.1.3.2">subscript</csymbol><csymbol cd="latexml" id="S3.E6.m1.3.3.1.1.1.1.3.2.2.2.cmml" xref="S3.E6.m1.3.3.1.1.1.1.3.2.2.2">product</csymbol><apply id="S3.E6.m1.3.3.1.1.1.1.3.2.2.3.cmml" xref="S3.E6.m1.3.3.1.1.1.1.3.2.2.3"><eq id="S3.E6.m1.3.3.1.1.1.1.3.2.2.3.1.cmml" xref="S3.E6.m1.3.3.1.1.1.1.3.2.2.3.1"></eq><ci id="S3.E6.m1.3.3.1.1.1.1.3.2.2.3.2.cmml" xref="S3.E6.m1.3.3.1.1.1.1.3.2.2.3.2">𝑡</ci><cn type="integer" id="S3.E6.m1.3.3.1.1.1.1.3.2.2.3.3.cmml" xref="S3.E6.m1.3.3.1.1.1.1.3.2.2.3.3">1</cn></apply></apply><ci id="S3.E6.m1.3.3.1.1.1.1.3.2.3.cmml" xref="S3.E6.m1.3.3.1.1.1.1.3.2.3">𝑇</ci></apply><apply id="S3.E6.m1.3.3.1.1.1.1.3.1.cmml" xref="S3.E6.m1.3.3.1.1.1.1.3.1"><times id="S3.E6.m1.3.3.1.1.1.1.3.1.2.cmml" xref="S3.E6.m1.3.3.1.1.1.1.3.1.2"></times><apply id="S3.E6.m1.3.3.1.1.1.1.3.1.3.cmml" xref="S3.E6.m1.3.3.1.1.1.1.3.1.3"><csymbol cd="ambiguous" id="S3.E6.m1.3.3.1.1.1.1.3.1.3.1.cmml" xref="S3.E6.m1.3.3.1.1.1.1.3.1.3">subscript</csymbol><ci id="S3.E6.m1.3.3.1.1.1.1.3.1.3.2.cmml" xref="S3.E6.m1.3.3.1.1.1.1.3.1.3.2">𝑝</ci><ci id="S3.E6.m1.3.3.1.1.1.1.3.1.3.3.cmml" xref="S3.E6.m1.3.3.1.1.1.1.3.1.3.3">𝜽</ci></apply><apply id="S3.E6.m1.3.3.1.1.1.1.3.1.1.1.1.cmml" xref="S3.E6.m1.3.3.1.1.1.1.3.1.1.1"><csymbol cd="latexml" id="S3.E6.m1.3.3.1.1.1.1.3.1.1.1.1.1.cmml" xref="S3.E6.m1.3.3.1.1.1.1.3.1.1.1.1.1">conditional</csymbol><apply id="S3.E6.m1.3.3.1.1.1.1.3.1.1.1.1.2.cmml" xref="S3.E6.m1.3.3.1.1.1.1.3.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E6.m1.3.3.1.1.1.1.3.1.1.1.1.2.1.cmml" xref="S3.E6.m1.3.3.1.1.1.1.3.1.1.1.1.2">superscript</csymbol><ci id="S3.E6.m1.3.3.1.1.1.1.3.1.1.1.1.2.2.cmml" xref="S3.E6.m1.3.3.1.1.1.1.3.1.1.1.1.2.2">𝒙</ci><apply id="S3.E6.m1.3.3.1.1.1.1.3.1.1.1.1.2.3.cmml" xref="S3.E6.m1.3.3.1.1.1.1.3.1.1.1.1.2.3"><minus id="S3.E6.m1.3.3.1.1.1.1.3.1.1.1.1.2.3.1.cmml" xref="S3.E6.m1.3.3.1.1.1.1.3.1.1.1.1.2.3.1"></minus><ci id="S3.E6.m1.3.3.1.1.1.1.3.1.1.1.1.2.3.2.cmml" xref="S3.E6.m1.3.3.1.1.1.1.3.1.1.1.1.2.3.2">𝑡</ci><cn type="integer" id="S3.E6.m1.3.3.1.1.1.1.3.1.1.1.1.2.3.3.cmml" xref="S3.E6.m1.3.3.1.1.1.1.3.1.1.1.1.2.3.3">1</cn></apply></apply><apply id="S3.E6.m1.3.3.1.1.1.1.3.1.1.1.1.3.cmml" xref="S3.E6.m1.3.3.1.1.1.1.3.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E6.m1.3.3.1.1.1.1.3.1.1.1.1.3.1.cmml" xref="S3.E6.m1.3.3.1.1.1.1.3.1.1.1.1.3">superscript</csymbol><ci id="S3.E6.m1.3.3.1.1.1.1.3.1.1.1.1.3.2.cmml" xref="S3.E6.m1.3.3.1.1.1.1.3.1.1.1.1.3.2">𝒙</ci><ci id="S3.E6.m1.3.3.1.1.1.1.3.1.1.1.1.3.3.cmml" xref="S3.E6.m1.3.3.1.1.1.1.3.1.1.1.1.3.3">𝑡</ci></apply></apply></apply></apply></apply><apply id="S3.E6.m1.3.3.1.1.2.2.cmml" xref="S3.E6.m1.3.3.1.1.2.2"><eq id="S3.E6.m1.3.3.1.1.2.2.5.cmml" xref="S3.E6.m1.3.3.1.1.2.2.5"></eq><apply id="S3.E6.m1.3.3.1.1.2.2.1.cmml" xref="S3.E6.m1.3.3.1.1.2.2.1"><times id="S3.E6.m1.3.3.1.1.2.2.1.2.cmml" xref="S3.E6.m1.3.3.1.1.2.2.1.2"></times><ci id="S3.E6.m1.3.3.1.1.2.2.1.3a.cmml" xref="S3.E6.m1.3.3.1.1.2.2.1.3"><mtext id="S3.E6.m1.3.3.1.1.2.2.1.3.cmml" xref="S3.E6.m1.3.3.1.1.2.2.1.3"> where </mtext></ci><apply id="S3.E6.m1.3.3.1.1.2.2.1.4.cmml" xref="S3.E6.m1.3.3.1.1.2.2.1.4"><csymbol cd="ambiguous" id="S3.E6.m1.3.3.1.1.2.2.1.4.1.cmml" xref="S3.E6.m1.3.3.1.1.2.2.1.4">subscript</csymbol><ci id="S3.E6.m1.3.3.1.1.2.2.1.4.2.cmml" xref="S3.E6.m1.3.3.1.1.2.2.1.4.2">𝑝</ci><ci id="S3.E6.m1.3.3.1.1.2.2.1.4.3.cmml" xref="S3.E6.m1.3.3.1.1.2.2.1.4.3">𝜽</ci></apply><apply id="S3.E6.m1.3.3.1.1.2.2.1.1.1.1.cmml" xref="S3.E6.m1.3.3.1.1.2.2.1.1.1"><csymbol cd="latexml" id="S3.E6.m1.3.3.1.1.2.2.1.1.1.1.1.cmml" xref="S3.E6.m1.3.3.1.1.2.2.1.1.1.1.1">conditional</csymbol><apply id="S3.E6.m1.3.3.1.1.2.2.1.1.1.1.2.cmml" xref="S3.E6.m1.3.3.1.1.2.2.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E6.m1.3.3.1.1.2.2.1.1.1.1.2.1.cmml" xref="S3.E6.m1.3.3.1.1.2.2.1.1.1.1.2">superscript</csymbol><ci id="S3.E6.m1.3.3.1.1.2.2.1.1.1.1.2.2.cmml" xref="S3.E6.m1.3.3.1.1.2.2.1.1.1.1.2.2">𝒙</ci><apply id="S3.E6.m1.3.3.1.1.2.2.1.1.1.1.2.3.cmml" xref="S3.E6.m1.3.3.1.1.2.2.1.1.1.1.2.3"><minus id="S3.E6.m1.3.3.1.1.2.2.1.1.1.1.2.3.1.cmml" xref="S3.E6.m1.3.3.1.1.2.2.1.1.1.1.2.3.1"></minus><ci id="S3.E6.m1.3.3.1.1.2.2.1.1.1.1.2.3.2.cmml" xref="S3.E6.m1.3.3.1.1.2.2.1.1.1.1.2.3.2">𝑡</ci><cn type="integer" id="S3.E6.m1.3.3.1.1.2.2.1.1.1.1.2.3.3.cmml" xref="S3.E6.m1.3.3.1.1.2.2.1.1.1.1.2.3.3">1</cn></apply></apply><apply id="S3.E6.m1.3.3.1.1.2.2.1.1.1.1.3.cmml" xref="S3.E6.m1.3.3.1.1.2.2.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E6.m1.3.3.1.1.2.2.1.1.1.1.3.1.cmml" xref="S3.E6.m1.3.3.1.1.2.2.1.1.1.1.3">superscript</csymbol><ci id="S3.E6.m1.3.3.1.1.2.2.1.1.1.1.3.2.cmml" xref="S3.E6.m1.3.3.1.1.2.2.1.1.1.1.3.2">𝒙</ci><ci id="S3.E6.m1.3.3.1.1.2.2.1.1.1.1.3.3.cmml" xref="S3.E6.m1.3.3.1.1.2.2.1.1.1.1.3.3">𝑡</ci></apply></apply></apply><apply id="S3.E6.m1.3.3.1.1.2.2.4.cmml" xref="S3.E6.m1.3.3.1.1.2.2.4"><times id="S3.E6.m1.3.3.1.1.2.2.4.4.cmml" xref="S3.E6.m1.3.3.1.1.2.2.4.4"></times><ci id="S3.E6.m1.3.3.1.1.2.2.4.5.cmml" xref="S3.E6.m1.3.3.1.1.2.2.4.5">𝒩</ci><list id="S3.E6.m1.3.3.1.1.2.2.4.3.4.cmml" xref="S3.E6.m1.3.3.1.1.2.2.4.3.3"><apply id="S3.E6.m1.3.3.1.1.2.2.2.1.1.1.cmml" xref="S3.E6.m1.3.3.1.1.2.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.E6.m1.3.3.1.1.2.2.2.1.1.1.1.cmml" xref="S3.E6.m1.3.3.1.1.2.2.2.1.1.1">superscript</csymbol><ci id="S3.E6.m1.3.3.1.1.2.2.2.1.1.1.2.cmml" xref="S3.E6.m1.3.3.1.1.2.2.2.1.1.1.2">𝒙</ci><apply id="S3.E6.m1.3.3.1.1.2.2.2.1.1.1.3.cmml" xref="S3.E6.m1.3.3.1.1.2.2.2.1.1.1.3"><minus id="S3.E6.m1.3.3.1.1.2.2.2.1.1.1.3.1.cmml" xref="S3.E6.m1.3.3.1.1.2.2.2.1.1.1.3.1"></minus><ci id="S3.E6.m1.3.3.1.1.2.2.2.1.1.1.3.2.cmml" xref="S3.E6.m1.3.3.1.1.2.2.2.1.1.1.3.2">𝑡</ci><cn type="integer" id="S3.E6.m1.3.3.1.1.2.2.2.1.1.1.3.3.cmml" xref="S3.E6.m1.3.3.1.1.2.2.2.1.1.1.3.3">1</cn></apply></apply><apply id="S3.E6.m1.3.3.1.1.2.2.3.2.2.2.cmml" xref="S3.E6.m1.3.3.1.1.2.2.3.2.2.2"><times id="S3.E6.m1.3.3.1.1.2.2.3.2.2.2.2.cmml" xref="S3.E6.m1.3.3.1.1.2.2.3.2.2.2.2"></times><apply id="S3.E6.m1.3.3.1.1.2.2.3.2.2.2.3.cmml" xref="S3.E6.m1.3.3.1.1.2.2.3.2.2.2.3"><csymbol cd="ambiguous" id="S3.E6.m1.3.3.1.1.2.2.3.2.2.2.3.1.cmml" xref="S3.E6.m1.3.3.1.1.2.2.3.2.2.2.3">subscript</csymbol><ci id="S3.E6.m1.3.3.1.1.2.2.3.2.2.2.3.2.cmml" xref="S3.E6.m1.3.3.1.1.2.2.3.2.2.2.3.2">𝝁</ci><ci id="S3.E6.m1.3.3.1.1.2.2.3.2.2.2.3.3.cmml" xref="S3.E6.m1.3.3.1.1.2.2.3.2.2.2.3.3">𝜽</ci></apply><interval closure="open" id="S3.E6.m1.3.3.1.1.2.2.3.2.2.2.1.2.cmml" xref="S3.E6.m1.3.3.1.1.2.2.3.2.2.2.1.1"><apply id="S3.E6.m1.3.3.1.1.2.2.3.2.2.2.1.1.1.cmml" xref="S3.E6.m1.3.3.1.1.2.2.3.2.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.E6.m1.3.3.1.1.2.2.3.2.2.2.1.1.1.1.cmml" xref="S3.E6.m1.3.3.1.1.2.2.3.2.2.2.1.1.1">superscript</csymbol><ci id="S3.E6.m1.3.3.1.1.2.2.3.2.2.2.1.1.1.2.cmml" xref="S3.E6.m1.3.3.1.1.2.2.3.2.2.2.1.1.1.2">𝒙</ci><ci id="S3.E6.m1.3.3.1.1.2.2.3.2.2.2.1.1.1.3.cmml" xref="S3.E6.m1.3.3.1.1.2.2.3.2.2.2.1.1.1.3">𝑡</ci></apply><ci id="S3.E6.m1.2.2.cmml" xref="S3.E6.m1.2.2">𝑡</ci></interval></apply><apply id="S3.E6.m1.3.3.1.1.2.2.4.3.3.3.cmml" xref="S3.E6.m1.3.3.1.1.2.2.4.3.3.3"><times id="S3.E6.m1.3.3.1.1.2.2.4.3.3.3.1.cmml" xref="S3.E6.m1.3.3.1.1.2.2.4.3.3.3.1"></times><apply id="S3.E6.m1.3.3.1.1.2.2.4.3.3.3.2.cmml" xref="S3.E6.m1.3.3.1.1.2.2.4.3.3.3.2"><csymbol cd="ambiguous" id="S3.E6.m1.3.3.1.1.2.2.4.3.3.3.2.1.cmml" xref="S3.E6.m1.3.3.1.1.2.2.4.3.3.3.2">superscript</csymbol><apply id="S3.E6.m1.3.3.1.1.2.2.4.3.3.3.2.2.cmml" xref="S3.E6.m1.3.3.1.1.2.2.4.3.3.3.2"><csymbol cd="ambiguous" id="S3.E6.m1.3.3.1.1.2.2.4.3.3.3.2.2.1.cmml" xref="S3.E6.m1.3.3.1.1.2.2.4.3.3.3.2">subscript</csymbol><ci id="S3.E6.m1.3.3.1.1.2.2.4.3.3.3.2.2.2.cmml" xref="S3.E6.m1.3.3.1.1.2.2.4.3.3.3.2.2.2">𝜎</ci><ci id="S3.E6.m1.3.3.1.1.2.2.4.3.3.3.2.2.3.cmml" xref="S3.E6.m1.3.3.1.1.2.2.4.3.3.3.2.2.3">𝑡</ci></apply><cn type="integer" id="S3.E6.m1.3.3.1.1.2.2.4.3.3.3.2.3.cmml" xref="S3.E6.m1.3.3.1.1.2.2.4.3.3.3.2.3">2</cn></apply><ci id="S3.E6.m1.3.3.1.1.2.2.4.3.3.3.3.cmml" xref="S3.E6.m1.3.3.1.1.2.2.4.3.3.3.3">𝑰</ci></apply></list></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E6.m1.3c">\displaystyle p_{\bm{\theta}}({\bm{x}}^{0},\cdots,{\bm{x}}^{T-1}|{\bm{x}}^{T})=\prod_{t=1}^{T}p_{\bm{\theta}}({\bm{x}}^{t-1}|{\bm{x}}^{t}),\text{ where }p_{\bm{\theta}}({\bm{x}}^{t-1}|{\bm{x}}^{t})={\mathcal{N}}({\bm{x}}^{t-1};\bm{\mu}_{\bm{\theta}}({\bm{x}}^{t},t),\sigma_{t}^{2}{\bm{I}}).</annotation><annotation encoding="application/x-llamapun" id="S3.E6.m1.3d">italic_p start_POSTSUBSCRIPT bold_italic_θ end_POSTSUBSCRIPT ( bold_italic_x start_POSTSUPERSCRIPT 0 end_POSTSUPERSCRIPT , ⋯ , bold_italic_x start_POSTSUPERSCRIPT italic_T - 1 end_POSTSUPERSCRIPT | bold_italic_x start_POSTSUPERSCRIPT italic_T end_POSTSUPERSCRIPT ) = ∏ start_POSTSUBSCRIPT italic_t = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_T end_POSTSUPERSCRIPT italic_p start_POSTSUBSCRIPT bold_italic_θ end_POSTSUBSCRIPT ( bold_italic_x start_POSTSUPERSCRIPT italic_t - 1 end_POSTSUPERSCRIPT | bold_italic_x start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT ) , where italic_p start_POSTSUBSCRIPT bold_italic_θ end_POSTSUBSCRIPT ( bold_italic_x start_POSTSUPERSCRIPT italic_t - 1 end_POSTSUPERSCRIPT | bold_italic_x start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT ) = caligraphic_N ( bold_italic_x start_POSTSUPERSCRIPT italic_t - 1 end_POSTSUPERSCRIPT ; bold_italic_μ start_POSTSUBSCRIPT bold_italic_θ end_POSTSUBSCRIPT ( bold_italic_x start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT , italic_t ) , italic_σ start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT start_POSTSUPERSCRIPT 2 end_POSTSUPERSCRIPT bold_italic_I ) .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(6)</span></td>
</tr></tbody>
</table>
<p id="S3.SS1.SSS0.Px2.p1.10" class="ltx_p">The mean <math id="S3.SS1.SSS0.Px2.p1.4.m1.2" class="ltx_Math" alttext="\bm{\mu}_{\bm{\theta}}({\bm{x}}^{t},t)" display="inline"><semantics id="S3.SS1.SSS0.Px2.p1.4.m1.2a"><mrow id="S3.SS1.SSS0.Px2.p1.4.m1.2.2" xref="S3.SS1.SSS0.Px2.p1.4.m1.2.2.cmml"><msub id="S3.SS1.SSS0.Px2.p1.4.m1.2.2.3" xref="S3.SS1.SSS0.Px2.p1.4.m1.2.2.3.cmml"><mi id="S3.SS1.SSS0.Px2.p1.4.m1.2.2.3.2" xref="S3.SS1.SSS0.Px2.p1.4.m1.2.2.3.2.cmml">𝝁</mi><mi id="S3.SS1.SSS0.Px2.p1.4.m1.2.2.3.3" xref="S3.SS1.SSS0.Px2.p1.4.m1.2.2.3.3.cmml">𝜽</mi></msub><mo id="S3.SS1.SSS0.Px2.p1.4.m1.2.2.2" xref="S3.SS1.SSS0.Px2.p1.4.m1.2.2.2.cmml">⁢</mo><mrow id="S3.SS1.SSS0.Px2.p1.4.m1.2.2.1.1" xref="S3.SS1.SSS0.Px2.p1.4.m1.2.2.1.2.cmml"><mo stretchy="false" id="S3.SS1.SSS0.Px2.p1.4.m1.2.2.1.1.2" xref="S3.SS1.SSS0.Px2.p1.4.m1.2.2.1.2.cmml">(</mo><msup id="S3.SS1.SSS0.Px2.p1.4.m1.2.2.1.1.1" xref="S3.SS1.SSS0.Px2.p1.4.m1.2.2.1.1.1.cmml"><mi id="S3.SS1.SSS0.Px2.p1.4.m1.2.2.1.1.1.2" xref="S3.SS1.SSS0.Px2.p1.4.m1.2.2.1.1.1.2.cmml">𝒙</mi><mi id="S3.SS1.SSS0.Px2.p1.4.m1.2.2.1.1.1.3" xref="S3.SS1.SSS0.Px2.p1.4.m1.2.2.1.1.1.3.cmml">t</mi></msup><mo id="S3.SS1.SSS0.Px2.p1.4.m1.2.2.1.1.3" xref="S3.SS1.SSS0.Px2.p1.4.m1.2.2.1.2.cmml">,</mo><mi id="S3.SS1.SSS0.Px2.p1.4.m1.1.1" xref="S3.SS1.SSS0.Px2.p1.4.m1.1.1.cmml">t</mi><mo stretchy="false" id="S3.SS1.SSS0.Px2.p1.4.m1.2.2.1.1.4" xref="S3.SS1.SSS0.Px2.p1.4.m1.2.2.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px2.p1.4.m1.2b"><apply id="S3.SS1.SSS0.Px2.p1.4.m1.2.2.cmml" xref="S3.SS1.SSS0.Px2.p1.4.m1.2.2"><times id="S3.SS1.SSS0.Px2.p1.4.m1.2.2.2.cmml" xref="S3.SS1.SSS0.Px2.p1.4.m1.2.2.2"></times><apply id="S3.SS1.SSS0.Px2.p1.4.m1.2.2.3.cmml" xref="S3.SS1.SSS0.Px2.p1.4.m1.2.2.3"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px2.p1.4.m1.2.2.3.1.cmml" xref="S3.SS1.SSS0.Px2.p1.4.m1.2.2.3">subscript</csymbol><ci id="S3.SS1.SSS0.Px2.p1.4.m1.2.2.3.2.cmml" xref="S3.SS1.SSS0.Px2.p1.4.m1.2.2.3.2">𝝁</ci><ci id="S3.SS1.SSS0.Px2.p1.4.m1.2.2.3.3.cmml" xref="S3.SS1.SSS0.Px2.p1.4.m1.2.2.3.3">𝜽</ci></apply><interval closure="open" id="S3.SS1.SSS0.Px2.p1.4.m1.2.2.1.2.cmml" xref="S3.SS1.SSS0.Px2.p1.4.m1.2.2.1.1"><apply id="S3.SS1.SSS0.Px2.p1.4.m1.2.2.1.1.1.cmml" xref="S3.SS1.SSS0.Px2.p1.4.m1.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px2.p1.4.m1.2.2.1.1.1.1.cmml" xref="S3.SS1.SSS0.Px2.p1.4.m1.2.2.1.1.1">superscript</csymbol><ci id="S3.SS1.SSS0.Px2.p1.4.m1.2.2.1.1.1.2.cmml" xref="S3.SS1.SSS0.Px2.p1.4.m1.2.2.1.1.1.2">𝒙</ci><ci id="S3.SS1.SSS0.Px2.p1.4.m1.2.2.1.1.1.3.cmml" xref="S3.SS1.SSS0.Px2.p1.4.m1.2.2.1.1.1.3">𝑡</ci></apply><ci id="S3.SS1.SSS0.Px2.p1.4.m1.1.1.cmml" xref="S3.SS1.SSS0.Px2.p1.4.m1.1.1">𝑡</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px2.p1.4.m1.2c">\bm{\mu}_{\bm{\theta}}({\bm{x}}^{t},t)</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS0.Px2.p1.4.m1.2d">bold_italic_μ start_POSTSUBSCRIPT bold_italic_θ end_POSTSUBSCRIPT ( bold_italic_x start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT , italic_t )</annotation></semantics></math> is a neural network parameterized by <math id="S3.SS1.SSS0.Px2.p1.5.m2.1" class="ltx_Math" alttext="\bm{\theta}" display="inline"><semantics id="S3.SS1.SSS0.Px2.p1.5.m2.1a"><mi id="S3.SS1.SSS0.Px2.p1.5.m2.1.1" xref="S3.SS1.SSS0.Px2.p1.5.m2.1.1.cmml">𝜽</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px2.p1.5.m2.1b"><ci id="S3.SS1.SSS0.Px2.p1.5.m2.1.1.cmml" xref="S3.SS1.SSS0.Px2.p1.5.m2.1.1">𝜽</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px2.p1.5.m2.1c">\bm{\theta}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS0.Px2.p1.5.m2.1d">bold_italic_θ</annotation></semantics></math>, and the variance <math id="S3.SS1.SSS0.Px2.p1.6.m3.1" class="ltx_Math" alttext="\sigma_{t}^{2}" display="inline"><semantics id="S3.SS1.SSS0.Px2.p1.6.m3.1a"><msubsup id="S3.SS1.SSS0.Px2.p1.6.m3.1.1" xref="S3.SS1.SSS0.Px2.p1.6.m3.1.1.cmml"><mi id="S3.SS1.SSS0.Px2.p1.6.m3.1.1.2.2" xref="S3.SS1.SSS0.Px2.p1.6.m3.1.1.2.2.cmml">σ</mi><mi id="S3.SS1.SSS0.Px2.p1.6.m3.1.1.2.3" xref="S3.SS1.SSS0.Px2.p1.6.m3.1.1.2.3.cmml">t</mi><mn id="S3.SS1.SSS0.Px2.p1.6.m3.1.1.3" xref="S3.SS1.SSS0.Px2.p1.6.m3.1.1.3.cmml">2</mn></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px2.p1.6.m3.1b"><apply id="S3.SS1.SSS0.Px2.p1.6.m3.1.1.cmml" xref="S3.SS1.SSS0.Px2.p1.6.m3.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px2.p1.6.m3.1.1.1.cmml" xref="S3.SS1.SSS0.Px2.p1.6.m3.1.1">superscript</csymbol><apply id="S3.SS1.SSS0.Px2.p1.6.m3.1.1.2.cmml" xref="S3.SS1.SSS0.Px2.p1.6.m3.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px2.p1.6.m3.1.1.2.1.cmml" xref="S3.SS1.SSS0.Px2.p1.6.m3.1.1">subscript</csymbol><ci id="S3.SS1.SSS0.Px2.p1.6.m3.1.1.2.2.cmml" xref="S3.SS1.SSS0.Px2.p1.6.m3.1.1.2.2">𝜎</ci><ci id="S3.SS1.SSS0.Px2.p1.6.m3.1.1.2.3.cmml" xref="S3.SS1.SSS0.Px2.p1.6.m3.1.1.2.3">𝑡</ci></apply><cn type="integer" id="S3.SS1.SSS0.Px2.p1.6.m3.1.1.3.cmml" xref="S3.SS1.SSS0.Px2.p1.6.m3.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px2.p1.6.m3.1c">\sigma_{t}^{2}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS0.Px2.p1.6.m3.1d">italic_σ start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT start_POSTSUPERSCRIPT 2 end_POSTSUPERSCRIPT</annotation></semantics></math>’s can be either time-step dependent constants <cite class="ltx_cite ltx_citemacro_citep">(Ho et al., <a href="#bib.bib17" title="" class="ltx_ref">2020b</a>)</cite> or learned by a neural network <cite class="ltx_cite ltx_citemacro_citep">(Nichol &amp; Dhariwal, <a href="#bib.bib22" title="" class="ltx_ref">2021</a>)</cite>.
To generate a sample, we first sample <math id="S3.SS1.SSS0.Px2.p1.7.m4.2" class="ltx_Math" alttext="{\bm{x}}^{T}\sim{\mathcal{N}}(\bm{0}_{3N},{\bm{I}}_{3N\times 3N})" display="inline"><semantics id="S3.SS1.SSS0.Px2.p1.7.m4.2a"><mrow id="S3.SS1.SSS0.Px2.p1.7.m4.2.2" xref="S3.SS1.SSS0.Px2.p1.7.m4.2.2.cmml"><msup id="S3.SS1.SSS0.Px2.p1.7.m4.2.2.4" xref="S3.SS1.SSS0.Px2.p1.7.m4.2.2.4.cmml"><mi id="S3.SS1.SSS0.Px2.p1.7.m4.2.2.4.2" xref="S3.SS1.SSS0.Px2.p1.7.m4.2.2.4.2.cmml">𝒙</mi><mi id="S3.SS1.SSS0.Px2.p1.7.m4.2.2.4.3" xref="S3.SS1.SSS0.Px2.p1.7.m4.2.2.4.3.cmml">T</mi></msup><mo id="S3.SS1.SSS0.Px2.p1.7.m4.2.2.3" xref="S3.SS1.SSS0.Px2.p1.7.m4.2.2.3.cmml">∼</mo><mrow id="S3.SS1.SSS0.Px2.p1.7.m4.2.2.2" xref="S3.SS1.SSS0.Px2.p1.7.m4.2.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.SSS0.Px2.p1.7.m4.2.2.2.4" xref="S3.SS1.SSS0.Px2.p1.7.m4.2.2.2.4.cmml">𝒩</mi><mo id="S3.SS1.SSS0.Px2.p1.7.m4.2.2.2.3" xref="S3.SS1.SSS0.Px2.p1.7.m4.2.2.2.3.cmml">⁢</mo><mrow id="S3.SS1.SSS0.Px2.p1.7.m4.2.2.2.2.2" xref="S3.SS1.SSS0.Px2.p1.7.m4.2.2.2.2.3.cmml"><mo stretchy="false" id="S3.SS1.SSS0.Px2.p1.7.m4.2.2.2.2.2.3" xref="S3.SS1.SSS0.Px2.p1.7.m4.2.2.2.2.3.cmml">(</mo><msub id="S3.SS1.SSS0.Px2.p1.7.m4.1.1.1.1.1.1" xref="S3.SS1.SSS0.Px2.p1.7.m4.1.1.1.1.1.1.cmml"><mn id="S3.SS1.SSS0.Px2.p1.7.m4.1.1.1.1.1.1.2" xref="S3.SS1.SSS0.Px2.p1.7.m4.1.1.1.1.1.1.2.cmml">𝟎</mn><mrow id="S3.SS1.SSS0.Px2.p1.7.m4.1.1.1.1.1.1.3" xref="S3.SS1.SSS0.Px2.p1.7.m4.1.1.1.1.1.1.3.cmml"><mn id="S3.SS1.SSS0.Px2.p1.7.m4.1.1.1.1.1.1.3.2" xref="S3.SS1.SSS0.Px2.p1.7.m4.1.1.1.1.1.1.3.2.cmml">3</mn><mo id="S3.SS1.SSS0.Px2.p1.7.m4.1.1.1.1.1.1.3.1" xref="S3.SS1.SSS0.Px2.p1.7.m4.1.1.1.1.1.1.3.1.cmml">⁢</mo><mi id="S3.SS1.SSS0.Px2.p1.7.m4.1.1.1.1.1.1.3.3" xref="S3.SS1.SSS0.Px2.p1.7.m4.1.1.1.1.1.1.3.3.cmml">N</mi></mrow></msub><mo id="S3.SS1.SSS0.Px2.p1.7.m4.2.2.2.2.2.4" xref="S3.SS1.SSS0.Px2.p1.7.m4.2.2.2.2.3.cmml">,</mo><msub id="S3.SS1.SSS0.Px2.p1.7.m4.2.2.2.2.2.2" xref="S3.SS1.SSS0.Px2.p1.7.m4.2.2.2.2.2.2.cmml"><mi id="S3.SS1.SSS0.Px2.p1.7.m4.2.2.2.2.2.2.2" xref="S3.SS1.SSS0.Px2.p1.7.m4.2.2.2.2.2.2.2.cmml">𝑰</mi><mrow id="S3.SS1.SSS0.Px2.p1.7.m4.2.2.2.2.2.2.3" xref="S3.SS1.SSS0.Px2.p1.7.m4.2.2.2.2.2.2.3.cmml"><mrow id="S3.SS1.SSS0.Px2.p1.7.m4.2.2.2.2.2.2.3.2" xref="S3.SS1.SSS0.Px2.p1.7.m4.2.2.2.2.2.2.3.2.cmml"><mrow id="S3.SS1.SSS0.Px2.p1.7.m4.2.2.2.2.2.2.3.2.2" xref="S3.SS1.SSS0.Px2.p1.7.m4.2.2.2.2.2.2.3.2.2.cmml"><mn id="S3.SS1.SSS0.Px2.p1.7.m4.2.2.2.2.2.2.3.2.2.2" xref="S3.SS1.SSS0.Px2.p1.7.m4.2.2.2.2.2.2.3.2.2.2.cmml">3</mn><mo id="S3.SS1.SSS0.Px2.p1.7.m4.2.2.2.2.2.2.3.2.2.1" xref="S3.SS1.SSS0.Px2.p1.7.m4.2.2.2.2.2.2.3.2.2.1.cmml">⁢</mo><mi id="S3.SS1.SSS0.Px2.p1.7.m4.2.2.2.2.2.2.3.2.2.3" xref="S3.SS1.SSS0.Px2.p1.7.m4.2.2.2.2.2.2.3.2.2.3.cmml">N</mi></mrow><mo lspace="0.222em" rspace="0.222em" id="S3.SS1.SSS0.Px2.p1.7.m4.2.2.2.2.2.2.3.2.1" xref="S3.SS1.SSS0.Px2.p1.7.m4.2.2.2.2.2.2.3.2.1.cmml">×</mo><mn id="S3.SS1.SSS0.Px2.p1.7.m4.2.2.2.2.2.2.3.2.3" xref="S3.SS1.SSS0.Px2.p1.7.m4.2.2.2.2.2.2.3.2.3.cmml">3</mn></mrow><mo id="S3.SS1.SSS0.Px2.p1.7.m4.2.2.2.2.2.2.3.1" xref="S3.SS1.SSS0.Px2.p1.7.m4.2.2.2.2.2.2.3.1.cmml">⁢</mo><mi id="S3.SS1.SSS0.Px2.p1.7.m4.2.2.2.2.2.2.3.3" xref="S3.SS1.SSS0.Px2.p1.7.m4.2.2.2.2.2.2.3.3.cmml">N</mi></mrow></msub><mo stretchy="false" id="S3.SS1.SSS0.Px2.p1.7.m4.2.2.2.2.2.5" xref="S3.SS1.SSS0.Px2.p1.7.m4.2.2.2.2.3.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px2.p1.7.m4.2b"><apply id="S3.SS1.SSS0.Px2.p1.7.m4.2.2.cmml" xref="S3.SS1.SSS0.Px2.p1.7.m4.2.2"><csymbol cd="latexml" id="S3.SS1.SSS0.Px2.p1.7.m4.2.2.3.cmml" xref="S3.SS1.SSS0.Px2.p1.7.m4.2.2.3">similar-to</csymbol><apply id="S3.SS1.SSS0.Px2.p1.7.m4.2.2.4.cmml" xref="S3.SS1.SSS0.Px2.p1.7.m4.2.2.4"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px2.p1.7.m4.2.2.4.1.cmml" xref="S3.SS1.SSS0.Px2.p1.7.m4.2.2.4">superscript</csymbol><ci id="S3.SS1.SSS0.Px2.p1.7.m4.2.2.4.2.cmml" xref="S3.SS1.SSS0.Px2.p1.7.m4.2.2.4.2">𝒙</ci><ci id="S3.SS1.SSS0.Px2.p1.7.m4.2.2.4.3.cmml" xref="S3.SS1.SSS0.Px2.p1.7.m4.2.2.4.3">𝑇</ci></apply><apply id="S3.SS1.SSS0.Px2.p1.7.m4.2.2.2.cmml" xref="S3.SS1.SSS0.Px2.p1.7.m4.2.2.2"><times id="S3.SS1.SSS0.Px2.p1.7.m4.2.2.2.3.cmml" xref="S3.SS1.SSS0.Px2.p1.7.m4.2.2.2.3"></times><ci id="S3.SS1.SSS0.Px2.p1.7.m4.2.2.2.4.cmml" xref="S3.SS1.SSS0.Px2.p1.7.m4.2.2.2.4">𝒩</ci><interval closure="open" id="S3.SS1.SSS0.Px2.p1.7.m4.2.2.2.2.3.cmml" xref="S3.SS1.SSS0.Px2.p1.7.m4.2.2.2.2.2"><apply id="S3.SS1.SSS0.Px2.p1.7.m4.1.1.1.1.1.1.cmml" xref="S3.SS1.SSS0.Px2.p1.7.m4.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px2.p1.7.m4.1.1.1.1.1.1.1.cmml" xref="S3.SS1.SSS0.Px2.p1.7.m4.1.1.1.1.1.1">subscript</csymbol><cn type="integer" id="S3.SS1.SSS0.Px2.p1.7.m4.1.1.1.1.1.1.2.cmml" xref="S3.SS1.SSS0.Px2.p1.7.m4.1.1.1.1.1.1.2">0</cn><apply id="S3.SS1.SSS0.Px2.p1.7.m4.1.1.1.1.1.1.3.cmml" xref="S3.SS1.SSS0.Px2.p1.7.m4.1.1.1.1.1.1.3"><times id="S3.SS1.SSS0.Px2.p1.7.m4.1.1.1.1.1.1.3.1.cmml" xref="S3.SS1.SSS0.Px2.p1.7.m4.1.1.1.1.1.1.3.1"></times><cn type="integer" id="S3.SS1.SSS0.Px2.p1.7.m4.1.1.1.1.1.1.3.2.cmml" xref="S3.SS1.SSS0.Px2.p1.7.m4.1.1.1.1.1.1.3.2">3</cn><ci id="S3.SS1.SSS0.Px2.p1.7.m4.1.1.1.1.1.1.3.3.cmml" xref="S3.SS1.SSS0.Px2.p1.7.m4.1.1.1.1.1.1.3.3">𝑁</ci></apply></apply><apply id="S3.SS1.SSS0.Px2.p1.7.m4.2.2.2.2.2.2.cmml" xref="S3.SS1.SSS0.Px2.p1.7.m4.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px2.p1.7.m4.2.2.2.2.2.2.1.cmml" xref="S3.SS1.SSS0.Px2.p1.7.m4.2.2.2.2.2.2">subscript</csymbol><ci id="S3.SS1.SSS0.Px2.p1.7.m4.2.2.2.2.2.2.2.cmml" xref="S3.SS1.SSS0.Px2.p1.7.m4.2.2.2.2.2.2.2">𝑰</ci><apply id="S3.SS1.SSS0.Px2.p1.7.m4.2.2.2.2.2.2.3.cmml" xref="S3.SS1.SSS0.Px2.p1.7.m4.2.2.2.2.2.2.3"><times id="S3.SS1.SSS0.Px2.p1.7.m4.2.2.2.2.2.2.3.1.cmml" xref="S3.SS1.SSS0.Px2.p1.7.m4.2.2.2.2.2.2.3.1"></times><apply id="S3.SS1.SSS0.Px2.p1.7.m4.2.2.2.2.2.2.3.2.cmml" xref="S3.SS1.SSS0.Px2.p1.7.m4.2.2.2.2.2.2.3.2"><times id="S3.SS1.SSS0.Px2.p1.7.m4.2.2.2.2.2.2.3.2.1.cmml" xref="S3.SS1.SSS0.Px2.p1.7.m4.2.2.2.2.2.2.3.2.1"></times><apply id="S3.SS1.SSS0.Px2.p1.7.m4.2.2.2.2.2.2.3.2.2.cmml" xref="S3.SS1.SSS0.Px2.p1.7.m4.2.2.2.2.2.2.3.2.2"><times id="S3.SS1.SSS0.Px2.p1.7.m4.2.2.2.2.2.2.3.2.2.1.cmml" xref="S3.SS1.SSS0.Px2.p1.7.m4.2.2.2.2.2.2.3.2.2.1"></times><cn type="integer" id="S3.SS1.SSS0.Px2.p1.7.m4.2.2.2.2.2.2.3.2.2.2.cmml" xref="S3.SS1.SSS0.Px2.p1.7.m4.2.2.2.2.2.2.3.2.2.2">3</cn><ci id="S3.SS1.SSS0.Px2.p1.7.m4.2.2.2.2.2.2.3.2.2.3.cmml" xref="S3.SS1.SSS0.Px2.p1.7.m4.2.2.2.2.2.2.3.2.2.3">𝑁</ci></apply><cn type="integer" id="S3.SS1.SSS0.Px2.p1.7.m4.2.2.2.2.2.2.3.2.3.cmml" xref="S3.SS1.SSS0.Px2.p1.7.m4.2.2.2.2.2.2.3.2.3">3</cn></apply><ci id="S3.SS1.SSS0.Px2.p1.7.m4.2.2.2.2.2.2.3.3.cmml" xref="S3.SS1.SSS0.Px2.p1.7.m4.2.2.2.2.2.2.3.3">𝑁</ci></apply></apply></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px2.p1.7.m4.2c">{\bm{x}}^{T}\sim{\mathcal{N}}(\bm{0}_{3N},{\bm{I}}_{3N\times 3N})</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS0.Px2.p1.7.m4.2d">bold_italic_x start_POSTSUPERSCRIPT italic_T end_POSTSUPERSCRIPT ∼ caligraphic_N ( bold_0 start_POSTSUBSCRIPT 3 italic_N end_POSTSUBSCRIPT , bold_italic_I start_POSTSUBSCRIPT 3 italic_N × 3 italic_N end_POSTSUBSCRIPT )</annotation></semantics></math>, then draw <math id="S3.SS1.SSS0.Px2.p1.8.m5.1" class="ltx_Math" alttext="{\bm{x}}^{t-1}\sim p_{\bm{\theta}}({\bm{x}}^{t-1}|{\bm{x}}^{t})" display="inline"><semantics id="S3.SS1.SSS0.Px2.p1.8.m5.1a"><mrow id="S3.SS1.SSS0.Px2.p1.8.m5.1.1" xref="S3.SS1.SSS0.Px2.p1.8.m5.1.1.cmml"><msup id="S3.SS1.SSS0.Px2.p1.8.m5.1.1.3" xref="S3.SS1.SSS0.Px2.p1.8.m5.1.1.3.cmml"><mi id="S3.SS1.SSS0.Px2.p1.8.m5.1.1.3.2" xref="S3.SS1.SSS0.Px2.p1.8.m5.1.1.3.2.cmml">𝒙</mi><mrow id="S3.SS1.SSS0.Px2.p1.8.m5.1.1.3.3" xref="S3.SS1.SSS0.Px2.p1.8.m5.1.1.3.3.cmml"><mi id="S3.SS1.SSS0.Px2.p1.8.m5.1.1.3.3.2" xref="S3.SS1.SSS0.Px2.p1.8.m5.1.1.3.3.2.cmml">t</mi><mo id="S3.SS1.SSS0.Px2.p1.8.m5.1.1.3.3.1" xref="S3.SS1.SSS0.Px2.p1.8.m5.1.1.3.3.1.cmml">−</mo><mn id="S3.SS1.SSS0.Px2.p1.8.m5.1.1.3.3.3" xref="S3.SS1.SSS0.Px2.p1.8.m5.1.1.3.3.3.cmml">1</mn></mrow></msup><mo id="S3.SS1.SSS0.Px2.p1.8.m5.1.1.2" xref="S3.SS1.SSS0.Px2.p1.8.m5.1.1.2.cmml">∼</mo><mrow id="S3.SS1.SSS0.Px2.p1.8.m5.1.1.1" xref="S3.SS1.SSS0.Px2.p1.8.m5.1.1.1.cmml"><msub id="S3.SS1.SSS0.Px2.p1.8.m5.1.1.1.3" xref="S3.SS1.SSS0.Px2.p1.8.m5.1.1.1.3.cmml"><mi id="S3.SS1.SSS0.Px2.p1.8.m5.1.1.1.3.2" xref="S3.SS1.SSS0.Px2.p1.8.m5.1.1.1.3.2.cmml">p</mi><mi id="S3.SS1.SSS0.Px2.p1.8.m5.1.1.1.3.3" xref="S3.SS1.SSS0.Px2.p1.8.m5.1.1.1.3.3.cmml">𝜽</mi></msub><mo id="S3.SS1.SSS0.Px2.p1.8.m5.1.1.1.2" xref="S3.SS1.SSS0.Px2.p1.8.m5.1.1.1.2.cmml">⁢</mo><mrow id="S3.SS1.SSS0.Px2.p1.8.m5.1.1.1.1.1" xref="S3.SS1.SSS0.Px2.p1.8.m5.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.SS1.SSS0.Px2.p1.8.m5.1.1.1.1.1.2" xref="S3.SS1.SSS0.Px2.p1.8.m5.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.SS1.SSS0.Px2.p1.8.m5.1.1.1.1.1.1" xref="S3.SS1.SSS0.Px2.p1.8.m5.1.1.1.1.1.1.cmml"><msup id="S3.SS1.SSS0.Px2.p1.8.m5.1.1.1.1.1.1.2" xref="S3.SS1.SSS0.Px2.p1.8.m5.1.1.1.1.1.1.2.cmml"><mi id="S3.SS1.SSS0.Px2.p1.8.m5.1.1.1.1.1.1.2.2" xref="S3.SS1.SSS0.Px2.p1.8.m5.1.1.1.1.1.1.2.2.cmml">𝒙</mi><mrow id="S3.SS1.SSS0.Px2.p1.8.m5.1.1.1.1.1.1.2.3" xref="S3.SS1.SSS0.Px2.p1.8.m5.1.1.1.1.1.1.2.3.cmml"><mi id="S3.SS1.SSS0.Px2.p1.8.m5.1.1.1.1.1.1.2.3.2" xref="S3.SS1.SSS0.Px2.p1.8.m5.1.1.1.1.1.1.2.3.2.cmml">t</mi><mo id="S3.SS1.SSS0.Px2.p1.8.m5.1.1.1.1.1.1.2.3.1" xref="S3.SS1.SSS0.Px2.p1.8.m5.1.1.1.1.1.1.2.3.1.cmml">−</mo><mn id="S3.SS1.SSS0.Px2.p1.8.m5.1.1.1.1.1.1.2.3.3" xref="S3.SS1.SSS0.Px2.p1.8.m5.1.1.1.1.1.1.2.3.3.cmml">1</mn></mrow></msup><mo fence="false" id="S3.SS1.SSS0.Px2.p1.8.m5.1.1.1.1.1.1.1" xref="S3.SS1.SSS0.Px2.p1.8.m5.1.1.1.1.1.1.1.cmml">|</mo><msup id="S3.SS1.SSS0.Px2.p1.8.m5.1.1.1.1.1.1.3" xref="S3.SS1.SSS0.Px2.p1.8.m5.1.1.1.1.1.1.3.cmml"><mi id="S3.SS1.SSS0.Px2.p1.8.m5.1.1.1.1.1.1.3.2" xref="S3.SS1.SSS0.Px2.p1.8.m5.1.1.1.1.1.1.3.2.cmml">𝒙</mi><mi id="S3.SS1.SSS0.Px2.p1.8.m5.1.1.1.1.1.1.3.3" xref="S3.SS1.SSS0.Px2.p1.8.m5.1.1.1.1.1.1.3.3.cmml">t</mi></msup></mrow><mo stretchy="false" id="S3.SS1.SSS0.Px2.p1.8.m5.1.1.1.1.1.3" xref="S3.SS1.SSS0.Px2.p1.8.m5.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px2.p1.8.m5.1b"><apply id="S3.SS1.SSS0.Px2.p1.8.m5.1.1.cmml" xref="S3.SS1.SSS0.Px2.p1.8.m5.1.1"><csymbol cd="latexml" id="S3.SS1.SSS0.Px2.p1.8.m5.1.1.2.cmml" xref="S3.SS1.SSS0.Px2.p1.8.m5.1.1.2">similar-to</csymbol><apply id="S3.SS1.SSS0.Px2.p1.8.m5.1.1.3.cmml" xref="S3.SS1.SSS0.Px2.p1.8.m5.1.1.3"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px2.p1.8.m5.1.1.3.1.cmml" xref="S3.SS1.SSS0.Px2.p1.8.m5.1.1.3">superscript</csymbol><ci id="S3.SS1.SSS0.Px2.p1.8.m5.1.1.3.2.cmml" xref="S3.SS1.SSS0.Px2.p1.8.m5.1.1.3.2">𝒙</ci><apply id="S3.SS1.SSS0.Px2.p1.8.m5.1.1.3.3.cmml" xref="S3.SS1.SSS0.Px2.p1.8.m5.1.1.3.3"><minus id="S3.SS1.SSS0.Px2.p1.8.m5.1.1.3.3.1.cmml" xref="S3.SS1.SSS0.Px2.p1.8.m5.1.1.3.3.1"></minus><ci id="S3.SS1.SSS0.Px2.p1.8.m5.1.1.3.3.2.cmml" xref="S3.SS1.SSS0.Px2.p1.8.m5.1.1.3.3.2">𝑡</ci><cn type="integer" id="S3.SS1.SSS0.Px2.p1.8.m5.1.1.3.3.3.cmml" xref="S3.SS1.SSS0.Px2.p1.8.m5.1.1.3.3.3">1</cn></apply></apply><apply id="S3.SS1.SSS0.Px2.p1.8.m5.1.1.1.cmml" xref="S3.SS1.SSS0.Px2.p1.8.m5.1.1.1"><times id="S3.SS1.SSS0.Px2.p1.8.m5.1.1.1.2.cmml" xref="S3.SS1.SSS0.Px2.p1.8.m5.1.1.1.2"></times><apply id="S3.SS1.SSS0.Px2.p1.8.m5.1.1.1.3.cmml" xref="S3.SS1.SSS0.Px2.p1.8.m5.1.1.1.3"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px2.p1.8.m5.1.1.1.3.1.cmml" xref="S3.SS1.SSS0.Px2.p1.8.m5.1.1.1.3">subscript</csymbol><ci id="S3.SS1.SSS0.Px2.p1.8.m5.1.1.1.3.2.cmml" xref="S3.SS1.SSS0.Px2.p1.8.m5.1.1.1.3.2">𝑝</ci><ci id="S3.SS1.SSS0.Px2.p1.8.m5.1.1.1.3.3.cmml" xref="S3.SS1.SSS0.Px2.p1.8.m5.1.1.1.3.3">𝜽</ci></apply><apply id="S3.SS1.SSS0.Px2.p1.8.m5.1.1.1.1.1.1.cmml" xref="S3.SS1.SSS0.Px2.p1.8.m5.1.1.1.1.1"><csymbol cd="latexml" id="S3.SS1.SSS0.Px2.p1.8.m5.1.1.1.1.1.1.1.cmml" xref="S3.SS1.SSS0.Px2.p1.8.m5.1.1.1.1.1.1.1">conditional</csymbol><apply id="S3.SS1.SSS0.Px2.p1.8.m5.1.1.1.1.1.1.2.cmml" xref="S3.SS1.SSS0.Px2.p1.8.m5.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px2.p1.8.m5.1.1.1.1.1.1.2.1.cmml" xref="S3.SS1.SSS0.Px2.p1.8.m5.1.1.1.1.1.1.2">superscript</csymbol><ci id="S3.SS1.SSS0.Px2.p1.8.m5.1.1.1.1.1.1.2.2.cmml" xref="S3.SS1.SSS0.Px2.p1.8.m5.1.1.1.1.1.1.2.2">𝒙</ci><apply id="S3.SS1.SSS0.Px2.p1.8.m5.1.1.1.1.1.1.2.3.cmml" xref="S3.SS1.SSS0.Px2.p1.8.m5.1.1.1.1.1.1.2.3"><minus id="S3.SS1.SSS0.Px2.p1.8.m5.1.1.1.1.1.1.2.3.1.cmml" xref="S3.SS1.SSS0.Px2.p1.8.m5.1.1.1.1.1.1.2.3.1"></minus><ci id="S3.SS1.SSS0.Px2.p1.8.m5.1.1.1.1.1.1.2.3.2.cmml" xref="S3.SS1.SSS0.Px2.p1.8.m5.1.1.1.1.1.1.2.3.2">𝑡</ci><cn type="integer" id="S3.SS1.SSS0.Px2.p1.8.m5.1.1.1.1.1.1.2.3.3.cmml" xref="S3.SS1.SSS0.Px2.p1.8.m5.1.1.1.1.1.1.2.3.3">1</cn></apply></apply><apply id="S3.SS1.SSS0.Px2.p1.8.m5.1.1.1.1.1.1.3.cmml" xref="S3.SS1.SSS0.Px2.p1.8.m5.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px2.p1.8.m5.1.1.1.1.1.1.3.1.cmml" xref="S3.SS1.SSS0.Px2.p1.8.m5.1.1.1.1.1.1.3">superscript</csymbol><ci id="S3.SS1.SSS0.Px2.p1.8.m5.1.1.1.1.1.1.3.2.cmml" xref="S3.SS1.SSS0.Px2.p1.8.m5.1.1.1.1.1.1.3.2">𝒙</ci><ci id="S3.SS1.SSS0.Px2.p1.8.m5.1.1.1.1.1.1.3.3.cmml" xref="S3.SS1.SSS0.Px2.p1.8.m5.1.1.1.1.1.1.3.3">𝑡</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px2.p1.8.m5.1c">{\bm{x}}^{t-1}\sim p_{\bm{\theta}}({\bm{x}}^{t-1}|{\bm{x}}^{t})</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS0.Px2.p1.8.m5.1d">bold_italic_x start_POSTSUPERSCRIPT italic_t - 1 end_POSTSUPERSCRIPT ∼ italic_p start_POSTSUBSCRIPT bold_italic_θ end_POSTSUBSCRIPT ( bold_italic_x start_POSTSUPERSCRIPT italic_t - 1 end_POSTSUPERSCRIPT | bold_italic_x start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT )</annotation></semantics></math> for <math id="S3.SS1.SSS0.Px2.p1.9.m6.4" class="ltx_Math" alttext="t=T,T-1,\cdots,1" display="inline"><semantics id="S3.SS1.SSS0.Px2.p1.9.m6.4a"><mrow id="S3.SS1.SSS0.Px2.p1.9.m6.4.4" xref="S3.SS1.SSS0.Px2.p1.9.m6.4.4.cmml"><mi id="S3.SS1.SSS0.Px2.p1.9.m6.4.4.3" xref="S3.SS1.SSS0.Px2.p1.9.m6.4.4.3.cmml">t</mi><mo id="S3.SS1.SSS0.Px2.p1.9.m6.4.4.2" xref="S3.SS1.SSS0.Px2.p1.9.m6.4.4.2.cmml">=</mo><mrow id="S3.SS1.SSS0.Px2.p1.9.m6.4.4.1.1" xref="S3.SS1.SSS0.Px2.p1.9.m6.4.4.1.2.cmml"><mi id="S3.SS1.SSS0.Px2.p1.9.m6.1.1" xref="S3.SS1.SSS0.Px2.p1.9.m6.1.1.cmml">T</mi><mo id="S3.SS1.SSS0.Px2.p1.9.m6.4.4.1.1.2" xref="S3.SS1.SSS0.Px2.p1.9.m6.4.4.1.2.cmml">,</mo><mrow id="S3.SS1.SSS0.Px2.p1.9.m6.4.4.1.1.1" xref="S3.SS1.SSS0.Px2.p1.9.m6.4.4.1.1.1.cmml"><mi id="S3.SS1.SSS0.Px2.p1.9.m6.4.4.1.1.1.2" xref="S3.SS1.SSS0.Px2.p1.9.m6.4.4.1.1.1.2.cmml">T</mi><mo id="S3.SS1.SSS0.Px2.p1.9.m6.4.4.1.1.1.1" xref="S3.SS1.SSS0.Px2.p1.9.m6.4.4.1.1.1.1.cmml">−</mo><mn id="S3.SS1.SSS0.Px2.p1.9.m6.4.4.1.1.1.3" xref="S3.SS1.SSS0.Px2.p1.9.m6.4.4.1.1.1.3.cmml">1</mn></mrow><mo id="S3.SS1.SSS0.Px2.p1.9.m6.4.4.1.1.3" xref="S3.SS1.SSS0.Px2.p1.9.m6.4.4.1.2.cmml">,</mo><mi mathvariant="normal" id="S3.SS1.SSS0.Px2.p1.9.m6.2.2" xref="S3.SS1.SSS0.Px2.p1.9.m6.2.2.cmml">⋯</mi><mo id="S3.SS1.SSS0.Px2.p1.9.m6.4.4.1.1.4" xref="S3.SS1.SSS0.Px2.p1.9.m6.4.4.1.2.cmml">,</mo><mn id="S3.SS1.SSS0.Px2.p1.9.m6.3.3" xref="S3.SS1.SSS0.Px2.p1.9.m6.3.3.cmml">1</mn></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px2.p1.9.m6.4b"><apply id="S3.SS1.SSS0.Px2.p1.9.m6.4.4.cmml" xref="S3.SS1.SSS0.Px2.p1.9.m6.4.4"><eq id="S3.SS1.SSS0.Px2.p1.9.m6.4.4.2.cmml" xref="S3.SS1.SSS0.Px2.p1.9.m6.4.4.2"></eq><ci id="S3.SS1.SSS0.Px2.p1.9.m6.4.4.3.cmml" xref="S3.SS1.SSS0.Px2.p1.9.m6.4.4.3">𝑡</ci><list id="S3.SS1.SSS0.Px2.p1.9.m6.4.4.1.2.cmml" xref="S3.SS1.SSS0.Px2.p1.9.m6.4.4.1.1"><ci id="S3.SS1.SSS0.Px2.p1.9.m6.1.1.cmml" xref="S3.SS1.SSS0.Px2.p1.9.m6.1.1">𝑇</ci><apply id="S3.SS1.SSS0.Px2.p1.9.m6.4.4.1.1.1.cmml" xref="S3.SS1.SSS0.Px2.p1.9.m6.4.4.1.1.1"><minus id="S3.SS1.SSS0.Px2.p1.9.m6.4.4.1.1.1.1.cmml" xref="S3.SS1.SSS0.Px2.p1.9.m6.4.4.1.1.1.1"></minus><ci id="S3.SS1.SSS0.Px2.p1.9.m6.4.4.1.1.1.2.cmml" xref="S3.SS1.SSS0.Px2.p1.9.m6.4.4.1.1.1.2">𝑇</ci><cn type="integer" id="S3.SS1.SSS0.Px2.p1.9.m6.4.4.1.1.1.3.cmml" xref="S3.SS1.SSS0.Px2.p1.9.m6.4.4.1.1.1.3">1</cn></apply><ci id="S3.SS1.SSS0.Px2.p1.9.m6.2.2.cmml" xref="S3.SS1.SSS0.Px2.p1.9.m6.2.2">⋯</ci><cn type="integer" id="S3.SS1.SSS0.Px2.p1.9.m6.3.3.cmml" xref="S3.SS1.SSS0.Px2.p1.9.m6.3.3">1</cn></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px2.p1.9.m6.4c">t=T,T-1,\cdots,1</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS0.Px2.p1.9.m6.4d">italic_t = italic_T , italic_T - 1 , ⋯ , 1</annotation></semantics></math>, and finally outputs <math id="S3.SS1.SSS0.Px2.p1.10.m7.1" class="ltx_Math" alttext="{\bm{x}}^{0}" display="inline"><semantics id="S3.SS1.SSS0.Px2.p1.10.m7.1a"><msup id="S3.SS1.SSS0.Px2.p1.10.m7.1.1" xref="S3.SS1.SSS0.Px2.p1.10.m7.1.1.cmml"><mi id="S3.SS1.SSS0.Px2.p1.10.m7.1.1.2" xref="S3.SS1.SSS0.Px2.p1.10.m7.1.1.2.cmml">𝒙</mi><mn id="S3.SS1.SSS0.Px2.p1.10.m7.1.1.3" xref="S3.SS1.SSS0.Px2.p1.10.m7.1.1.3.cmml">0</mn></msup><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px2.p1.10.m7.1b"><apply id="S3.SS1.SSS0.Px2.p1.10.m7.1.1.cmml" xref="S3.SS1.SSS0.Px2.p1.10.m7.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px2.p1.10.m7.1.1.1.cmml" xref="S3.SS1.SSS0.Px2.p1.10.m7.1.1">superscript</csymbol><ci id="S3.SS1.SSS0.Px2.p1.10.m7.1.1.2.cmml" xref="S3.SS1.SSS0.Px2.p1.10.m7.1.1.2">𝒙</ci><cn type="integer" id="S3.SS1.SSS0.Px2.p1.10.m7.1.1.3.cmml" xref="S3.SS1.SSS0.Px2.p1.10.m7.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px2.p1.10.m7.1c">{\bm{x}}^{0}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS0.Px2.p1.10.m7.1d">bold_italic_x start_POSTSUPERSCRIPT 0 end_POSTSUPERSCRIPT</annotation></semantics></math>.
</p>
</div>
</section>
</section>
</section>
<section id="S4" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4 </span>Methodology</h2>

<section id="S4.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.1 </span>Diffusion Method for Adversarial Purification</h3>

<div id="S4.SS1.p1" class="ltx_para">
<p id="S4.SS1.p1.1" class="ltx_p">We propose to use a pre-trained DDPM to purify adversarial samples.</p>
</div>
<div id="S4.SS1.p2" class="ltx_para">
<p id="S4.SS1.p2.1" class="ltx_p">The DDPM contains two Markov chains called the diffusion process and the reverse process, which adds Gaussian noise to a clean image and eliminates noises in the image, respectively.
</p>
</div>
<div id="S4.SS1.p3" class="ltx_para">
<p id="S4.SS1.p3.1" class="ltx_p">We can utilize these two processes to destroy and remove adversarial perturbations in an image.
The diffusion process can inject an adversarial image with Gaussian noises to submerge the adversarial perturbation.
The reverse process can eliminate the Gaussian noises and the adversarial perturbation at the same time, and thus move the adversarial image to the domain of normal clean images.</p>
</div>
<div id="S4.SS1.p4" class="ltx_para">
<p id="S4.SS1.p4.4" class="ltx_p">Assume that an adversarial image <math id="S4.SS1.p4.1.m1.1" class="ltx_Math" alttext="{\bm{x}}_{\text{adv}}" display="inline"><semantics id="S4.SS1.p4.1.m1.1a"><msub id="S4.SS1.p4.1.m1.1.1" xref="S4.SS1.p4.1.m1.1.1.cmml"><mi id="S4.SS1.p4.1.m1.1.1.2" xref="S4.SS1.p4.1.m1.1.1.2.cmml">𝒙</mi><mtext id="S4.SS1.p4.1.m1.1.1.3" xref="S4.SS1.p4.1.m1.1.1.3a.cmml">adv</mtext></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.p4.1.m1.1b"><apply id="S4.SS1.p4.1.m1.1.1.cmml" xref="S4.SS1.p4.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS1.p4.1.m1.1.1.1.cmml" xref="S4.SS1.p4.1.m1.1.1">subscript</csymbol><ci id="S4.SS1.p4.1.m1.1.1.2.cmml" xref="S4.SS1.p4.1.m1.1.1.2">𝒙</ci><ci id="S4.SS1.p4.1.m1.1.1.3a.cmml" xref="S4.SS1.p4.1.m1.1.1.3"><mtext mathsize="70%" id="S4.SS1.p4.1.m1.1.1.3.cmml" xref="S4.SS1.p4.1.m1.1.1.3">adv</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p4.1.m1.1c">{\bm{x}}_{\text{adv}}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p4.1.m1.1d">bold_italic_x start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT</annotation></semantics></math> contains adversarial perturbation as <math id="S4.SS1.p4.2.m2.1" class="ltx_Math" alttext="{\bm{x}}_{\text{adv}}={\bm{x}}+\delta" display="inline"><semantics id="S4.SS1.p4.2.m2.1a"><mrow id="S4.SS1.p4.2.m2.1.1" xref="S4.SS1.p4.2.m2.1.1.cmml"><msub id="S4.SS1.p4.2.m2.1.1.2" xref="S4.SS1.p4.2.m2.1.1.2.cmml"><mi id="S4.SS1.p4.2.m2.1.1.2.2" xref="S4.SS1.p4.2.m2.1.1.2.2.cmml">𝒙</mi><mtext id="S4.SS1.p4.2.m2.1.1.2.3" xref="S4.SS1.p4.2.m2.1.1.2.3a.cmml">adv</mtext></msub><mo id="S4.SS1.p4.2.m2.1.1.1" xref="S4.SS1.p4.2.m2.1.1.1.cmml">=</mo><mrow id="S4.SS1.p4.2.m2.1.1.3" xref="S4.SS1.p4.2.m2.1.1.3.cmml"><mi id="S4.SS1.p4.2.m2.1.1.3.2" xref="S4.SS1.p4.2.m2.1.1.3.2.cmml">𝒙</mi><mo id="S4.SS1.p4.2.m2.1.1.3.1" xref="S4.SS1.p4.2.m2.1.1.3.1.cmml">+</mo><mi id="S4.SS1.p4.2.m2.1.1.3.3" xref="S4.SS1.p4.2.m2.1.1.3.3.cmml">δ</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p4.2.m2.1b"><apply id="S4.SS1.p4.2.m2.1.1.cmml" xref="S4.SS1.p4.2.m2.1.1"><eq id="S4.SS1.p4.2.m2.1.1.1.cmml" xref="S4.SS1.p4.2.m2.1.1.1"></eq><apply id="S4.SS1.p4.2.m2.1.1.2.cmml" xref="S4.SS1.p4.2.m2.1.1.2"><csymbol cd="ambiguous" id="S4.SS1.p4.2.m2.1.1.2.1.cmml" xref="S4.SS1.p4.2.m2.1.1.2">subscript</csymbol><ci id="S4.SS1.p4.2.m2.1.1.2.2.cmml" xref="S4.SS1.p4.2.m2.1.1.2.2">𝒙</ci><ci id="S4.SS1.p4.2.m2.1.1.2.3a.cmml" xref="S4.SS1.p4.2.m2.1.1.2.3"><mtext mathsize="70%" id="S4.SS1.p4.2.m2.1.1.2.3.cmml" xref="S4.SS1.p4.2.m2.1.1.2.3">adv</mtext></ci></apply><apply id="S4.SS1.p4.2.m2.1.1.3.cmml" xref="S4.SS1.p4.2.m2.1.1.3"><plus id="S4.SS1.p4.2.m2.1.1.3.1.cmml" xref="S4.SS1.p4.2.m2.1.1.3.1"></plus><ci id="S4.SS1.p4.2.m2.1.1.3.2.cmml" xref="S4.SS1.p4.2.m2.1.1.3.2">𝒙</ci><ci id="S4.SS1.p4.2.m2.1.1.3.3.cmml" xref="S4.SS1.p4.2.m2.1.1.3.3">𝛿</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p4.2.m2.1c">{\bm{x}}_{\text{adv}}={\bm{x}}+\delta</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p4.2.m2.1d">bold_italic_x start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT = bold_italic_x + italic_δ</annotation></semantics></math>.
We diffuse the adversarial image <math id="S4.SS1.p4.3.m3.1" class="ltx_Math" alttext="{\bm{x}}_{\text{adv}}" display="inline"><semantics id="S4.SS1.p4.3.m3.1a"><msub id="S4.SS1.p4.3.m3.1.1" xref="S4.SS1.p4.3.m3.1.1.cmml"><mi id="S4.SS1.p4.3.m3.1.1.2" xref="S4.SS1.p4.3.m3.1.1.2.cmml">𝒙</mi><mtext id="S4.SS1.p4.3.m3.1.1.3" xref="S4.SS1.p4.3.m3.1.1.3a.cmml">adv</mtext></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.p4.3.m3.1b"><apply id="S4.SS1.p4.3.m3.1.1.cmml" xref="S4.SS1.p4.3.m3.1.1"><csymbol cd="ambiguous" id="S4.SS1.p4.3.m3.1.1.1.cmml" xref="S4.SS1.p4.3.m3.1.1">subscript</csymbol><ci id="S4.SS1.p4.3.m3.1.1.2.cmml" xref="S4.SS1.p4.3.m3.1.1.2">𝒙</ci><ci id="S4.SS1.p4.3.m3.1.1.3a.cmml" xref="S4.SS1.p4.3.m3.1.1.3"><mtext mathsize="70%" id="S4.SS1.p4.3.m3.1.1.3.cmml" xref="S4.SS1.p4.3.m3.1.1.3">adv</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p4.3.m3.1c">{\bm{x}}_{\text{adv}}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p4.3.m3.1d">bold_italic_x start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT</annotation></semantics></math> for <math id="S4.SS1.p4.4.m4.1" class="ltx_Math" alttext="T_{c}" display="inline"><semantics id="S4.SS1.p4.4.m4.1a"><msub id="S4.SS1.p4.4.m4.1.1" xref="S4.SS1.p4.4.m4.1.1.cmml"><mi id="S4.SS1.p4.4.m4.1.1.2" xref="S4.SS1.p4.4.m4.1.1.2.cmml">T</mi><mi id="S4.SS1.p4.4.m4.1.1.3" xref="S4.SS1.p4.4.m4.1.1.3.cmml">c</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.p4.4.m4.1b"><apply id="S4.SS1.p4.4.m4.1.1.cmml" xref="S4.SS1.p4.4.m4.1.1"><csymbol cd="ambiguous" id="S4.SS1.p4.4.m4.1.1.1.cmml" xref="S4.SS1.p4.4.m4.1.1">subscript</csymbol><ci id="S4.SS1.p4.4.m4.1.1.2.cmml" xref="S4.SS1.p4.4.m4.1.1.2">𝑇</ci><ci id="S4.SS1.p4.4.m4.1.1.3.cmml" xref="S4.SS1.p4.4.m4.1.1.3">𝑐</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p4.4.m4.1c">T_{c}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p4.4.m4.1d">italic_T start_POSTSUBSCRIPT italic_c end_POSTSUBSCRIPT</annotation></semantics></math> steps following Equation <a href="#S3.E5" title="5 ‣ The Diffusion Process. ‣ 3.1 DDPM ‣ 3 Background of DDPM ‣ Guided Diffusion Model for Adversarial Purification" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a>:
</p>
</div>
<div id="S4.SS1.p5" class="ltx_para">
<table id="S4.E7" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S4.E7.m1.1" class="ltx_Math" alttext="{\bm{x}}^{T_{c}}=\sqrt{\bar{\alpha}_{T_{c}}}({\bm{x}}+\bm{\delta})+\sqrt{1-\bar{\alpha}_{T_{c}}}\bm{\epsilon}=\sqrt{\bar{\alpha}_{T_{c}}}{\bm{x}}+\sqrt{\bar{\alpha}_{T_{c}}}\bm{\delta}+\sqrt{1-\bar{\alpha}_{T_{c}}}\bm{\epsilon}." display="block"><semantics id="S4.E7.m1.1a"><mrow id="S4.E7.m1.1.1.1" xref="S4.E7.m1.1.1.1.1.cmml"><mrow id="S4.E7.m1.1.1.1.1" xref="S4.E7.m1.1.1.1.1.cmml"><msup id="S4.E7.m1.1.1.1.1.3" xref="S4.E7.m1.1.1.1.1.3.cmml"><mi id="S4.E7.m1.1.1.1.1.3.2" xref="S4.E7.m1.1.1.1.1.3.2.cmml">𝒙</mi><msub id="S4.E7.m1.1.1.1.1.3.3" xref="S4.E7.m1.1.1.1.1.3.3.cmml"><mi id="S4.E7.m1.1.1.1.1.3.3.2" xref="S4.E7.m1.1.1.1.1.3.3.2.cmml">T</mi><mi id="S4.E7.m1.1.1.1.1.3.3.3" xref="S4.E7.m1.1.1.1.1.3.3.3.cmml">c</mi></msub></msup><mo id="S4.E7.m1.1.1.1.1.4" xref="S4.E7.m1.1.1.1.1.4.cmml">=</mo><mrow id="S4.E7.m1.1.1.1.1.1" xref="S4.E7.m1.1.1.1.1.1.cmml"><mrow id="S4.E7.m1.1.1.1.1.1.1" xref="S4.E7.m1.1.1.1.1.1.1.cmml"><msqrt id="S4.E7.m1.1.1.1.1.1.1.3" xref="S4.E7.m1.1.1.1.1.1.1.3.cmml"><msub id="S4.E7.m1.1.1.1.1.1.1.3.2" xref="S4.E7.m1.1.1.1.1.1.1.3.2.cmml"><mover accent="true" id="S4.E7.m1.1.1.1.1.1.1.3.2.2" xref="S4.E7.m1.1.1.1.1.1.1.3.2.2.cmml"><mi id="S4.E7.m1.1.1.1.1.1.1.3.2.2.2" xref="S4.E7.m1.1.1.1.1.1.1.3.2.2.2.cmml">α</mi><mo id="S4.E7.m1.1.1.1.1.1.1.3.2.2.1" xref="S4.E7.m1.1.1.1.1.1.1.3.2.2.1.cmml">¯</mo></mover><msub id="S4.E7.m1.1.1.1.1.1.1.3.2.3" xref="S4.E7.m1.1.1.1.1.1.1.3.2.3.cmml"><mi id="S4.E7.m1.1.1.1.1.1.1.3.2.3.2" xref="S4.E7.m1.1.1.1.1.1.1.3.2.3.2.cmml">T</mi><mi id="S4.E7.m1.1.1.1.1.1.1.3.2.3.3" xref="S4.E7.m1.1.1.1.1.1.1.3.2.3.3.cmml">c</mi></msub></msub></msqrt><mo id="S4.E7.m1.1.1.1.1.1.1.2" xref="S4.E7.m1.1.1.1.1.1.1.2.cmml">⁢</mo><mrow id="S4.E7.m1.1.1.1.1.1.1.1.1" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S4.E7.m1.1.1.1.1.1.1.1.1.2" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S4.E7.m1.1.1.1.1.1.1.1.1.1" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S4.E7.m1.1.1.1.1.1.1.1.1.1.2" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.2.cmml">𝒙</mi><mo id="S4.E7.m1.1.1.1.1.1.1.1.1.1.1" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.cmml">+</mo><mi id="S4.E7.m1.1.1.1.1.1.1.1.1.1.3" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.3.cmml">𝜹</mi></mrow><mo stretchy="false" id="S4.E7.m1.1.1.1.1.1.1.1.1.3" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S4.E7.m1.1.1.1.1.1.2" xref="S4.E7.m1.1.1.1.1.1.2.cmml">+</mo><mrow id="S4.E7.m1.1.1.1.1.1.3" xref="S4.E7.m1.1.1.1.1.1.3.cmml"><msqrt id="S4.E7.m1.1.1.1.1.1.3.2" xref="S4.E7.m1.1.1.1.1.1.3.2.cmml"><mrow id="S4.E7.m1.1.1.1.1.1.3.2.2" xref="S4.E7.m1.1.1.1.1.1.3.2.2.cmml"><mn id="S4.E7.m1.1.1.1.1.1.3.2.2.2" xref="S4.E7.m1.1.1.1.1.1.3.2.2.2.cmml">1</mn><mo id="S4.E7.m1.1.1.1.1.1.3.2.2.1" xref="S4.E7.m1.1.1.1.1.1.3.2.2.1.cmml">−</mo><msub id="S4.E7.m1.1.1.1.1.1.3.2.2.3" xref="S4.E7.m1.1.1.1.1.1.3.2.2.3.cmml"><mover accent="true" id="S4.E7.m1.1.1.1.1.1.3.2.2.3.2" xref="S4.E7.m1.1.1.1.1.1.3.2.2.3.2.cmml"><mi id="S4.E7.m1.1.1.1.1.1.3.2.2.3.2.2" xref="S4.E7.m1.1.1.1.1.1.3.2.2.3.2.2.cmml">α</mi><mo id="S4.E7.m1.1.1.1.1.1.3.2.2.3.2.1" xref="S4.E7.m1.1.1.1.1.1.3.2.2.3.2.1.cmml">¯</mo></mover><msub id="S4.E7.m1.1.1.1.1.1.3.2.2.3.3" xref="S4.E7.m1.1.1.1.1.1.3.2.2.3.3.cmml"><mi id="S4.E7.m1.1.1.1.1.1.3.2.2.3.3.2" xref="S4.E7.m1.1.1.1.1.1.3.2.2.3.3.2.cmml">T</mi><mi id="S4.E7.m1.1.1.1.1.1.3.2.2.3.3.3" xref="S4.E7.m1.1.1.1.1.1.3.2.2.3.3.3.cmml">c</mi></msub></msub></mrow></msqrt><mo id="S4.E7.m1.1.1.1.1.1.3.1" xref="S4.E7.m1.1.1.1.1.1.3.1.cmml">⁢</mo><mi mathvariant="bold-italic" id="S4.E7.m1.1.1.1.1.1.3.3" xref="S4.E7.m1.1.1.1.1.1.3.3.cmml">ϵ</mi></mrow></mrow><mo id="S4.E7.m1.1.1.1.1.5" xref="S4.E7.m1.1.1.1.1.5.cmml">=</mo><mrow id="S4.E7.m1.1.1.1.1.6" xref="S4.E7.m1.1.1.1.1.6.cmml"><mrow id="S4.E7.m1.1.1.1.1.6.2" xref="S4.E7.m1.1.1.1.1.6.2.cmml"><msqrt id="S4.E7.m1.1.1.1.1.6.2.2" xref="S4.E7.m1.1.1.1.1.6.2.2.cmml"><msub id="S4.E7.m1.1.1.1.1.6.2.2.2" xref="S4.E7.m1.1.1.1.1.6.2.2.2.cmml"><mover accent="true" id="S4.E7.m1.1.1.1.1.6.2.2.2.2" xref="S4.E7.m1.1.1.1.1.6.2.2.2.2.cmml"><mi id="S4.E7.m1.1.1.1.1.6.2.2.2.2.2" xref="S4.E7.m1.1.1.1.1.6.2.2.2.2.2.cmml">α</mi><mo id="S4.E7.m1.1.1.1.1.6.2.2.2.2.1" xref="S4.E7.m1.1.1.1.1.6.2.2.2.2.1.cmml">¯</mo></mover><msub id="S4.E7.m1.1.1.1.1.6.2.2.2.3" xref="S4.E7.m1.1.1.1.1.6.2.2.2.3.cmml"><mi id="S4.E7.m1.1.1.1.1.6.2.2.2.3.2" xref="S4.E7.m1.1.1.1.1.6.2.2.2.3.2.cmml">T</mi><mi id="S4.E7.m1.1.1.1.1.6.2.2.2.3.3" xref="S4.E7.m1.1.1.1.1.6.2.2.2.3.3.cmml">c</mi></msub></msub></msqrt><mo id="S4.E7.m1.1.1.1.1.6.2.1" xref="S4.E7.m1.1.1.1.1.6.2.1.cmml">⁢</mo><mi id="S4.E7.m1.1.1.1.1.6.2.3" xref="S4.E7.m1.1.1.1.1.6.2.3.cmml">𝒙</mi></mrow><mo id="S4.E7.m1.1.1.1.1.6.1" xref="S4.E7.m1.1.1.1.1.6.1.cmml">+</mo><mrow id="S4.E7.m1.1.1.1.1.6.3" xref="S4.E7.m1.1.1.1.1.6.3.cmml"><msqrt id="S4.E7.m1.1.1.1.1.6.3.2" xref="S4.E7.m1.1.1.1.1.6.3.2.cmml"><msub id="S4.E7.m1.1.1.1.1.6.3.2.2" xref="S4.E7.m1.1.1.1.1.6.3.2.2.cmml"><mover accent="true" id="S4.E7.m1.1.1.1.1.6.3.2.2.2" xref="S4.E7.m1.1.1.1.1.6.3.2.2.2.cmml"><mi id="S4.E7.m1.1.1.1.1.6.3.2.2.2.2" xref="S4.E7.m1.1.1.1.1.6.3.2.2.2.2.cmml">α</mi><mo id="S4.E7.m1.1.1.1.1.6.3.2.2.2.1" xref="S4.E7.m1.1.1.1.1.6.3.2.2.2.1.cmml">¯</mo></mover><msub id="S4.E7.m1.1.1.1.1.6.3.2.2.3" xref="S4.E7.m1.1.1.1.1.6.3.2.2.3.cmml"><mi id="S4.E7.m1.1.1.1.1.6.3.2.2.3.2" xref="S4.E7.m1.1.1.1.1.6.3.2.2.3.2.cmml">T</mi><mi id="S4.E7.m1.1.1.1.1.6.3.2.2.3.3" xref="S4.E7.m1.1.1.1.1.6.3.2.2.3.3.cmml">c</mi></msub></msub></msqrt><mo id="S4.E7.m1.1.1.1.1.6.3.1" xref="S4.E7.m1.1.1.1.1.6.3.1.cmml">⁢</mo><mi id="S4.E7.m1.1.1.1.1.6.3.3" xref="S4.E7.m1.1.1.1.1.6.3.3.cmml">𝜹</mi></mrow><mo id="S4.E7.m1.1.1.1.1.6.1a" xref="S4.E7.m1.1.1.1.1.6.1.cmml">+</mo><mrow id="S4.E7.m1.1.1.1.1.6.4" xref="S4.E7.m1.1.1.1.1.6.4.cmml"><msqrt id="S4.E7.m1.1.1.1.1.6.4.2" xref="S4.E7.m1.1.1.1.1.6.4.2.cmml"><mrow id="S4.E7.m1.1.1.1.1.6.4.2.2" xref="S4.E7.m1.1.1.1.1.6.4.2.2.cmml"><mn id="S4.E7.m1.1.1.1.1.6.4.2.2.2" xref="S4.E7.m1.1.1.1.1.6.4.2.2.2.cmml">1</mn><mo id="S4.E7.m1.1.1.1.1.6.4.2.2.1" xref="S4.E7.m1.1.1.1.1.6.4.2.2.1.cmml">−</mo><msub id="S4.E7.m1.1.1.1.1.6.4.2.2.3" xref="S4.E7.m1.1.1.1.1.6.4.2.2.3.cmml"><mover accent="true" id="S4.E7.m1.1.1.1.1.6.4.2.2.3.2" xref="S4.E7.m1.1.1.1.1.6.4.2.2.3.2.cmml"><mi id="S4.E7.m1.1.1.1.1.6.4.2.2.3.2.2" xref="S4.E7.m1.1.1.1.1.6.4.2.2.3.2.2.cmml">α</mi><mo id="S4.E7.m1.1.1.1.1.6.4.2.2.3.2.1" xref="S4.E7.m1.1.1.1.1.6.4.2.2.3.2.1.cmml">¯</mo></mover><msub id="S4.E7.m1.1.1.1.1.6.4.2.2.3.3" xref="S4.E7.m1.1.1.1.1.6.4.2.2.3.3.cmml"><mi id="S4.E7.m1.1.1.1.1.6.4.2.2.3.3.2" xref="S4.E7.m1.1.1.1.1.6.4.2.2.3.3.2.cmml">T</mi><mi id="S4.E7.m1.1.1.1.1.6.4.2.2.3.3.3" xref="S4.E7.m1.1.1.1.1.6.4.2.2.3.3.3.cmml">c</mi></msub></msub></mrow></msqrt><mo id="S4.E7.m1.1.1.1.1.6.4.1" xref="S4.E7.m1.1.1.1.1.6.4.1.cmml">⁢</mo><mi mathvariant="bold-italic" id="S4.E7.m1.1.1.1.1.6.4.3" xref="S4.E7.m1.1.1.1.1.6.4.3.cmml">ϵ</mi></mrow></mrow></mrow><mo lspace="0em" id="S4.E7.m1.1.1.1.2" xref="S4.E7.m1.1.1.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.E7.m1.1b"><apply id="S4.E7.m1.1.1.1.1.cmml" xref="S4.E7.m1.1.1.1"><and id="S4.E7.m1.1.1.1.1a.cmml" xref="S4.E7.m1.1.1.1"></and><apply id="S4.E7.m1.1.1.1.1b.cmml" xref="S4.E7.m1.1.1.1"><eq id="S4.E7.m1.1.1.1.1.4.cmml" xref="S4.E7.m1.1.1.1.1.4"></eq><apply id="S4.E7.m1.1.1.1.1.3.cmml" xref="S4.E7.m1.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.E7.m1.1.1.1.1.3.1.cmml" xref="S4.E7.m1.1.1.1.1.3">superscript</csymbol><ci id="S4.E7.m1.1.1.1.1.3.2.cmml" xref="S4.E7.m1.1.1.1.1.3.2">𝒙</ci><apply id="S4.E7.m1.1.1.1.1.3.3.cmml" xref="S4.E7.m1.1.1.1.1.3.3"><csymbol cd="ambiguous" id="S4.E7.m1.1.1.1.1.3.3.1.cmml" xref="S4.E7.m1.1.1.1.1.3.3">subscript</csymbol><ci id="S4.E7.m1.1.1.1.1.3.3.2.cmml" xref="S4.E7.m1.1.1.1.1.3.3.2">𝑇</ci><ci id="S4.E7.m1.1.1.1.1.3.3.3.cmml" xref="S4.E7.m1.1.1.1.1.3.3.3">𝑐</ci></apply></apply><apply id="S4.E7.m1.1.1.1.1.1.cmml" xref="S4.E7.m1.1.1.1.1.1"><plus id="S4.E7.m1.1.1.1.1.1.2.cmml" xref="S4.E7.m1.1.1.1.1.1.2"></plus><apply id="S4.E7.m1.1.1.1.1.1.1.cmml" xref="S4.E7.m1.1.1.1.1.1.1"><times id="S4.E7.m1.1.1.1.1.1.1.2.cmml" xref="S4.E7.m1.1.1.1.1.1.1.2"></times><apply id="S4.E7.m1.1.1.1.1.1.1.3.cmml" xref="S4.E7.m1.1.1.1.1.1.1.3"><root id="S4.E7.m1.1.1.1.1.1.1.3a.cmml" xref="S4.E7.m1.1.1.1.1.1.1.3"></root><apply id="S4.E7.m1.1.1.1.1.1.1.3.2.cmml" xref="S4.E7.m1.1.1.1.1.1.1.3.2"><csymbol cd="ambiguous" id="S4.E7.m1.1.1.1.1.1.1.3.2.1.cmml" xref="S4.E7.m1.1.1.1.1.1.1.3.2">subscript</csymbol><apply id="S4.E7.m1.1.1.1.1.1.1.3.2.2.cmml" xref="S4.E7.m1.1.1.1.1.1.1.3.2.2"><ci id="S4.E7.m1.1.1.1.1.1.1.3.2.2.1.cmml" xref="S4.E7.m1.1.1.1.1.1.1.3.2.2.1">¯</ci><ci id="S4.E7.m1.1.1.1.1.1.1.3.2.2.2.cmml" xref="S4.E7.m1.1.1.1.1.1.1.3.2.2.2">𝛼</ci></apply><apply id="S4.E7.m1.1.1.1.1.1.1.3.2.3.cmml" xref="S4.E7.m1.1.1.1.1.1.1.3.2.3"><csymbol cd="ambiguous" id="S4.E7.m1.1.1.1.1.1.1.3.2.3.1.cmml" xref="S4.E7.m1.1.1.1.1.1.1.3.2.3">subscript</csymbol><ci id="S4.E7.m1.1.1.1.1.1.1.3.2.3.2.cmml" xref="S4.E7.m1.1.1.1.1.1.1.3.2.3.2">𝑇</ci><ci id="S4.E7.m1.1.1.1.1.1.1.3.2.3.3.cmml" xref="S4.E7.m1.1.1.1.1.1.1.3.2.3.3">𝑐</ci></apply></apply></apply><apply id="S4.E7.m1.1.1.1.1.1.1.1.1.1.cmml" xref="S4.E7.m1.1.1.1.1.1.1.1.1"><plus id="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.1"></plus><ci id="S4.E7.m1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.2">𝒙</ci><ci id="S4.E7.m1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.3">𝜹</ci></apply></apply><apply id="S4.E7.m1.1.1.1.1.1.3.cmml" xref="S4.E7.m1.1.1.1.1.1.3"><times id="S4.E7.m1.1.1.1.1.1.3.1.cmml" xref="S4.E7.m1.1.1.1.1.1.3.1"></times><apply id="S4.E7.m1.1.1.1.1.1.3.2.cmml" xref="S4.E7.m1.1.1.1.1.1.3.2"><root id="S4.E7.m1.1.1.1.1.1.3.2a.cmml" xref="S4.E7.m1.1.1.1.1.1.3.2"></root><apply id="S4.E7.m1.1.1.1.1.1.3.2.2.cmml" xref="S4.E7.m1.1.1.1.1.1.3.2.2"><minus id="S4.E7.m1.1.1.1.1.1.3.2.2.1.cmml" xref="S4.E7.m1.1.1.1.1.1.3.2.2.1"></minus><cn type="integer" id="S4.E7.m1.1.1.1.1.1.3.2.2.2.cmml" xref="S4.E7.m1.1.1.1.1.1.3.2.2.2">1</cn><apply id="S4.E7.m1.1.1.1.1.1.3.2.2.3.cmml" xref="S4.E7.m1.1.1.1.1.1.3.2.2.3"><csymbol cd="ambiguous" id="S4.E7.m1.1.1.1.1.1.3.2.2.3.1.cmml" xref="S4.E7.m1.1.1.1.1.1.3.2.2.3">subscript</csymbol><apply id="S4.E7.m1.1.1.1.1.1.3.2.2.3.2.cmml" xref="S4.E7.m1.1.1.1.1.1.3.2.2.3.2"><ci id="S4.E7.m1.1.1.1.1.1.3.2.2.3.2.1.cmml" xref="S4.E7.m1.1.1.1.1.1.3.2.2.3.2.1">¯</ci><ci id="S4.E7.m1.1.1.1.1.1.3.2.2.3.2.2.cmml" xref="S4.E7.m1.1.1.1.1.1.3.2.2.3.2.2">𝛼</ci></apply><apply id="S4.E7.m1.1.1.1.1.1.3.2.2.3.3.cmml" xref="S4.E7.m1.1.1.1.1.1.3.2.2.3.3"><csymbol cd="ambiguous" id="S4.E7.m1.1.1.1.1.1.3.2.2.3.3.1.cmml" xref="S4.E7.m1.1.1.1.1.1.3.2.2.3.3">subscript</csymbol><ci id="S4.E7.m1.1.1.1.1.1.3.2.2.3.3.2.cmml" xref="S4.E7.m1.1.1.1.1.1.3.2.2.3.3.2">𝑇</ci><ci id="S4.E7.m1.1.1.1.1.1.3.2.2.3.3.3.cmml" xref="S4.E7.m1.1.1.1.1.1.3.2.2.3.3.3">𝑐</ci></apply></apply></apply></apply><ci id="S4.E7.m1.1.1.1.1.1.3.3.cmml" xref="S4.E7.m1.1.1.1.1.1.3.3">bold-italic-ϵ</ci></apply></apply></apply><apply id="S4.E7.m1.1.1.1.1c.cmml" xref="S4.E7.m1.1.1.1"><eq id="S4.E7.m1.1.1.1.1.5.cmml" xref="S4.E7.m1.1.1.1.1.5"></eq><share href="#S4.E7.m1.1.1.1.1.1.cmml" id="S4.E7.m1.1.1.1.1d.cmml" xref="S4.E7.m1.1.1.1"></share><apply id="S4.E7.m1.1.1.1.1.6.cmml" xref="S4.E7.m1.1.1.1.1.6"><plus id="S4.E7.m1.1.1.1.1.6.1.cmml" xref="S4.E7.m1.1.1.1.1.6.1"></plus><apply id="S4.E7.m1.1.1.1.1.6.2.cmml" xref="S4.E7.m1.1.1.1.1.6.2"><times id="S4.E7.m1.1.1.1.1.6.2.1.cmml" xref="S4.E7.m1.1.1.1.1.6.2.1"></times><apply id="S4.E7.m1.1.1.1.1.6.2.2.cmml" xref="S4.E7.m1.1.1.1.1.6.2.2"><root id="S4.E7.m1.1.1.1.1.6.2.2a.cmml" xref="S4.E7.m1.1.1.1.1.6.2.2"></root><apply id="S4.E7.m1.1.1.1.1.6.2.2.2.cmml" xref="S4.E7.m1.1.1.1.1.6.2.2.2"><csymbol cd="ambiguous" id="S4.E7.m1.1.1.1.1.6.2.2.2.1.cmml" xref="S4.E7.m1.1.1.1.1.6.2.2.2">subscript</csymbol><apply id="S4.E7.m1.1.1.1.1.6.2.2.2.2.cmml" xref="S4.E7.m1.1.1.1.1.6.2.2.2.2"><ci id="S4.E7.m1.1.1.1.1.6.2.2.2.2.1.cmml" xref="S4.E7.m1.1.1.1.1.6.2.2.2.2.1">¯</ci><ci id="S4.E7.m1.1.1.1.1.6.2.2.2.2.2.cmml" xref="S4.E7.m1.1.1.1.1.6.2.2.2.2.2">𝛼</ci></apply><apply id="S4.E7.m1.1.1.1.1.6.2.2.2.3.cmml" xref="S4.E7.m1.1.1.1.1.6.2.2.2.3"><csymbol cd="ambiguous" id="S4.E7.m1.1.1.1.1.6.2.2.2.3.1.cmml" xref="S4.E7.m1.1.1.1.1.6.2.2.2.3">subscript</csymbol><ci id="S4.E7.m1.1.1.1.1.6.2.2.2.3.2.cmml" xref="S4.E7.m1.1.1.1.1.6.2.2.2.3.2">𝑇</ci><ci id="S4.E7.m1.1.1.1.1.6.2.2.2.3.3.cmml" xref="S4.E7.m1.1.1.1.1.6.2.2.2.3.3">𝑐</ci></apply></apply></apply><ci id="S4.E7.m1.1.1.1.1.6.2.3.cmml" xref="S4.E7.m1.1.1.1.1.6.2.3">𝒙</ci></apply><apply id="S4.E7.m1.1.1.1.1.6.3.cmml" xref="S4.E7.m1.1.1.1.1.6.3"><times id="S4.E7.m1.1.1.1.1.6.3.1.cmml" xref="S4.E7.m1.1.1.1.1.6.3.1"></times><apply id="S4.E7.m1.1.1.1.1.6.3.2.cmml" xref="S4.E7.m1.1.1.1.1.6.3.2"><root id="S4.E7.m1.1.1.1.1.6.3.2a.cmml" xref="S4.E7.m1.1.1.1.1.6.3.2"></root><apply id="S4.E7.m1.1.1.1.1.6.3.2.2.cmml" xref="S4.E7.m1.1.1.1.1.6.3.2.2"><csymbol cd="ambiguous" id="S4.E7.m1.1.1.1.1.6.3.2.2.1.cmml" xref="S4.E7.m1.1.1.1.1.6.3.2.2">subscript</csymbol><apply id="S4.E7.m1.1.1.1.1.6.3.2.2.2.cmml" xref="S4.E7.m1.1.1.1.1.6.3.2.2.2"><ci id="S4.E7.m1.1.1.1.1.6.3.2.2.2.1.cmml" xref="S4.E7.m1.1.1.1.1.6.3.2.2.2.1">¯</ci><ci id="S4.E7.m1.1.1.1.1.6.3.2.2.2.2.cmml" xref="S4.E7.m1.1.1.1.1.6.3.2.2.2.2">𝛼</ci></apply><apply id="S4.E7.m1.1.1.1.1.6.3.2.2.3.cmml" xref="S4.E7.m1.1.1.1.1.6.3.2.2.3"><csymbol cd="ambiguous" id="S4.E7.m1.1.1.1.1.6.3.2.2.3.1.cmml" xref="S4.E7.m1.1.1.1.1.6.3.2.2.3">subscript</csymbol><ci id="S4.E7.m1.1.1.1.1.6.3.2.2.3.2.cmml" xref="S4.E7.m1.1.1.1.1.6.3.2.2.3.2">𝑇</ci><ci id="S4.E7.m1.1.1.1.1.6.3.2.2.3.3.cmml" xref="S4.E7.m1.1.1.1.1.6.3.2.2.3.3">𝑐</ci></apply></apply></apply><ci id="S4.E7.m1.1.1.1.1.6.3.3.cmml" xref="S4.E7.m1.1.1.1.1.6.3.3">𝜹</ci></apply><apply id="S4.E7.m1.1.1.1.1.6.4.cmml" xref="S4.E7.m1.1.1.1.1.6.4"><times id="S4.E7.m1.1.1.1.1.6.4.1.cmml" xref="S4.E7.m1.1.1.1.1.6.4.1"></times><apply id="S4.E7.m1.1.1.1.1.6.4.2.cmml" xref="S4.E7.m1.1.1.1.1.6.4.2"><root id="S4.E7.m1.1.1.1.1.6.4.2a.cmml" xref="S4.E7.m1.1.1.1.1.6.4.2"></root><apply id="S4.E7.m1.1.1.1.1.6.4.2.2.cmml" xref="S4.E7.m1.1.1.1.1.6.4.2.2"><minus id="S4.E7.m1.1.1.1.1.6.4.2.2.1.cmml" xref="S4.E7.m1.1.1.1.1.6.4.2.2.1"></minus><cn type="integer" id="S4.E7.m1.1.1.1.1.6.4.2.2.2.cmml" xref="S4.E7.m1.1.1.1.1.6.4.2.2.2">1</cn><apply id="S4.E7.m1.1.1.1.1.6.4.2.2.3.cmml" xref="S4.E7.m1.1.1.1.1.6.4.2.2.3"><csymbol cd="ambiguous" id="S4.E7.m1.1.1.1.1.6.4.2.2.3.1.cmml" xref="S4.E7.m1.1.1.1.1.6.4.2.2.3">subscript</csymbol><apply id="S4.E7.m1.1.1.1.1.6.4.2.2.3.2.cmml" xref="S4.E7.m1.1.1.1.1.6.4.2.2.3.2"><ci id="S4.E7.m1.1.1.1.1.6.4.2.2.3.2.1.cmml" xref="S4.E7.m1.1.1.1.1.6.4.2.2.3.2.1">¯</ci><ci id="S4.E7.m1.1.1.1.1.6.4.2.2.3.2.2.cmml" xref="S4.E7.m1.1.1.1.1.6.4.2.2.3.2.2">𝛼</ci></apply><apply id="S4.E7.m1.1.1.1.1.6.4.2.2.3.3.cmml" xref="S4.E7.m1.1.1.1.1.6.4.2.2.3.3"><csymbol cd="ambiguous" id="S4.E7.m1.1.1.1.1.6.4.2.2.3.3.1.cmml" xref="S4.E7.m1.1.1.1.1.6.4.2.2.3.3">subscript</csymbol><ci id="S4.E7.m1.1.1.1.1.6.4.2.2.3.3.2.cmml" xref="S4.E7.m1.1.1.1.1.6.4.2.2.3.3.2">𝑇</ci><ci id="S4.E7.m1.1.1.1.1.6.4.2.2.3.3.3.cmml" xref="S4.E7.m1.1.1.1.1.6.4.2.2.3.3.3">𝑐</ci></apply></apply></apply></apply><ci id="S4.E7.m1.1.1.1.1.6.4.3.cmml" xref="S4.E7.m1.1.1.1.1.6.4.3">bold-italic-ϵ</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E7.m1.1c">{\bm{x}}^{T_{c}}=\sqrt{\bar{\alpha}_{T_{c}}}({\bm{x}}+\bm{\delta})+\sqrt{1-\bar{\alpha}_{T_{c}}}\bm{\epsilon}=\sqrt{\bar{\alpha}_{T_{c}}}{\bm{x}}+\sqrt{\bar{\alpha}_{T_{c}}}\bm{\delta}+\sqrt{1-\bar{\alpha}_{T_{c}}}\bm{\epsilon}.</annotation><annotation encoding="application/x-llamapun" id="S4.E7.m1.1d">bold_italic_x start_POSTSUPERSCRIPT italic_T start_POSTSUBSCRIPT italic_c end_POSTSUBSCRIPT end_POSTSUPERSCRIPT = square-root start_ARG over¯ start_ARG italic_α end_ARG start_POSTSUBSCRIPT italic_T start_POSTSUBSCRIPT italic_c end_POSTSUBSCRIPT end_POSTSUBSCRIPT end_ARG ( bold_italic_x + bold_italic_δ ) + square-root start_ARG 1 - over¯ start_ARG italic_α end_ARG start_POSTSUBSCRIPT italic_T start_POSTSUBSCRIPT italic_c end_POSTSUBSCRIPT end_POSTSUBSCRIPT end_ARG bold_italic_ϵ = square-root start_ARG over¯ start_ARG italic_α end_ARG start_POSTSUBSCRIPT italic_T start_POSTSUBSCRIPT italic_c end_POSTSUBSCRIPT end_POSTSUBSCRIPT end_ARG bold_italic_x + square-root start_ARG over¯ start_ARG italic_α end_ARG start_POSTSUBSCRIPT italic_T start_POSTSUBSCRIPT italic_c end_POSTSUBSCRIPT end_POSTSUBSCRIPT end_ARG bold_italic_δ + square-root start_ARG 1 - over¯ start_ARG italic_α end_ARG start_POSTSUBSCRIPT italic_T start_POSTSUBSCRIPT italic_c end_POSTSUBSCRIPT end_POSTSUBSCRIPT end_ARG bold_italic_ϵ .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(7)</span></td>
</tr></tbody>
</table>
</div>
<div id="S4.SS1.p6" class="ltx_para">
<p id="S4.SS1.p6.16" class="ltx_p">As <math id="S4.SS1.p6.1.m1.1" class="ltx_Math" alttext="{T_{c}}" display="inline"><semantics id="S4.SS1.p6.1.m1.1a"><msub id="S4.SS1.p6.1.m1.1.1" xref="S4.SS1.p6.1.m1.1.1.cmml"><mi id="S4.SS1.p6.1.m1.1.1.2" xref="S4.SS1.p6.1.m1.1.1.2.cmml">T</mi><mi id="S4.SS1.p6.1.m1.1.1.3" xref="S4.SS1.p6.1.m1.1.1.3.cmml">c</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.p6.1.m1.1b"><apply id="S4.SS1.p6.1.m1.1.1.cmml" xref="S4.SS1.p6.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS1.p6.1.m1.1.1.1.cmml" xref="S4.SS1.p6.1.m1.1.1">subscript</csymbol><ci id="S4.SS1.p6.1.m1.1.1.2.cmml" xref="S4.SS1.p6.1.m1.1.1.2">𝑇</ci><ci id="S4.SS1.p6.1.m1.1.1.3.cmml" xref="S4.SS1.p6.1.m1.1.1.3">𝑐</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p6.1.m1.1c">{T_{c}}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p6.1.m1.1d">italic_T start_POSTSUBSCRIPT italic_c end_POSTSUBSCRIPT</annotation></semantics></math> increases, <math id="S4.SS1.p6.2.m2.1" class="ltx_Math" alttext="\bar{\alpha}_{T_{c}}" display="inline"><semantics id="S4.SS1.p6.2.m2.1a"><msub id="S4.SS1.p6.2.m2.1.1" xref="S4.SS1.p6.2.m2.1.1.cmml"><mover accent="true" id="S4.SS1.p6.2.m2.1.1.2" xref="S4.SS1.p6.2.m2.1.1.2.cmml"><mi id="S4.SS1.p6.2.m2.1.1.2.2" xref="S4.SS1.p6.2.m2.1.1.2.2.cmml">α</mi><mo id="S4.SS1.p6.2.m2.1.1.2.1" xref="S4.SS1.p6.2.m2.1.1.2.1.cmml">¯</mo></mover><msub id="S4.SS1.p6.2.m2.1.1.3" xref="S4.SS1.p6.2.m2.1.1.3.cmml"><mi id="S4.SS1.p6.2.m2.1.1.3.2" xref="S4.SS1.p6.2.m2.1.1.3.2.cmml">T</mi><mi id="S4.SS1.p6.2.m2.1.1.3.3" xref="S4.SS1.p6.2.m2.1.1.3.3.cmml">c</mi></msub></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.p6.2.m2.1b"><apply id="S4.SS1.p6.2.m2.1.1.cmml" xref="S4.SS1.p6.2.m2.1.1"><csymbol cd="ambiguous" id="S4.SS1.p6.2.m2.1.1.1.cmml" xref="S4.SS1.p6.2.m2.1.1">subscript</csymbol><apply id="S4.SS1.p6.2.m2.1.1.2.cmml" xref="S4.SS1.p6.2.m2.1.1.2"><ci id="S4.SS1.p6.2.m2.1.1.2.1.cmml" xref="S4.SS1.p6.2.m2.1.1.2.1">¯</ci><ci id="S4.SS1.p6.2.m2.1.1.2.2.cmml" xref="S4.SS1.p6.2.m2.1.1.2.2">𝛼</ci></apply><apply id="S4.SS1.p6.2.m2.1.1.3.cmml" xref="S4.SS1.p6.2.m2.1.1.3"><csymbol cd="ambiguous" id="S4.SS1.p6.2.m2.1.1.3.1.cmml" xref="S4.SS1.p6.2.m2.1.1.3">subscript</csymbol><ci id="S4.SS1.p6.2.m2.1.1.3.2.cmml" xref="S4.SS1.p6.2.m2.1.1.3.2">𝑇</ci><ci id="S4.SS1.p6.2.m2.1.1.3.3.cmml" xref="S4.SS1.p6.2.m2.1.1.3.3">𝑐</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p6.2.m2.1c">\bar{\alpha}_{T_{c}}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p6.2.m2.1d">over¯ start_ARG italic_α end_ARG start_POSTSUBSCRIPT italic_T start_POSTSUBSCRIPT italic_c end_POSTSUBSCRIPT end_POSTSUBSCRIPT</annotation></semantics></math> gradually decreases and <math id="S4.SS1.p6.3.m3.1" class="ltx_Math" alttext="1-\bar{\alpha}_{T_{c}}" display="inline"><semantics id="S4.SS1.p6.3.m3.1a"><mrow id="S4.SS1.p6.3.m3.1.1" xref="S4.SS1.p6.3.m3.1.1.cmml"><mn id="S4.SS1.p6.3.m3.1.1.2" xref="S4.SS1.p6.3.m3.1.1.2.cmml">1</mn><mo id="S4.SS1.p6.3.m3.1.1.1" xref="S4.SS1.p6.3.m3.1.1.1.cmml">−</mo><msub id="S4.SS1.p6.3.m3.1.1.3" xref="S4.SS1.p6.3.m3.1.1.3.cmml"><mover accent="true" id="S4.SS1.p6.3.m3.1.1.3.2" xref="S4.SS1.p6.3.m3.1.1.3.2.cmml"><mi id="S4.SS1.p6.3.m3.1.1.3.2.2" xref="S4.SS1.p6.3.m3.1.1.3.2.2.cmml">α</mi><mo id="S4.SS1.p6.3.m3.1.1.3.2.1" xref="S4.SS1.p6.3.m3.1.1.3.2.1.cmml">¯</mo></mover><msub id="S4.SS1.p6.3.m3.1.1.3.3" xref="S4.SS1.p6.3.m3.1.1.3.3.cmml"><mi id="S4.SS1.p6.3.m3.1.1.3.3.2" xref="S4.SS1.p6.3.m3.1.1.3.3.2.cmml">T</mi><mi id="S4.SS1.p6.3.m3.1.1.3.3.3" xref="S4.SS1.p6.3.m3.1.1.3.3.3.cmml">c</mi></msub></msub></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p6.3.m3.1b"><apply id="S4.SS1.p6.3.m3.1.1.cmml" xref="S4.SS1.p6.3.m3.1.1"><minus id="S4.SS1.p6.3.m3.1.1.1.cmml" xref="S4.SS1.p6.3.m3.1.1.1"></minus><cn type="integer" id="S4.SS1.p6.3.m3.1.1.2.cmml" xref="S4.SS1.p6.3.m3.1.1.2">1</cn><apply id="S4.SS1.p6.3.m3.1.1.3.cmml" xref="S4.SS1.p6.3.m3.1.1.3"><csymbol cd="ambiguous" id="S4.SS1.p6.3.m3.1.1.3.1.cmml" xref="S4.SS1.p6.3.m3.1.1.3">subscript</csymbol><apply id="S4.SS1.p6.3.m3.1.1.3.2.cmml" xref="S4.SS1.p6.3.m3.1.1.3.2"><ci id="S4.SS1.p6.3.m3.1.1.3.2.1.cmml" xref="S4.SS1.p6.3.m3.1.1.3.2.1">¯</ci><ci id="S4.SS1.p6.3.m3.1.1.3.2.2.cmml" xref="S4.SS1.p6.3.m3.1.1.3.2.2">𝛼</ci></apply><apply id="S4.SS1.p6.3.m3.1.1.3.3.cmml" xref="S4.SS1.p6.3.m3.1.1.3.3"><csymbol cd="ambiguous" id="S4.SS1.p6.3.m3.1.1.3.3.1.cmml" xref="S4.SS1.p6.3.m3.1.1.3.3">subscript</csymbol><ci id="S4.SS1.p6.3.m3.1.1.3.3.2.cmml" xref="S4.SS1.p6.3.m3.1.1.3.3.2">𝑇</ci><ci id="S4.SS1.p6.3.m3.1.1.3.3.3.cmml" xref="S4.SS1.p6.3.m3.1.1.3.3.3">𝑐</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p6.3.m3.1c">1-\bar{\alpha}_{T_{c}}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p6.3.m3.1d">1 - over¯ start_ARG italic_α end_ARG start_POSTSUBSCRIPT italic_T start_POSTSUBSCRIPT italic_c end_POSTSUBSCRIPT end_POSTSUBSCRIPT</annotation></semantics></math> gradually increases.
We know that the norm of <math id="S4.SS1.p6.4.m4.1" class="ltx_Math" alttext="\bm{\delta}" display="inline"><semantics id="S4.SS1.p6.4.m4.1a"><mi id="S4.SS1.p6.4.m4.1.1" xref="S4.SS1.p6.4.m4.1.1.cmml">𝜹</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.p6.4.m4.1b"><ci id="S4.SS1.p6.4.m4.1.1.cmml" xref="S4.SS1.p6.4.m4.1.1">𝜹</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p6.4.m4.1c">\bm{\delta}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p6.4.m4.1d">bold_italic_δ</annotation></semantics></math> is small compared with <math id="S4.SS1.p6.5.m5.1" class="ltx_Math" alttext="{\bm{x}}" display="inline"><semantics id="S4.SS1.p6.5.m5.1a"><mi id="S4.SS1.p6.5.m5.1.1" xref="S4.SS1.p6.5.m5.1.1.cmml">𝒙</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.p6.5.m5.1b"><ci id="S4.SS1.p6.5.m5.1.1.cmml" xref="S4.SS1.p6.5.m5.1.1">𝒙</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p6.5.m5.1c">{\bm{x}}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p6.5.m5.1d">bold_italic_x</annotation></semantics></math> due to the perceptually indistinguishable constraint.
Therefore, we need to choose an appropriate <math id="S4.SS1.p6.6.m6.1" class="ltx_Math" alttext="{T_{c}}" display="inline"><semantics id="S4.SS1.p6.6.m6.1a"><msub id="S4.SS1.p6.6.m6.1.1" xref="S4.SS1.p6.6.m6.1.1.cmml"><mi id="S4.SS1.p6.6.m6.1.1.2" xref="S4.SS1.p6.6.m6.1.1.2.cmml">T</mi><mi id="S4.SS1.p6.6.m6.1.1.3" xref="S4.SS1.p6.6.m6.1.1.3.cmml">c</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.p6.6.m6.1b"><apply id="S4.SS1.p6.6.m6.1.1.cmml" xref="S4.SS1.p6.6.m6.1.1"><csymbol cd="ambiguous" id="S4.SS1.p6.6.m6.1.1.1.cmml" xref="S4.SS1.p6.6.m6.1.1">subscript</csymbol><ci id="S4.SS1.p6.6.m6.1.1.2.cmml" xref="S4.SS1.p6.6.m6.1.1.2">𝑇</ci><ci id="S4.SS1.p6.6.m6.1.1.3.cmml" xref="S4.SS1.p6.6.m6.1.1.3">𝑐</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p6.6.m6.1c">{T_{c}}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p6.6.m6.1d">italic_T start_POSTSUBSCRIPT italic_c end_POSTSUBSCRIPT</annotation></semantics></math> such that the magnitude of the Gaussian noise <math id="S4.SS1.p6.7.m7.1" class="ltx_Math" alttext="\sqrt{1-\bar{\alpha}_{T_{c}}}\bm{\epsilon}" display="inline"><semantics id="S4.SS1.p6.7.m7.1a"><mrow id="S4.SS1.p6.7.m7.1.1" xref="S4.SS1.p6.7.m7.1.1.cmml"><msqrt id="S4.SS1.p6.7.m7.1.1.2" xref="S4.SS1.p6.7.m7.1.1.2.cmml"><mrow id="S4.SS1.p6.7.m7.1.1.2.2" xref="S4.SS1.p6.7.m7.1.1.2.2.cmml"><mn id="S4.SS1.p6.7.m7.1.1.2.2.2" xref="S4.SS1.p6.7.m7.1.1.2.2.2.cmml">1</mn><mo id="S4.SS1.p6.7.m7.1.1.2.2.1" xref="S4.SS1.p6.7.m7.1.1.2.2.1.cmml">−</mo><msub id="S4.SS1.p6.7.m7.1.1.2.2.3" xref="S4.SS1.p6.7.m7.1.1.2.2.3.cmml"><mover accent="true" id="S4.SS1.p6.7.m7.1.1.2.2.3.2" xref="S4.SS1.p6.7.m7.1.1.2.2.3.2.cmml"><mi id="S4.SS1.p6.7.m7.1.1.2.2.3.2.2" xref="S4.SS1.p6.7.m7.1.1.2.2.3.2.2.cmml">α</mi><mo id="S4.SS1.p6.7.m7.1.1.2.2.3.2.1" xref="S4.SS1.p6.7.m7.1.1.2.2.3.2.1.cmml">¯</mo></mover><msub id="S4.SS1.p6.7.m7.1.1.2.2.3.3" xref="S4.SS1.p6.7.m7.1.1.2.2.3.3.cmml"><mi id="S4.SS1.p6.7.m7.1.1.2.2.3.3.2" xref="S4.SS1.p6.7.m7.1.1.2.2.3.3.2.cmml">T</mi><mi id="S4.SS1.p6.7.m7.1.1.2.2.3.3.3" xref="S4.SS1.p6.7.m7.1.1.2.2.3.3.3.cmml">c</mi></msub></msub></mrow></msqrt><mo id="S4.SS1.p6.7.m7.1.1.1" xref="S4.SS1.p6.7.m7.1.1.1.cmml">⁢</mo><mi mathvariant="bold-italic" id="S4.SS1.p6.7.m7.1.1.3" xref="S4.SS1.p6.7.m7.1.1.3.cmml">ϵ</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p6.7.m7.1b"><apply id="S4.SS1.p6.7.m7.1.1.cmml" xref="S4.SS1.p6.7.m7.1.1"><times id="S4.SS1.p6.7.m7.1.1.1.cmml" xref="S4.SS1.p6.7.m7.1.1.1"></times><apply id="S4.SS1.p6.7.m7.1.1.2.cmml" xref="S4.SS1.p6.7.m7.1.1.2"><root id="S4.SS1.p6.7.m7.1.1.2a.cmml" xref="S4.SS1.p6.7.m7.1.1.2"></root><apply id="S4.SS1.p6.7.m7.1.1.2.2.cmml" xref="S4.SS1.p6.7.m7.1.1.2.2"><minus id="S4.SS1.p6.7.m7.1.1.2.2.1.cmml" xref="S4.SS1.p6.7.m7.1.1.2.2.1"></minus><cn type="integer" id="S4.SS1.p6.7.m7.1.1.2.2.2.cmml" xref="S4.SS1.p6.7.m7.1.1.2.2.2">1</cn><apply id="S4.SS1.p6.7.m7.1.1.2.2.3.cmml" xref="S4.SS1.p6.7.m7.1.1.2.2.3"><csymbol cd="ambiguous" id="S4.SS1.p6.7.m7.1.1.2.2.3.1.cmml" xref="S4.SS1.p6.7.m7.1.1.2.2.3">subscript</csymbol><apply id="S4.SS1.p6.7.m7.1.1.2.2.3.2.cmml" xref="S4.SS1.p6.7.m7.1.1.2.2.3.2"><ci id="S4.SS1.p6.7.m7.1.1.2.2.3.2.1.cmml" xref="S4.SS1.p6.7.m7.1.1.2.2.3.2.1">¯</ci><ci id="S4.SS1.p6.7.m7.1.1.2.2.3.2.2.cmml" xref="S4.SS1.p6.7.m7.1.1.2.2.3.2.2">𝛼</ci></apply><apply id="S4.SS1.p6.7.m7.1.1.2.2.3.3.cmml" xref="S4.SS1.p6.7.m7.1.1.2.2.3.3"><csymbol cd="ambiguous" id="S4.SS1.p6.7.m7.1.1.2.2.3.3.1.cmml" xref="S4.SS1.p6.7.m7.1.1.2.2.3.3">subscript</csymbol><ci id="S4.SS1.p6.7.m7.1.1.2.2.3.3.2.cmml" xref="S4.SS1.p6.7.m7.1.1.2.2.3.3.2">𝑇</ci><ci id="S4.SS1.p6.7.m7.1.1.2.2.3.3.3.cmml" xref="S4.SS1.p6.7.m7.1.1.2.2.3.3.3">𝑐</ci></apply></apply></apply></apply><ci id="S4.SS1.p6.7.m7.1.1.3.cmml" xref="S4.SS1.p6.7.m7.1.1.3">bold-italic-ϵ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p6.7.m7.1c">\sqrt{1-\bar{\alpha}_{T_{c}}}\bm{\epsilon}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p6.7.m7.1d">square-root start_ARG 1 - over¯ start_ARG italic_α end_ARG start_POSTSUBSCRIPT italic_T start_POSTSUBSCRIPT italic_c end_POSTSUBSCRIPT end_POSTSUBSCRIPT end_ARG bold_italic_ϵ</annotation></semantics></math> is large enough to submerge the adversarial perturbation <math id="S4.SS1.p6.8.m8.1" class="ltx_Math" alttext="\sqrt{\bar{\alpha}_{T_{c}}}\delta" display="inline"><semantics id="S4.SS1.p6.8.m8.1a"><mrow id="S4.SS1.p6.8.m8.1.1" xref="S4.SS1.p6.8.m8.1.1.cmml"><msqrt id="S4.SS1.p6.8.m8.1.1.2" xref="S4.SS1.p6.8.m8.1.1.2.cmml"><msub id="S4.SS1.p6.8.m8.1.1.2.2" xref="S4.SS1.p6.8.m8.1.1.2.2.cmml"><mover accent="true" id="S4.SS1.p6.8.m8.1.1.2.2.2" xref="S4.SS1.p6.8.m8.1.1.2.2.2.cmml"><mi id="S4.SS1.p6.8.m8.1.1.2.2.2.2" xref="S4.SS1.p6.8.m8.1.1.2.2.2.2.cmml">α</mi><mo id="S4.SS1.p6.8.m8.1.1.2.2.2.1" xref="S4.SS1.p6.8.m8.1.1.2.2.2.1.cmml">¯</mo></mover><msub id="S4.SS1.p6.8.m8.1.1.2.2.3" xref="S4.SS1.p6.8.m8.1.1.2.2.3.cmml"><mi id="S4.SS1.p6.8.m8.1.1.2.2.3.2" xref="S4.SS1.p6.8.m8.1.1.2.2.3.2.cmml">T</mi><mi id="S4.SS1.p6.8.m8.1.1.2.2.3.3" xref="S4.SS1.p6.8.m8.1.1.2.2.3.3.cmml">c</mi></msub></msub></msqrt><mo id="S4.SS1.p6.8.m8.1.1.1" xref="S4.SS1.p6.8.m8.1.1.1.cmml">⁢</mo><mi id="S4.SS1.p6.8.m8.1.1.3" xref="S4.SS1.p6.8.m8.1.1.3.cmml">δ</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p6.8.m8.1b"><apply id="S4.SS1.p6.8.m8.1.1.cmml" xref="S4.SS1.p6.8.m8.1.1"><times id="S4.SS1.p6.8.m8.1.1.1.cmml" xref="S4.SS1.p6.8.m8.1.1.1"></times><apply id="S4.SS1.p6.8.m8.1.1.2.cmml" xref="S4.SS1.p6.8.m8.1.1.2"><root id="S4.SS1.p6.8.m8.1.1.2a.cmml" xref="S4.SS1.p6.8.m8.1.1.2"></root><apply id="S4.SS1.p6.8.m8.1.1.2.2.cmml" xref="S4.SS1.p6.8.m8.1.1.2.2"><csymbol cd="ambiguous" id="S4.SS1.p6.8.m8.1.1.2.2.1.cmml" xref="S4.SS1.p6.8.m8.1.1.2.2">subscript</csymbol><apply id="S4.SS1.p6.8.m8.1.1.2.2.2.cmml" xref="S4.SS1.p6.8.m8.1.1.2.2.2"><ci id="S4.SS1.p6.8.m8.1.1.2.2.2.1.cmml" xref="S4.SS1.p6.8.m8.1.1.2.2.2.1">¯</ci><ci id="S4.SS1.p6.8.m8.1.1.2.2.2.2.cmml" xref="S4.SS1.p6.8.m8.1.1.2.2.2.2">𝛼</ci></apply><apply id="S4.SS1.p6.8.m8.1.1.2.2.3.cmml" xref="S4.SS1.p6.8.m8.1.1.2.2.3"><csymbol cd="ambiguous" id="S4.SS1.p6.8.m8.1.1.2.2.3.1.cmml" xref="S4.SS1.p6.8.m8.1.1.2.2.3">subscript</csymbol><ci id="S4.SS1.p6.8.m8.1.1.2.2.3.2.cmml" xref="S4.SS1.p6.8.m8.1.1.2.2.3.2">𝑇</ci><ci id="S4.SS1.p6.8.m8.1.1.2.2.3.3.cmml" xref="S4.SS1.p6.8.m8.1.1.2.2.3.3">𝑐</ci></apply></apply></apply><ci id="S4.SS1.p6.8.m8.1.1.3.cmml" xref="S4.SS1.p6.8.m8.1.1.3">𝛿</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p6.8.m8.1c">\sqrt{\bar{\alpha}_{T_{c}}}\delta</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p6.8.m8.1d">square-root start_ARG over¯ start_ARG italic_α end_ARG start_POSTSUBSCRIPT italic_T start_POSTSUBSCRIPT italic_c end_POSTSUBSCRIPT end_POSTSUBSCRIPT end_ARG italic_δ</annotation></semantics></math>, while at the same time, the content in <math id="S4.SS1.p6.9.m9.1" class="ltx_Math" alttext="\sqrt{\bar{\alpha}_{T_{c}}}{\bm{x}}" display="inline"><semantics id="S4.SS1.p6.9.m9.1a"><mrow id="S4.SS1.p6.9.m9.1.1" xref="S4.SS1.p6.9.m9.1.1.cmml"><msqrt id="S4.SS1.p6.9.m9.1.1.2" xref="S4.SS1.p6.9.m9.1.1.2.cmml"><msub id="S4.SS1.p6.9.m9.1.1.2.2" xref="S4.SS1.p6.9.m9.1.1.2.2.cmml"><mover accent="true" id="S4.SS1.p6.9.m9.1.1.2.2.2" xref="S4.SS1.p6.9.m9.1.1.2.2.2.cmml"><mi id="S4.SS1.p6.9.m9.1.1.2.2.2.2" xref="S4.SS1.p6.9.m9.1.1.2.2.2.2.cmml">α</mi><mo id="S4.SS1.p6.9.m9.1.1.2.2.2.1" xref="S4.SS1.p6.9.m9.1.1.2.2.2.1.cmml">¯</mo></mover><msub id="S4.SS1.p6.9.m9.1.1.2.2.3" xref="S4.SS1.p6.9.m9.1.1.2.2.3.cmml"><mi id="S4.SS1.p6.9.m9.1.1.2.2.3.2" xref="S4.SS1.p6.9.m9.1.1.2.2.3.2.cmml">T</mi><mi id="S4.SS1.p6.9.m9.1.1.2.2.3.3" xref="S4.SS1.p6.9.m9.1.1.2.2.3.3.cmml">c</mi></msub></msub></msqrt><mo id="S4.SS1.p6.9.m9.1.1.1" xref="S4.SS1.p6.9.m9.1.1.1.cmml">⁢</mo><mi id="S4.SS1.p6.9.m9.1.1.3" xref="S4.SS1.p6.9.m9.1.1.3.cmml">𝒙</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p6.9.m9.1b"><apply id="S4.SS1.p6.9.m9.1.1.cmml" xref="S4.SS1.p6.9.m9.1.1"><times id="S4.SS1.p6.9.m9.1.1.1.cmml" xref="S4.SS1.p6.9.m9.1.1.1"></times><apply id="S4.SS1.p6.9.m9.1.1.2.cmml" xref="S4.SS1.p6.9.m9.1.1.2"><root id="S4.SS1.p6.9.m9.1.1.2a.cmml" xref="S4.SS1.p6.9.m9.1.1.2"></root><apply id="S4.SS1.p6.9.m9.1.1.2.2.cmml" xref="S4.SS1.p6.9.m9.1.1.2.2"><csymbol cd="ambiguous" id="S4.SS1.p6.9.m9.1.1.2.2.1.cmml" xref="S4.SS1.p6.9.m9.1.1.2.2">subscript</csymbol><apply id="S4.SS1.p6.9.m9.1.1.2.2.2.cmml" xref="S4.SS1.p6.9.m9.1.1.2.2.2"><ci id="S4.SS1.p6.9.m9.1.1.2.2.2.1.cmml" xref="S4.SS1.p6.9.m9.1.1.2.2.2.1">¯</ci><ci id="S4.SS1.p6.9.m9.1.1.2.2.2.2.cmml" xref="S4.SS1.p6.9.m9.1.1.2.2.2.2">𝛼</ci></apply><apply id="S4.SS1.p6.9.m9.1.1.2.2.3.cmml" xref="S4.SS1.p6.9.m9.1.1.2.2.3"><csymbol cd="ambiguous" id="S4.SS1.p6.9.m9.1.1.2.2.3.1.cmml" xref="S4.SS1.p6.9.m9.1.1.2.2.3">subscript</csymbol><ci id="S4.SS1.p6.9.m9.1.1.2.2.3.2.cmml" xref="S4.SS1.p6.9.m9.1.1.2.2.3.2">𝑇</ci><ci id="S4.SS1.p6.9.m9.1.1.2.2.3.3.cmml" xref="S4.SS1.p6.9.m9.1.1.2.2.3.3">𝑐</ci></apply></apply></apply><ci id="S4.SS1.p6.9.m9.1.1.3.cmml" xref="S4.SS1.p6.9.m9.1.1.3">𝒙</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p6.9.m9.1c">\sqrt{\bar{\alpha}_{T_{c}}}{\bm{x}}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p6.9.m9.1d">square-root start_ARG over¯ start_ARG italic_α end_ARG start_POSTSUBSCRIPT italic_T start_POSTSUBSCRIPT italic_c end_POSTSUBSCRIPT end_POSTSUBSCRIPT end_ARG bold_italic_x</annotation></semantics></math> is largely preserved.
After diffusing the adversarial image, we can feed <math id="S4.SS1.p6.10.m10.1" class="ltx_Math" alttext="{\bm{x}}^{T_{c}}" display="inline"><semantics id="S4.SS1.p6.10.m10.1a"><msup id="S4.SS1.p6.10.m10.1.1" xref="S4.SS1.p6.10.m10.1.1.cmml"><mi id="S4.SS1.p6.10.m10.1.1.2" xref="S4.SS1.p6.10.m10.1.1.2.cmml">𝒙</mi><msub id="S4.SS1.p6.10.m10.1.1.3" xref="S4.SS1.p6.10.m10.1.1.3.cmml"><mi id="S4.SS1.p6.10.m10.1.1.3.2" xref="S4.SS1.p6.10.m10.1.1.3.2.cmml">T</mi><mi id="S4.SS1.p6.10.m10.1.1.3.3" xref="S4.SS1.p6.10.m10.1.1.3.3.cmml">c</mi></msub></msup><annotation-xml encoding="MathML-Content" id="S4.SS1.p6.10.m10.1b"><apply id="S4.SS1.p6.10.m10.1.1.cmml" xref="S4.SS1.p6.10.m10.1.1"><csymbol cd="ambiguous" id="S4.SS1.p6.10.m10.1.1.1.cmml" xref="S4.SS1.p6.10.m10.1.1">superscript</csymbol><ci id="S4.SS1.p6.10.m10.1.1.2.cmml" xref="S4.SS1.p6.10.m10.1.1.2">𝒙</ci><apply id="S4.SS1.p6.10.m10.1.1.3.cmml" xref="S4.SS1.p6.10.m10.1.1.3"><csymbol cd="ambiguous" id="S4.SS1.p6.10.m10.1.1.3.1.cmml" xref="S4.SS1.p6.10.m10.1.1.3">subscript</csymbol><ci id="S4.SS1.p6.10.m10.1.1.3.2.cmml" xref="S4.SS1.p6.10.m10.1.1.3.2">𝑇</ci><ci id="S4.SS1.p6.10.m10.1.1.3.3.cmml" xref="S4.SS1.p6.10.m10.1.1.3.3">𝑐</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p6.10.m10.1c">{\bm{x}}^{T_{c}}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p6.10.m10.1d">bold_italic_x start_POSTSUPERSCRIPT italic_T start_POSTSUBSCRIPT italic_c end_POSTSUBSCRIPT end_POSTSUPERSCRIPT</annotation></semantics></math> to the reverse process in Equation <a href="#S3.E6" title="6 ‣ The Reverse Process. ‣ 3.1 DDPM ‣ 3 Background of DDPM ‣ Guided Diffusion Model for Adversarial Purification" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a>.
The reverse process will eliminate the added Gaussian noise in <math id="S4.SS1.p6.11.m11.1" class="ltx_Math" alttext="{\bm{x}}^{T_{c}}" display="inline"><semantics id="S4.SS1.p6.11.m11.1a"><msup id="S4.SS1.p6.11.m11.1.1" xref="S4.SS1.p6.11.m11.1.1.cmml"><mi id="S4.SS1.p6.11.m11.1.1.2" xref="S4.SS1.p6.11.m11.1.1.2.cmml">𝒙</mi><msub id="S4.SS1.p6.11.m11.1.1.3" xref="S4.SS1.p6.11.m11.1.1.3.cmml"><mi id="S4.SS1.p6.11.m11.1.1.3.2" xref="S4.SS1.p6.11.m11.1.1.3.2.cmml">T</mi><mi id="S4.SS1.p6.11.m11.1.1.3.3" xref="S4.SS1.p6.11.m11.1.1.3.3.cmml">c</mi></msub></msup><annotation-xml encoding="MathML-Content" id="S4.SS1.p6.11.m11.1b"><apply id="S4.SS1.p6.11.m11.1.1.cmml" xref="S4.SS1.p6.11.m11.1.1"><csymbol cd="ambiguous" id="S4.SS1.p6.11.m11.1.1.1.cmml" xref="S4.SS1.p6.11.m11.1.1">superscript</csymbol><ci id="S4.SS1.p6.11.m11.1.1.2.cmml" xref="S4.SS1.p6.11.m11.1.1.2">𝒙</ci><apply id="S4.SS1.p6.11.m11.1.1.3.cmml" xref="S4.SS1.p6.11.m11.1.1.3"><csymbol cd="ambiguous" id="S4.SS1.p6.11.m11.1.1.3.1.cmml" xref="S4.SS1.p6.11.m11.1.1.3">subscript</csymbol><ci id="S4.SS1.p6.11.m11.1.1.3.2.cmml" xref="S4.SS1.p6.11.m11.1.1.3.2">𝑇</ci><ci id="S4.SS1.p6.11.m11.1.1.3.3.cmml" xref="S4.SS1.p6.11.m11.1.1.3.3">𝑐</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p6.11.m11.1c">{\bm{x}}^{T_{c}}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p6.11.m11.1d">bold_italic_x start_POSTSUPERSCRIPT italic_T start_POSTSUBSCRIPT italic_c end_POSTSUBSCRIPT end_POSTSUPERSCRIPT</annotation></semantics></math>, and at the same time, very likely to remove the adversarial perturbation in <math id="S4.SS1.p6.12.m12.1" class="ltx_Math" alttext="{\bm{x}}^{T_{c}}" display="inline"><semantics id="S4.SS1.p6.12.m12.1a"><msup id="S4.SS1.p6.12.m12.1.1" xref="S4.SS1.p6.12.m12.1.1.cmml"><mi id="S4.SS1.p6.12.m12.1.1.2" xref="S4.SS1.p6.12.m12.1.1.2.cmml">𝒙</mi><msub id="S4.SS1.p6.12.m12.1.1.3" xref="S4.SS1.p6.12.m12.1.1.3.cmml"><mi id="S4.SS1.p6.12.m12.1.1.3.2" xref="S4.SS1.p6.12.m12.1.1.3.2.cmml">T</mi><mi id="S4.SS1.p6.12.m12.1.1.3.3" xref="S4.SS1.p6.12.m12.1.1.3.3.cmml">c</mi></msub></msup><annotation-xml encoding="MathML-Content" id="S4.SS1.p6.12.m12.1b"><apply id="S4.SS1.p6.12.m12.1.1.cmml" xref="S4.SS1.p6.12.m12.1.1"><csymbol cd="ambiguous" id="S4.SS1.p6.12.m12.1.1.1.cmml" xref="S4.SS1.p6.12.m12.1.1">superscript</csymbol><ci id="S4.SS1.p6.12.m12.1.1.2.cmml" xref="S4.SS1.p6.12.m12.1.1.2">𝒙</ci><apply id="S4.SS1.p6.12.m12.1.1.3.cmml" xref="S4.SS1.p6.12.m12.1.1.3"><csymbol cd="ambiguous" id="S4.SS1.p6.12.m12.1.1.3.1.cmml" xref="S4.SS1.p6.12.m12.1.1.3">subscript</csymbol><ci id="S4.SS1.p6.12.m12.1.1.3.2.cmml" xref="S4.SS1.p6.12.m12.1.1.3.2">𝑇</ci><ci id="S4.SS1.p6.12.m12.1.1.3.3.cmml" xref="S4.SS1.p6.12.m12.1.1.3.3">𝑐</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p6.12.m12.1c">{\bm{x}}^{T_{c}}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p6.12.m12.1d">bold_italic_x start_POSTSUPERSCRIPT italic_T start_POSTSUBSCRIPT italic_c end_POSTSUBSCRIPT end_POSTSUPERSCRIPT</annotation></semantics></math>.
This is because for large enough <math id="S4.SS1.p6.13.m13.1" class="ltx_Math" alttext="{T_{c}}" display="inline"><semantics id="S4.SS1.p6.13.m13.1a"><msub id="S4.SS1.p6.13.m13.1.1" xref="S4.SS1.p6.13.m13.1.1.cmml"><mi id="S4.SS1.p6.13.m13.1.1.2" xref="S4.SS1.p6.13.m13.1.1.2.cmml">T</mi><mi id="S4.SS1.p6.13.m13.1.1.3" xref="S4.SS1.p6.13.m13.1.1.3.cmml">c</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.p6.13.m13.1b"><apply id="S4.SS1.p6.13.m13.1.1.cmml" xref="S4.SS1.p6.13.m13.1.1"><csymbol cd="ambiguous" id="S4.SS1.p6.13.m13.1.1.1.cmml" xref="S4.SS1.p6.13.m13.1.1">subscript</csymbol><ci id="S4.SS1.p6.13.m13.1.1.2.cmml" xref="S4.SS1.p6.13.m13.1.1.2">𝑇</ci><ci id="S4.SS1.p6.13.m13.1.1.3.cmml" xref="S4.SS1.p6.13.m13.1.1.3">𝑐</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p6.13.m13.1c">{T_{c}}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p6.13.m13.1d">italic_T start_POSTSUBSCRIPT italic_c end_POSTSUBSCRIPT</annotation></semantics></math>’s, the adversarial perturbation will be submerged and destroyed by the added Gaussian noise, <math id="S4.SS1.p6.14.m14.1" class="ltx_Math" alttext="{\bm{x}}^{T_{c}}" display="inline"><semantics id="S4.SS1.p6.14.m14.1a"><msup id="S4.SS1.p6.14.m14.1.1" xref="S4.SS1.p6.14.m14.1.1.cmml"><mi id="S4.SS1.p6.14.m14.1.1.2" xref="S4.SS1.p6.14.m14.1.1.2.cmml">𝒙</mi><msub id="S4.SS1.p6.14.m14.1.1.3" xref="S4.SS1.p6.14.m14.1.1.3.cmml"><mi id="S4.SS1.p6.14.m14.1.1.3.2" xref="S4.SS1.p6.14.m14.1.1.3.2.cmml">T</mi><mi id="S4.SS1.p6.14.m14.1.1.3.3" xref="S4.SS1.p6.14.m14.1.1.3.3.cmml">c</mi></msub></msup><annotation-xml encoding="MathML-Content" id="S4.SS1.p6.14.m14.1b"><apply id="S4.SS1.p6.14.m14.1.1.cmml" xref="S4.SS1.p6.14.m14.1.1"><csymbol cd="ambiguous" id="S4.SS1.p6.14.m14.1.1.1.cmml" xref="S4.SS1.p6.14.m14.1.1">superscript</csymbol><ci id="S4.SS1.p6.14.m14.1.1.2.cmml" xref="S4.SS1.p6.14.m14.1.1.2">𝒙</ci><apply id="S4.SS1.p6.14.m14.1.1.3.cmml" xref="S4.SS1.p6.14.m14.1.1.3"><csymbol cd="ambiguous" id="S4.SS1.p6.14.m14.1.1.3.1.cmml" xref="S4.SS1.p6.14.m14.1.1.3">subscript</csymbol><ci id="S4.SS1.p6.14.m14.1.1.3.2.cmml" xref="S4.SS1.p6.14.m14.1.1.3.2">𝑇</ci><ci id="S4.SS1.p6.14.m14.1.1.3.3.cmml" xref="S4.SS1.p6.14.m14.1.1.3.3">𝑐</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p6.14.m14.1c">{\bm{x}}^{T_{c}}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p6.14.m14.1d">bold_italic_x start_POSTSUPERSCRIPT italic_T start_POSTSUBSCRIPT italic_c end_POSTSUBSCRIPT end_POSTSUPERSCRIPT</annotation></semantics></math> will contain very little information of the adversarial perturbation <math id="S4.SS1.p6.15.m15.1" class="ltx_Math" alttext="\delta" display="inline"><semantics id="S4.SS1.p6.15.m15.1a"><mi id="S4.SS1.p6.15.m15.1.1" xref="S4.SS1.p6.15.m15.1.1.cmml">δ</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.p6.15.m15.1b"><ci id="S4.SS1.p6.15.m15.1.1.cmml" xref="S4.SS1.p6.15.m15.1.1">𝛿</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p6.15.m15.1c">\delta</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p6.15.m15.1d">italic_δ</annotation></semantics></math>.
Another reason is that DDPM as a generative model trained on normal clean images, it has the tendency to move noisy images <math id="S4.SS1.p6.16.m16.1" class="ltx_Math" alttext="{\bm{x}}^{T_{c}}" display="inline"><semantics id="S4.SS1.p6.16.m16.1a"><msup id="S4.SS1.p6.16.m16.1.1" xref="S4.SS1.p6.16.m16.1.1.cmml"><mi id="S4.SS1.p6.16.m16.1.1.2" xref="S4.SS1.p6.16.m16.1.1.2.cmml">𝒙</mi><msub id="S4.SS1.p6.16.m16.1.1.3" xref="S4.SS1.p6.16.m16.1.1.3.cmml"><mi id="S4.SS1.p6.16.m16.1.1.3.2" xref="S4.SS1.p6.16.m16.1.1.3.2.cmml">T</mi><mi id="S4.SS1.p6.16.m16.1.1.3.3" xref="S4.SS1.p6.16.m16.1.1.3.3.cmml">c</mi></msub></msup><annotation-xml encoding="MathML-Content" id="S4.SS1.p6.16.m16.1b"><apply id="S4.SS1.p6.16.m16.1.1.cmml" xref="S4.SS1.p6.16.m16.1.1"><csymbol cd="ambiguous" id="S4.SS1.p6.16.m16.1.1.1.cmml" xref="S4.SS1.p6.16.m16.1.1">superscript</csymbol><ci id="S4.SS1.p6.16.m16.1.1.2.cmml" xref="S4.SS1.p6.16.m16.1.1.2">𝒙</ci><apply id="S4.SS1.p6.16.m16.1.1.3.cmml" xref="S4.SS1.p6.16.m16.1.1.3"><csymbol cd="ambiguous" id="S4.SS1.p6.16.m16.1.1.3.1.cmml" xref="S4.SS1.p6.16.m16.1.1.3">subscript</csymbol><ci id="S4.SS1.p6.16.m16.1.1.3.2.cmml" xref="S4.SS1.p6.16.m16.1.1.3.2">𝑇</ci><ci id="S4.SS1.p6.16.m16.1.1.3.3.cmml" xref="S4.SS1.p6.16.m16.1.1.3.3">𝑐</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p6.16.m16.1c">{\bm{x}}^{T_{c}}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p6.16.m16.1d">bold_italic_x start_POSTSUPERSCRIPT italic_T start_POSTSUBSCRIPT italic_c end_POSTSUBSCRIPT end_POSTSUPERSCRIPT</annotation></semantics></math> to the domain of normal clean images in its reverse process.</p>
</div>
<figure id="S4.F2" class="ltx_figure">
<div class="ltx_flex_figure">

<div class="ltx_flex_cell 
                  ltx_flex_size_2">
<figure id="S4.F2.sf1" class="ltx_figure ltx_flex_size_2 ltx_align_center"><img src="/html/2205.14969/assets/figures/Left_pic.png" id="S4.F2.sf1.g1" class="ltx_graphics ltx_centering ltx_img_portrait" width="192" height="258" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S4.F2.sf1.2.1.1" class="ltx_text" style="font-size:80%;">(a)</span> </span><span id="S4.F2.sf1.3.2" class="ltx_text" style="font-size:80%;">The diffusion process and reverse process</span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell 
                  ltx_flex_size_2">
<figure id="S4.F2.sf2" class="ltx_figure ltx_flex_size_2 ltx_align_center"><img src="/html/2205.14969/assets/figures/Guidance_2nd.png" id="S4.F2.sf2.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="383" height="260" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S4.F2.sf2.2.1.1" class="ltx_text" style="font-size:80%;">(b)</span> </span><span id="S4.F2.sf2.3.2" class="ltx_text" style="font-size:80%;">How we add guidance during reverse process to avoid the randomness of reverse process.</span></figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 2: </span>This figure plots how the purification progress works. The black dots illustrate the purification progress of our method. The <span id="S4.F2.3.1" class="ltx_text" style="color:#00FF00;">green</span> and <span id="S4.F2.4.2" class="ltx_text" style="color:#0000FF;">blue</span> contour plots represent the distributions of adversarial images and natural images. Given an adversarial image, we first diffuse it with Gaussian noise and remove the noise during reverse process steply. This progress gradually projects an adversarial image to a classifiable natural image. </figcaption>
</figure>
<div id="S4.SS1.p7" class="ltx_para">
<p id="S4.SS1.p7.5" class="ltx_p">In the above purification process, we can not choose a too large <math id="S4.SS1.p7.1.m1.1" class="ltx_Math" alttext="{T_{c}}" display="inline"><semantics id="S4.SS1.p7.1.m1.1a"><msub id="S4.SS1.p7.1.m1.1.1" xref="S4.SS1.p7.1.m1.1.1.cmml"><mi id="S4.SS1.p7.1.m1.1.1.2" xref="S4.SS1.p7.1.m1.1.1.2.cmml">T</mi><mi id="S4.SS1.p7.1.m1.1.1.3" xref="S4.SS1.p7.1.m1.1.1.3.cmml">c</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.p7.1.m1.1b"><apply id="S4.SS1.p7.1.m1.1.1.cmml" xref="S4.SS1.p7.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS1.p7.1.m1.1.1.1.cmml" xref="S4.SS1.p7.1.m1.1.1">subscript</csymbol><ci id="S4.SS1.p7.1.m1.1.1.2.cmml" xref="S4.SS1.p7.1.m1.1.1.2">𝑇</ci><ci id="S4.SS1.p7.1.m1.1.1.3.cmml" xref="S4.SS1.p7.1.m1.1.1.3">𝑐</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p7.1.m1.1c">{T_{c}}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p7.1.m1.1d">italic_T start_POSTSUBSCRIPT italic_c end_POSTSUBSCRIPT</annotation></semantics></math>, because we need to preserve the content in the clean image, but small <math id="S4.SS1.p7.2.m2.1" class="ltx_Math" alttext="{T_{c}}" display="inline"><semantics id="S4.SS1.p7.2.m2.1a"><msub id="S4.SS1.p7.2.m2.1.1" xref="S4.SS1.p7.2.m2.1.1.cmml"><mi id="S4.SS1.p7.2.m2.1.1.2" xref="S4.SS1.p7.2.m2.1.1.2.cmml">T</mi><mi id="S4.SS1.p7.2.m2.1.1.3" xref="S4.SS1.p7.2.m2.1.1.3.cmml">c</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.p7.2.m2.1b"><apply id="S4.SS1.p7.2.m2.1.1.cmml" xref="S4.SS1.p7.2.m2.1.1"><csymbol cd="ambiguous" id="S4.SS1.p7.2.m2.1.1.1.cmml" xref="S4.SS1.p7.2.m2.1.1">subscript</csymbol><ci id="S4.SS1.p7.2.m2.1.1.2.cmml" xref="S4.SS1.p7.2.m2.1.1.2">𝑇</ci><ci id="S4.SS1.p7.2.m2.1.1.3.cmml" xref="S4.SS1.p7.2.m2.1.1.3">𝑐</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p7.2.m2.1c">{T_{c}}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p7.2.m2.1d">italic_T start_POSTSUBSCRIPT italic_c end_POSTSUBSCRIPT</annotation></semantics></math>’s leads to weak purification effect. Some of the adversarial perturbation may remain in the purified image when <math id="S4.SS1.p7.3.m3.1" class="ltx_Math" alttext="{T_{c}}" display="inline"><semantics id="S4.SS1.p7.3.m3.1a"><msub id="S4.SS1.p7.3.m3.1.1" xref="S4.SS1.p7.3.m3.1.1.cmml"><mi id="S4.SS1.p7.3.m3.1.1.2" xref="S4.SS1.p7.3.m3.1.1.2.cmml">T</mi><mi id="S4.SS1.p7.3.m3.1.1.3" xref="S4.SS1.p7.3.m3.1.1.3.cmml">c</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.p7.3.m3.1b"><apply id="S4.SS1.p7.3.m3.1.1.cmml" xref="S4.SS1.p7.3.m3.1.1"><csymbol cd="ambiguous" id="S4.SS1.p7.3.m3.1.1.1.cmml" xref="S4.SS1.p7.3.m3.1.1">subscript</csymbol><ci id="S4.SS1.p7.3.m3.1.1.2.cmml" xref="S4.SS1.p7.3.m3.1.1.2">𝑇</ci><ci id="S4.SS1.p7.3.m3.1.1.3.cmml" xref="S4.SS1.p7.3.m3.1.1.3">𝑐</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p7.3.m3.1c">{T_{c}}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p7.3.m3.1d">italic_T start_POSTSUBSCRIPT italic_c end_POSTSUBSCRIPT</annotation></semantics></math> is small.
To tackle this problem, we find that we can iteratively purify the adversarial images multiple times, each iteration with a not too large <math id="S4.SS1.p7.4.m4.1" class="ltx_Math" alttext="{T_{c}}" display="inline"><semantics id="S4.SS1.p7.4.m4.1a"><msub id="S4.SS1.p7.4.m4.1.1" xref="S4.SS1.p7.4.m4.1.1.cmml"><mi id="S4.SS1.p7.4.m4.1.1.2" xref="S4.SS1.p7.4.m4.1.1.2.cmml">T</mi><mi id="S4.SS1.p7.4.m4.1.1.3" xref="S4.SS1.p7.4.m4.1.1.3.cmml">c</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.p7.4.m4.1b"><apply id="S4.SS1.p7.4.m4.1.1.cmml" xref="S4.SS1.p7.4.m4.1.1"><csymbol cd="ambiguous" id="S4.SS1.p7.4.m4.1.1.1.cmml" xref="S4.SS1.p7.4.m4.1.1">subscript</csymbol><ci id="S4.SS1.p7.4.m4.1.1.2.cmml" xref="S4.SS1.p7.4.m4.1.1.2">𝑇</ci><ci id="S4.SS1.p7.4.m4.1.1.3.cmml" xref="S4.SS1.p7.4.m4.1.1.3">𝑐</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p7.4.m4.1c">{T_{c}}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p7.4.m4.1d">italic_T start_POSTSUBSCRIPT italic_c end_POSTSUBSCRIPT</annotation></semantics></math>.
In this way, adversarial perturbation survived in previous purification iterations, could be removed in later iterations.
We find that this strategy is better than purifying the adversarial images once with a large <math id="S4.SS1.p7.5.m5.1" class="ltx_Math" alttext="{T_{c}}" display="inline"><semantics id="S4.SS1.p7.5.m5.1a"><msub id="S4.SS1.p7.5.m5.1.1" xref="S4.SS1.p7.5.m5.1.1.cmml"><mi id="S4.SS1.p7.5.m5.1.1.2" xref="S4.SS1.p7.5.m5.1.1.2.cmml">T</mi><mi id="S4.SS1.p7.5.m5.1.1.3" xref="S4.SS1.p7.5.m5.1.1.3.cmml">c</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.p7.5.m5.1b"><apply id="S4.SS1.p7.5.m5.1.1.cmml" xref="S4.SS1.p7.5.m5.1.1"><csymbol cd="ambiguous" id="S4.SS1.p7.5.m5.1.1.1.cmml" xref="S4.SS1.p7.5.m5.1.1">subscript</csymbol><ci id="S4.SS1.p7.5.m5.1.1.2.cmml" xref="S4.SS1.p7.5.m5.1.1.2">𝑇</ci><ci id="S4.SS1.p7.5.m5.1.1.3.cmml" xref="S4.SS1.p7.5.m5.1.1.3">𝑐</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p7.5.m5.1c">{T_{c}}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p7.5.m5.1d">italic_T start_POSTSUBSCRIPT italic_c end_POSTSUBSCRIPT</annotation></semantics></math> in our experiments, which is shown in figure <a href="#S4.F4" title="Figure 4 ‣ 4.2 Guided DDPM ‣ 4 Methodology ‣ Guided Diffusion Model for Adversarial Purification" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>(up).
The detailed purification algorithm with multiple iterations is listed in algorithm  <a href="#alg1" title="Algorithm 1 ‣ 4.1 Diffusion Method for Adversarial Purification ‣ 4 Methodology ‣ Guided Diffusion Model for Adversarial Purification" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>.</p>
</div>
<figure id="alg1" class="ltx_float ltx_float_algorithm ltx_framed_top">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_float"><span id="alg1.2.1.1" class="ltx_text ltx_font_bold">Algorithm 1</span> </span> Adversarial purification with DDPM </figcaption>
<div id="alg1.3" class="ltx_listing ltx_listing">
<div id="alg1.l0" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l0.1.1.1" class="ltx_text" style="font-size:80%;">0:</span></span>  an input <math id="alg1.l0.m1.1" class="ltx_Math" alttext="x" display="inline"><semantics id="alg1.l0.m1.1a"><mi id="alg1.l0.m1.1.1" xref="alg1.l0.m1.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="alg1.l0.m1.1b"><ci id="alg1.l0.m1.1.1.cmml" xref="alg1.l0.m1.1.1">𝑥</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l0.m1.1c">x</annotation><annotation encoding="application/x-llamapun" id="alg1.l0.m1.1d">italic_x</annotation></semantics></math>, diffusion length <math id="alg1.l0.m2.1" class="ltx_Math" alttext="T_{c}" display="inline"><semantics id="alg1.l0.m2.1a"><msub id="alg1.l0.m2.1.1" xref="alg1.l0.m2.1.1.cmml"><mi id="alg1.l0.m2.1.1.2" xref="alg1.l0.m2.1.1.2.cmml">T</mi><mi id="alg1.l0.m2.1.1.3" xref="alg1.l0.m2.1.1.3.cmml">c</mi></msub><annotation-xml encoding="MathML-Content" id="alg1.l0.m2.1b"><apply id="alg1.l0.m2.1.1.cmml" xref="alg1.l0.m2.1.1"><csymbol cd="ambiguous" id="alg1.l0.m2.1.1.1.cmml" xref="alg1.l0.m2.1.1">subscript</csymbol><ci id="alg1.l0.m2.1.1.2.cmml" xref="alg1.l0.m2.1.1.2">𝑇</ci><ci id="alg1.l0.m2.1.1.3.cmml" xref="alg1.l0.m2.1.1.3">𝑐</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l0.m2.1c">T_{c}</annotation><annotation encoding="application/x-llamapun" id="alg1.l0.m2.1d">italic_T start_POSTSUBSCRIPT italic_c end_POSTSUBSCRIPT</annotation></semantics></math> per each purification run, number of purification iterations M.

</div>
<div id="alg1.l1" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l1.1.1.1" class="ltx_text" style="font-size:80%;">1:</span></span>  <span id="alg1.l1.2" class="ltx_text ltx_font_bold">for</span> <math id="alg1.l1.m1.1" class="ltx_Math" alttext="i" display="inline"><semantics id="alg1.l1.m1.1a"><mi id="alg1.l1.m1.1.1" xref="alg1.l1.m1.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="alg1.l1.m1.1b"><ci id="alg1.l1.m1.1.1.cmml" xref="alg1.l1.m1.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l1.m1.1c">i</annotation><annotation encoding="application/x-llamapun" id="alg1.l1.m1.1d">italic_i</annotation></semantics></math> <math id="alg1.l1.m2.1" class="ltx_Math" alttext="\leftarrow 1" display="inline"><semantics id="alg1.l1.m2.1a"><mrow id="alg1.l1.m2.1.1" xref="alg1.l1.m2.1.1.cmml"><mi id="alg1.l1.m2.1.1.2" xref="alg1.l1.m2.1.1.2.cmml"></mi><mo stretchy="false" id="alg1.l1.m2.1.1.1" xref="alg1.l1.m2.1.1.1.cmml">←</mo><mn id="alg1.l1.m2.1.1.3" xref="alg1.l1.m2.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="alg1.l1.m2.1b"><apply id="alg1.l1.m2.1.1.cmml" xref="alg1.l1.m2.1.1"><ci id="alg1.l1.m2.1.1.1.cmml" xref="alg1.l1.m2.1.1.1">←</ci><csymbol cd="latexml" id="alg1.l1.m2.1.1.2.cmml" xref="alg1.l1.m2.1.1.2">absent</csymbol><cn type="integer" id="alg1.l1.m2.1.1.3.cmml" xref="alg1.l1.m2.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l1.m2.1c">\leftarrow 1</annotation><annotation encoding="application/x-llamapun" id="alg1.l1.m2.1d">← 1</annotation></semantics></math> to <math id="alg1.l1.m3.1" class="ltx_Math" alttext="M" display="inline"><semantics id="alg1.l1.m3.1a"><mi id="alg1.l1.m3.1.1" xref="alg1.l1.m3.1.1.cmml">M</mi><annotation-xml encoding="MathML-Content" id="alg1.l1.m3.1b"><ci id="alg1.l1.m3.1.1.cmml" xref="alg1.l1.m3.1.1">𝑀</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l1.m3.1c">M</annotation><annotation encoding="application/x-llamapun" id="alg1.l1.m3.1d">italic_M</annotation></semantics></math> <span id="alg1.l1.3" class="ltx_text ltx_font_bold">do</span>



</div>
<div id="alg1.l2" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l2.1.1.1" class="ltx_text" style="font-size:80%;">2:</span></span>     The diffusion process: <math id="alg1.l2.m1.1" class="ltx_Math" alttext="{\bm{x}}^{t}=\sqrt{\bar{\alpha}_{t}}(x+v_{perb})+\sqrt{1-\bar{\alpha}_{t}}\bm{\epsilon}," display="inline"><semantics id="alg1.l2.m1.1a"><mrow id="alg1.l2.m1.1.1.1" xref="alg1.l2.m1.1.1.1.1.cmml"><mrow id="alg1.l2.m1.1.1.1.1" xref="alg1.l2.m1.1.1.1.1.cmml"><msup id="alg1.l2.m1.1.1.1.1.3" xref="alg1.l2.m1.1.1.1.1.3.cmml"><mi id="alg1.l2.m1.1.1.1.1.3.2" xref="alg1.l2.m1.1.1.1.1.3.2.cmml">𝒙</mi><mi id="alg1.l2.m1.1.1.1.1.3.3" xref="alg1.l2.m1.1.1.1.1.3.3.cmml">t</mi></msup><mo id="alg1.l2.m1.1.1.1.1.2" xref="alg1.l2.m1.1.1.1.1.2.cmml">=</mo><mrow id="alg1.l2.m1.1.1.1.1.1" xref="alg1.l2.m1.1.1.1.1.1.cmml"><mrow id="alg1.l2.m1.1.1.1.1.1.1" xref="alg1.l2.m1.1.1.1.1.1.1.cmml"><msqrt id="alg1.l2.m1.1.1.1.1.1.1.3" xref="alg1.l2.m1.1.1.1.1.1.1.3.cmml"><msub id="alg1.l2.m1.1.1.1.1.1.1.3.2" xref="alg1.l2.m1.1.1.1.1.1.1.3.2.cmml"><mover accent="true" id="alg1.l2.m1.1.1.1.1.1.1.3.2.2" xref="alg1.l2.m1.1.1.1.1.1.1.3.2.2.cmml"><mi id="alg1.l2.m1.1.1.1.1.1.1.3.2.2.2" xref="alg1.l2.m1.1.1.1.1.1.1.3.2.2.2.cmml">α</mi><mo id="alg1.l2.m1.1.1.1.1.1.1.3.2.2.1" xref="alg1.l2.m1.1.1.1.1.1.1.3.2.2.1.cmml">¯</mo></mover><mi id="alg1.l2.m1.1.1.1.1.1.1.3.2.3" xref="alg1.l2.m1.1.1.1.1.1.1.3.2.3.cmml">t</mi></msub></msqrt><mo id="alg1.l2.m1.1.1.1.1.1.1.2" xref="alg1.l2.m1.1.1.1.1.1.1.2.cmml">⁢</mo><mrow id="alg1.l2.m1.1.1.1.1.1.1.1.1" xref="alg1.l2.m1.1.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="alg1.l2.m1.1.1.1.1.1.1.1.1.2" xref="alg1.l2.m1.1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="alg1.l2.m1.1.1.1.1.1.1.1.1.1" xref="alg1.l2.m1.1.1.1.1.1.1.1.1.1.cmml"><mi id="alg1.l2.m1.1.1.1.1.1.1.1.1.1.2" xref="alg1.l2.m1.1.1.1.1.1.1.1.1.1.2.cmml">x</mi><mo id="alg1.l2.m1.1.1.1.1.1.1.1.1.1.1" xref="alg1.l2.m1.1.1.1.1.1.1.1.1.1.1.cmml">+</mo><msub id="alg1.l2.m1.1.1.1.1.1.1.1.1.1.3" xref="alg1.l2.m1.1.1.1.1.1.1.1.1.1.3.cmml"><mi id="alg1.l2.m1.1.1.1.1.1.1.1.1.1.3.2" xref="alg1.l2.m1.1.1.1.1.1.1.1.1.1.3.2.cmml">v</mi><mrow id="alg1.l2.m1.1.1.1.1.1.1.1.1.1.3.3" xref="alg1.l2.m1.1.1.1.1.1.1.1.1.1.3.3.cmml"><mi id="alg1.l2.m1.1.1.1.1.1.1.1.1.1.3.3.2" xref="alg1.l2.m1.1.1.1.1.1.1.1.1.1.3.3.2.cmml">p</mi><mo id="alg1.l2.m1.1.1.1.1.1.1.1.1.1.3.3.1" xref="alg1.l2.m1.1.1.1.1.1.1.1.1.1.3.3.1.cmml">⁢</mo><mi id="alg1.l2.m1.1.1.1.1.1.1.1.1.1.3.3.3" xref="alg1.l2.m1.1.1.1.1.1.1.1.1.1.3.3.3.cmml">e</mi><mo id="alg1.l2.m1.1.1.1.1.1.1.1.1.1.3.3.1a" xref="alg1.l2.m1.1.1.1.1.1.1.1.1.1.3.3.1.cmml">⁢</mo><mi id="alg1.l2.m1.1.1.1.1.1.1.1.1.1.3.3.4" xref="alg1.l2.m1.1.1.1.1.1.1.1.1.1.3.3.4.cmml">r</mi><mo id="alg1.l2.m1.1.1.1.1.1.1.1.1.1.3.3.1b" xref="alg1.l2.m1.1.1.1.1.1.1.1.1.1.3.3.1.cmml">⁢</mo><mi id="alg1.l2.m1.1.1.1.1.1.1.1.1.1.3.3.5" xref="alg1.l2.m1.1.1.1.1.1.1.1.1.1.3.3.5.cmml">b</mi></mrow></msub></mrow><mo stretchy="false" id="alg1.l2.m1.1.1.1.1.1.1.1.1.3" xref="alg1.l2.m1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="alg1.l2.m1.1.1.1.1.1.2" xref="alg1.l2.m1.1.1.1.1.1.2.cmml">+</mo><mrow id="alg1.l2.m1.1.1.1.1.1.3" xref="alg1.l2.m1.1.1.1.1.1.3.cmml"><msqrt id="alg1.l2.m1.1.1.1.1.1.3.2" xref="alg1.l2.m1.1.1.1.1.1.3.2.cmml"><mrow id="alg1.l2.m1.1.1.1.1.1.3.2.2" xref="alg1.l2.m1.1.1.1.1.1.3.2.2.cmml"><mn id="alg1.l2.m1.1.1.1.1.1.3.2.2.2" xref="alg1.l2.m1.1.1.1.1.1.3.2.2.2.cmml">1</mn><mo id="alg1.l2.m1.1.1.1.1.1.3.2.2.1" xref="alg1.l2.m1.1.1.1.1.1.3.2.2.1.cmml">−</mo><msub id="alg1.l2.m1.1.1.1.1.1.3.2.2.3" xref="alg1.l2.m1.1.1.1.1.1.3.2.2.3.cmml"><mover accent="true" id="alg1.l2.m1.1.1.1.1.1.3.2.2.3.2" xref="alg1.l2.m1.1.1.1.1.1.3.2.2.3.2.cmml"><mi id="alg1.l2.m1.1.1.1.1.1.3.2.2.3.2.2" xref="alg1.l2.m1.1.1.1.1.1.3.2.2.3.2.2.cmml">α</mi><mo id="alg1.l2.m1.1.1.1.1.1.3.2.2.3.2.1" xref="alg1.l2.m1.1.1.1.1.1.3.2.2.3.2.1.cmml">¯</mo></mover><mi id="alg1.l2.m1.1.1.1.1.1.3.2.2.3.3" xref="alg1.l2.m1.1.1.1.1.1.3.2.2.3.3.cmml">t</mi></msub></mrow></msqrt><mo id="alg1.l2.m1.1.1.1.1.1.3.1" xref="alg1.l2.m1.1.1.1.1.1.3.1.cmml">⁢</mo><mi mathvariant="bold-italic" id="alg1.l2.m1.1.1.1.1.1.3.3" xref="alg1.l2.m1.1.1.1.1.1.3.3.cmml">ϵ</mi></mrow></mrow></mrow><mo id="alg1.l2.m1.1.1.1.2" xref="alg1.l2.m1.1.1.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="alg1.l2.m1.1b"><apply id="alg1.l2.m1.1.1.1.1.cmml" xref="alg1.l2.m1.1.1.1"><eq id="alg1.l2.m1.1.1.1.1.2.cmml" xref="alg1.l2.m1.1.1.1.1.2"></eq><apply id="alg1.l2.m1.1.1.1.1.3.cmml" xref="alg1.l2.m1.1.1.1.1.3"><csymbol cd="ambiguous" id="alg1.l2.m1.1.1.1.1.3.1.cmml" xref="alg1.l2.m1.1.1.1.1.3">superscript</csymbol><ci id="alg1.l2.m1.1.1.1.1.3.2.cmml" xref="alg1.l2.m1.1.1.1.1.3.2">𝒙</ci><ci id="alg1.l2.m1.1.1.1.1.3.3.cmml" xref="alg1.l2.m1.1.1.1.1.3.3">𝑡</ci></apply><apply id="alg1.l2.m1.1.1.1.1.1.cmml" xref="alg1.l2.m1.1.1.1.1.1"><plus id="alg1.l2.m1.1.1.1.1.1.2.cmml" xref="alg1.l2.m1.1.1.1.1.1.2"></plus><apply id="alg1.l2.m1.1.1.1.1.1.1.cmml" xref="alg1.l2.m1.1.1.1.1.1.1"><times id="alg1.l2.m1.1.1.1.1.1.1.2.cmml" xref="alg1.l2.m1.1.1.1.1.1.1.2"></times><apply id="alg1.l2.m1.1.1.1.1.1.1.3.cmml" xref="alg1.l2.m1.1.1.1.1.1.1.3"><root id="alg1.l2.m1.1.1.1.1.1.1.3a.cmml" xref="alg1.l2.m1.1.1.1.1.1.1.3"></root><apply id="alg1.l2.m1.1.1.1.1.1.1.3.2.cmml" xref="alg1.l2.m1.1.1.1.1.1.1.3.2"><csymbol cd="ambiguous" id="alg1.l2.m1.1.1.1.1.1.1.3.2.1.cmml" xref="alg1.l2.m1.1.1.1.1.1.1.3.2">subscript</csymbol><apply id="alg1.l2.m1.1.1.1.1.1.1.3.2.2.cmml" xref="alg1.l2.m1.1.1.1.1.1.1.3.2.2"><ci id="alg1.l2.m1.1.1.1.1.1.1.3.2.2.1.cmml" xref="alg1.l2.m1.1.1.1.1.1.1.3.2.2.1">¯</ci><ci id="alg1.l2.m1.1.1.1.1.1.1.3.2.2.2.cmml" xref="alg1.l2.m1.1.1.1.1.1.1.3.2.2.2">𝛼</ci></apply><ci id="alg1.l2.m1.1.1.1.1.1.1.3.2.3.cmml" xref="alg1.l2.m1.1.1.1.1.1.1.3.2.3">𝑡</ci></apply></apply><apply id="alg1.l2.m1.1.1.1.1.1.1.1.1.1.cmml" xref="alg1.l2.m1.1.1.1.1.1.1.1.1"><plus id="alg1.l2.m1.1.1.1.1.1.1.1.1.1.1.cmml" xref="alg1.l2.m1.1.1.1.1.1.1.1.1.1.1"></plus><ci id="alg1.l2.m1.1.1.1.1.1.1.1.1.1.2.cmml" xref="alg1.l2.m1.1.1.1.1.1.1.1.1.1.2">𝑥</ci><apply id="alg1.l2.m1.1.1.1.1.1.1.1.1.1.3.cmml" xref="alg1.l2.m1.1.1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="alg1.l2.m1.1.1.1.1.1.1.1.1.1.3.1.cmml" xref="alg1.l2.m1.1.1.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="alg1.l2.m1.1.1.1.1.1.1.1.1.1.3.2.cmml" xref="alg1.l2.m1.1.1.1.1.1.1.1.1.1.3.2">𝑣</ci><apply id="alg1.l2.m1.1.1.1.1.1.1.1.1.1.3.3.cmml" xref="alg1.l2.m1.1.1.1.1.1.1.1.1.1.3.3"><times id="alg1.l2.m1.1.1.1.1.1.1.1.1.1.3.3.1.cmml" xref="alg1.l2.m1.1.1.1.1.1.1.1.1.1.3.3.1"></times><ci id="alg1.l2.m1.1.1.1.1.1.1.1.1.1.3.3.2.cmml" xref="alg1.l2.m1.1.1.1.1.1.1.1.1.1.3.3.2">𝑝</ci><ci id="alg1.l2.m1.1.1.1.1.1.1.1.1.1.3.3.3.cmml" xref="alg1.l2.m1.1.1.1.1.1.1.1.1.1.3.3.3">𝑒</ci><ci id="alg1.l2.m1.1.1.1.1.1.1.1.1.1.3.3.4.cmml" xref="alg1.l2.m1.1.1.1.1.1.1.1.1.1.3.3.4">𝑟</ci><ci id="alg1.l2.m1.1.1.1.1.1.1.1.1.1.3.3.5.cmml" xref="alg1.l2.m1.1.1.1.1.1.1.1.1.1.3.3.5">𝑏</ci></apply></apply></apply></apply><apply id="alg1.l2.m1.1.1.1.1.1.3.cmml" xref="alg1.l2.m1.1.1.1.1.1.3"><times id="alg1.l2.m1.1.1.1.1.1.3.1.cmml" xref="alg1.l2.m1.1.1.1.1.1.3.1"></times><apply id="alg1.l2.m1.1.1.1.1.1.3.2.cmml" xref="alg1.l2.m1.1.1.1.1.1.3.2"><root id="alg1.l2.m1.1.1.1.1.1.3.2a.cmml" xref="alg1.l2.m1.1.1.1.1.1.3.2"></root><apply id="alg1.l2.m1.1.1.1.1.1.3.2.2.cmml" xref="alg1.l2.m1.1.1.1.1.1.3.2.2"><minus id="alg1.l2.m1.1.1.1.1.1.3.2.2.1.cmml" xref="alg1.l2.m1.1.1.1.1.1.3.2.2.1"></minus><cn type="integer" id="alg1.l2.m1.1.1.1.1.1.3.2.2.2.cmml" xref="alg1.l2.m1.1.1.1.1.1.3.2.2.2">1</cn><apply id="alg1.l2.m1.1.1.1.1.1.3.2.2.3.cmml" xref="alg1.l2.m1.1.1.1.1.1.3.2.2.3"><csymbol cd="ambiguous" id="alg1.l2.m1.1.1.1.1.1.3.2.2.3.1.cmml" xref="alg1.l2.m1.1.1.1.1.1.3.2.2.3">subscript</csymbol><apply id="alg1.l2.m1.1.1.1.1.1.3.2.2.3.2.cmml" xref="alg1.l2.m1.1.1.1.1.1.3.2.2.3.2"><ci id="alg1.l2.m1.1.1.1.1.1.3.2.2.3.2.1.cmml" xref="alg1.l2.m1.1.1.1.1.1.3.2.2.3.2.1">¯</ci><ci id="alg1.l2.m1.1.1.1.1.1.3.2.2.3.2.2.cmml" xref="alg1.l2.m1.1.1.1.1.1.3.2.2.3.2.2">𝛼</ci></apply><ci id="alg1.l2.m1.1.1.1.1.1.3.2.2.3.3.cmml" xref="alg1.l2.m1.1.1.1.1.1.3.2.2.3.3">𝑡</ci></apply></apply></apply><ci id="alg1.l2.m1.1.1.1.1.1.3.3.cmml" xref="alg1.l2.m1.1.1.1.1.1.3.3">bold-italic-ϵ</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l2.m1.1c">{\bm{x}}^{t}=\sqrt{\bar{\alpha}_{t}}(x+v_{perb})+\sqrt{1-\bar{\alpha}_{t}}\bm{\epsilon},</annotation><annotation encoding="application/x-llamapun" id="alg1.l2.m1.1d">bold_italic_x start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT = square-root start_ARG over¯ start_ARG italic_α end_ARG start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT end_ARG ( italic_x + italic_v start_POSTSUBSCRIPT italic_p italic_e italic_r italic_b end_POSTSUBSCRIPT ) + square-root start_ARG 1 - over¯ start_ARG italic_α end_ARG start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT end_ARG bold_italic_ϵ ,</annotation></semantics></math>

</div>
<div id="alg1.l3" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l3.1.1.1" class="ltx_text" style="font-size:80%;">3:</span></span>     <span id="alg1.l3.2" class="ltx_text ltx_font_bold">for</span> <math id="alg1.l3.m1.1" class="ltx_Math" alttext="t\leftarrow T_{c}" display="inline"><semantics id="alg1.l3.m1.1a"><mrow id="alg1.l3.m1.1.1" xref="alg1.l3.m1.1.1.cmml"><mi id="alg1.l3.m1.1.1.2" xref="alg1.l3.m1.1.1.2.cmml">t</mi><mo stretchy="false" id="alg1.l3.m1.1.1.1" xref="alg1.l3.m1.1.1.1.cmml">←</mo><msub id="alg1.l3.m1.1.1.3" xref="alg1.l3.m1.1.1.3.cmml"><mi id="alg1.l3.m1.1.1.3.2" xref="alg1.l3.m1.1.1.3.2.cmml">T</mi><mi id="alg1.l3.m1.1.1.3.3" xref="alg1.l3.m1.1.1.3.3.cmml">c</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="alg1.l3.m1.1b"><apply id="alg1.l3.m1.1.1.cmml" xref="alg1.l3.m1.1.1"><ci id="alg1.l3.m1.1.1.1.cmml" xref="alg1.l3.m1.1.1.1">←</ci><ci id="alg1.l3.m1.1.1.2.cmml" xref="alg1.l3.m1.1.1.2">𝑡</ci><apply id="alg1.l3.m1.1.1.3.cmml" xref="alg1.l3.m1.1.1.3"><csymbol cd="ambiguous" id="alg1.l3.m1.1.1.3.1.cmml" xref="alg1.l3.m1.1.1.3">subscript</csymbol><ci id="alg1.l3.m1.1.1.3.2.cmml" xref="alg1.l3.m1.1.1.3.2">𝑇</ci><ci id="alg1.l3.m1.1.1.3.3.cmml" xref="alg1.l3.m1.1.1.3.3">𝑐</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l3.m1.1c">t\leftarrow T_{c}</annotation><annotation encoding="application/x-llamapun" id="alg1.l3.m1.1d">italic_t ← italic_T start_POSTSUBSCRIPT italic_c end_POSTSUBSCRIPT</annotation></semantics></math> to <math id="alg1.l3.m2.1" class="ltx_Math" alttext="1" display="inline"><semantics id="alg1.l3.m2.1a"><mn id="alg1.l3.m2.1.1" xref="alg1.l3.m2.1.1.cmml">1</mn><annotation-xml encoding="MathML-Content" id="alg1.l3.m2.1b"><cn type="integer" id="alg1.l3.m2.1.1.cmml" xref="alg1.l3.m2.1.1">1</cn></annotation-xml><annotation encoding="application/x-tex" id="alg1.l3.m2.1c">1</annotation><annotation encoding="application/x-llamapun" id="alg1.l3.m2.1d">1</annotation></semantics></math> <span id="alg1.l3.3" class="ltx_text ltx_font_bold">do</span>



</div>
<div id="alg1.l4" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l4.1.1.1" class="ltx_text" style="font-size:80%;">4:</span></span>        The reverse process: <math id="alg1.l4.m1.2" class="ltx_Math" alttext="{\bm{x}}^{t-1}\sim p_{\bm{\theta}}({\bm{x}}^{t-1}|{\bm{x}}^{t},{\bm{c}})" display="inline"><semantics id="alg1.l4.m1.2a"><mrow id="alg1.l4.m1.2.2" xref="alg1.l4.m1.2.2.cmml"><msup id="alg1.l4.m1.2.2.3" xref="alg1.l4.m1.2.2.3.cmml"><mi id="alg1.l4.m1.2.2.3.2" xref="alg1.l4.m1.2.2.3.2.cmml">𝒙</mi><mrow id="alg1.l4.m1.2.2.3.3" xref="alg1.l4.m1.2.2.3.3.cmml"><mi id="alg1.l4.m1.2.2.3.3.2" xref="alg1.l4.m1.2.2.3.3.2.cmml">t</mi><mo id="alg1.l4.m1.2.2.3.3.1" xref="alg1.l4.m1.2.2.3.3.1.cmml">−</mo><mn id="alg1.l4.m1.2.2.3.3.3" xref="alg1.l4.m1.2.2.3.3.3.cmml">1</mn></mrow></msup><mo id="alg1.l4.m1.2.2.2" xref="alg1.l4.m1.2.2.2.cmml">∼</mo><mrow id="alg1.l4.m1.2.2.1" xref="alg1.l4.m1.2.2.1.cmml"><msub id="alg1.l4.m1.2.2.1.3" xref="alg1.l4.m1.2.2.1.3.cmml"><mi id="alg1.l4.m1.2.2.1.3.2" xref="alg1.l4.m1.2.2.1.3.2.cmml">p</mi><mi id="alg1.l4.m1.2.2.1.3.3" xref="alg1.l4.m1.2.2.1.3.3.cmml">𝜽</mi></msub><mo id="alg1.l4.m1.2.2.1.2" xref="alg1.l4.m1.2.2.1.2.cmml">⁢</mo><mrow id="alg1.l4.m1.2.2.1.1.1" xref="alg1.l4.m1.2.2.1.1.1.1.cmml"><mo stretchy="false" id="alg1.l4.m1.2.2.1.1.1.2" xref="alg1.l4.m1.2.2.1.1.1.1.cmml">(</mo><mrow id="alg1.l4.m1.2.2.1.1.1.1" xref="alg1.l4.m1.2.2.1.1.1.1.cmml"><msup id="alg1.l4.m1.2.2.1.1.1.1.3" xref="alg1.l4.m1.2.2.1.1.1.1.3.cmml"><mi id="alg1.l4.m1.2.2.1.1.1.1.3.2" xref="alg1.l4.m1.2.2.1.1.1.1.3.2.cmml">𝒙</mi><mrow id="alg1.l4.m1.2.2.1.1.1.1.3.3" xref="alg1.l4.m1.2.2.1.1.1.1.3.3.cmml"><mi id="alg1.l4.m1.2.2.1.1.1.1.3.3.2" xref="alg1.l4.m1.2.2.1.1.1.1.3.3.2.cmml">t</mi><mo id="alg1.l4.m1.2.2.1.1.1.1.3.3.1" xref="alg1.l4.m1.2.2.1.1.1.1.3.3.1.cmml">−</mo><mn id="alg1.l4.m1.2.2.1.1.1.1.3.3.3" xref="alg1.l4.m1.2.2.1.1.1.1.3.3.3.cmml">1</mn></mrow></msup><mo fence="false" id="alg1.l4.m1.2.2.1.1.1.1.2" xref="alg1.l4.m1.2.2.1.1.1.1.2.cmml">|</mo><mrow id="alg1.l4.m1.2.2.1.1.1.1.1.1" xref="alg1.l4.m1.2.2.1.1.1.1.1.2.cmml"><msup id="alg1.l4.m1.2.2.1.1.1.1.1.1.1" xref="alg1.l4.m1.2.2.1.1.1.1.1.1.1.cmml"><mi id="alg1.l4.m1.2.2.1.1.1.1.1.1.1.2" xref="alg1.l4.m1.2.2.1.1.1.1.1.1.1.2.cmml">𝒙</mi><mi id="alg1.l4.m1.2.2.1.1.1.1.1.1.1.3" xref="alg1.l4.m1.2.2.1.1.1.1.1.1.1.3.cmml">t</mi></msup><mo id="alg1.l4.m1.2.2.1.1.1.1.1.1.2" xref="alg1.l4.m1.2.2.1.1.1.1.1.2.cmml">,</mo><mi id="alg1.l4.m1.1.1" xref="alg1.l4.m1.1.1.cmml">𝒄</mi></mrow></mrow><mo stretchy="false" id="alg1.l4.m1.2.2.1.1.1.3" xref="alg1.l4.m1.2.2.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l4.m1.2b"><apply id="alg1.l4.m1.2.2.cmml" xref="alg1.l4.m1.2.2"><csymbol cd="latexml" id="alg1.l4.m1.2.2.2.cmml" xref="alg1.l4.m1.2.2.2">similar-to</csymbol><apply id="alg1.l4.m1.2.2.3.cmml" xref="alg1.l4.m1.2.2.3"><csymbol cd="ambiguous" id="alg1.l4.m1.2.2.3.1.cmml" xref="alg1.l4.m1.2.2.3">superscript</csymbol><ci id="alg1.l4.m1.2.2.3.2.cmml" xref="alg1.l4.m1.2.2.3.2">𝒙</ci><apply id="alg1.l4.m1.2.2.3.3.cmml" xref="alg1.l4.m1.2.2.3.3"><minus id="alg1.l4.m1.2.2.3.3.1.cmml" xref="alg1.l4.m1.2.2.3.3.1"></minus><ci id="alg1.l4.m1.2.2.3.3.2.cmml" xref="alg1.l4.m1.2.2.3.3.2">𝑡</ci><cn type="integer" id="alg1.l4.m1.2.2.3.3.3.cmml" xref="alg1.l4.m1.2.2.3.3.3">1</cn></apply></apply><apply id="alg1.l4.m1.2.2.1.cmml" xref="alg1.l4.m1.2.2.1"><times id="alg1.l4.m1.2.2.1.2.cmml" xref="alg1.l4.m1.2.2.1.2"></times><apply id="alg1.l4.m1.2.2.1.3.cmml" xref="alg1.l4.m1.2.2.1.3"><csymbol cd="ambiguous" id="alg1.l4.m1.2.2.1.3.1.cmml" xref="alg1.l4.m1.2.2.1.3">subscript</csymbol><ci id="alg1.l4.m1.2.2.1.3.2.cmml" xref="alg1.l4.m1.2.2.1.3.2">𝑝</ci><ci id="alg1.l4.m1.2.2.1.3.3.cmml" xref="alg1.l4.m1.2.2.1.3.3">𝜽</ci></apply><apply id="alg1.l4.m1.2.2.1.1.1.1.cmml" xref="alg1.l4.m1.2.2.1.1.1"><csymbol cd="latexml" id="alg1.l4.m1.2.2.1.1.1.1.2.cmml" xref="alg1.l4.m1.2.2.1.1.1.1.2">conditional</csymbol><apply id="alg1.l4.m1.2.2.1.1.1.1.3.cmml" xref="alg1.l4.m1.2.2.1.1.1.1.3"><csymbol cd="ambiguous" id="alg1.l4.m1.2.2.1.1.1.1.3.1.cmml" xref="alg1.l4.m1.2.2.1.1.1.1.3">superscript</csymbol><ci id="alg1.l4.m1.2.2.1.1.1.1.3.2.cmml" xref="alg1.l4.m1.2.2.1.1.1.1.3.2">𝒙</ci><apply id="alg1.l4.m1.2.2.1.1.1.1.3.3.cmml" xref="alg1.l4.m1.2.2.1.1.1.1.3.3"><minus id="alg1.l4.m1.2.2.1.1.1.1.3.3.1.cmml" xref="alg1.l4.m1.2.2.1.1.1.1.3.3.1"></minus><ci id="alg1.l4.m1.2.2.1.1.1.1.3.3.2.cmml" xref="alg1.l4.m1.2.2.1.1.1.1.3.3.2">𝑡</ci><cn type="integer" id="alg1.l4.m1.2.2.1.1.1.1.3.3.3.cmml" xref="alg1.l4.m1.2.2.1.1.1.1.3.3.3">1</cn></apply></apply><list id="alg1.l4.m1.2.2.1.1.1.1.1.2.cmml" xref="alg1.l4.m1.2.2.1.1.1.1.1.1"><apply id="alg1.l4.m1.2.2.1.1.1.1.1.1.1.cmml" xref="alg1.l4.m1.2.2.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="alg1.l4.m1.2.2.1.1.1.1.1.1.1.1.cmml" xref="alg1.l4.m1.2.2.1.1.1.1.1.1.1">superscript</csymbol><ci id="alg1.l4.m1.2.2.1.1.1.1.1.1.1.2.cmml" xref="alg1.l4.m1.2.2.1.1.1.1.1.1.1.2">𝒙</ci><ci id="alg1.l4.m1.2.2.1.1.1.1.1.1.1.3.cmml" xref="alg1.l4.m1.2.2.1.1.1.1.1.1.1.3">𝑡</ci></apply><ci id="alg1.l4.m1.1.1.cmml" xref="alg1.l4.m1.1.1">𝒄</ci></list></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l4.m1.2c">{\bm{x}}^{t-1}\sim p_{\bm{\theta}}({\bm{x}}^{t-1}|{\bm{x}}^{t},{\bm{c}})</annotation><annotation encoding="application/x-llamapun" id="alg1.l4.m1.2d">bold_italic_x start_POSTSUPERSCRIPT italic_t - 1 end_POSTSUPERSCRIPT ∼ italic_p start_POSTSUBSCRIPT bold_italic_θ end_POSTSUBSCRIPT ( bold_italic_x start_POSTSUPERSCRIPT italic_t - 1 end_POSTSUPERSCRIPT | bold_italic_x start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT , bold_italic_c )</annotation></semantics></math>

</div>
<div id="alg1.l5" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l5.1.1.1" class="ltx_text" style="font-size:80%;">5:</span></span>     <span id="alg1.l5.2" class="ltx_text ltx_font_bold">end</span> <span id="alg1.l5.3" class="ltx_text ltx_font_bold">for</span>
</div>
<div id="alg1.l6" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l6.1.1.1" class="ltx_text" style="font-size:80%;">6:</span></span>  <span id="alg1.l6.2" class="ltx_text ltx_font_bold">end</span> <span id="alg1.l6.3" class="ltx_text ltx_font_bold">for</span>
</div>
<div id="alg1.l7" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l7.1.1.1" class="ltx_text" style="font-size:80%;">7:</span></span>  <span id="alg1.l7.2" class="ltx_text ltx_font_bold">return</span>  <math id="alg1.l7.m1.1" class="ltx_Math" alttext="x_{0}" display="inline"><semantics id="alg1.l7.m1.1a"><msub id="alg1.l7.m1.1.1" xref="alg1.l7.m1.1.1.cmml"><mi id="alg1.l7.m1.1.1.2" xref="alg1.l7.m1.1.1.2.cmml">x</mi><mn id="alg1.l7.m1.1.1.3" xref="alg1.l7.m1.1.1.3.cmml">0</mn></msub><annotation-xml encoding="MathML-Content" id="alg1.l7.m1.1b"><apply id="alg1.l7.m1.1.1.cmml" xref="alg1.l7.m1.1.1"><csymbol cd="ambiguous" id="alg1.l7.m1.1.1.1.cmml" xref="alg1.l7.m1.1.1">subscript</csymbol><ci id="alg1.l7.m1.1.1.2.cmml" xref="alg1.l7.m1.1.1.2">𝑥</ci><cn type="integer" id="alg1.l7.m1.1.1.3.cmml" xref="alg1.l7.m1.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l7.m1.1c">x_{0}</annotation><annotation encoding="application/x-llamapun" id="alg1.l7.m1.1d">italic_x start_POSTSUBSCRIPT 0 end_POSTSUBSCRIPT</annotation></semantics></math>

</div>
</div>
</figure>
</section>
<section id="S4.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.2 </span>Guided DDPM</h3>

<div id="S4.SS2.p1" class="ltx_para">
<p id="S4.SS2.p1.2" class="ltx_p">As discussed in the above section, we face a trade-off between the purification effect and consistency with the original clean image.
If we use a too large diffusion length <math id="S4.SS2.p1.1.m1.1" class="ltx_Math" alttext="T_{c}" display="inline"><semantics id="S4.SS2.p1.1.m1.1a"><msub id="S4.SS2.p1.1.m1.1.1" xref="S4.SS2.p1.1.m1.1.1.cmml"><mi id="S4.SS2.p1.1.m1.1.1.2" xref="S4.SS2.p1.1.m1.1.1.2.cmml">T</mi><mi id="S4.SS2.p1.1.m1.1.1.3" xref="S4.SS2.p1.1.m1.1.1.3.cmml">c</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.p1.1.m1.1b"><apply id="S4.SS2.p1.1.m1.1.1.cmml" xref="S4.SS2.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS2.p1.1.m1.1.1.1.cmml" xref="S4.SS2.p1.1.m1.1.1">subscript</csymbol><ci id="S4.SS2.p1.1.m1.1.1.2.cmml" xref="S4.SS2.p1.1.m1.1.1.2">𝑇</ci><ci id="S4.SS2.p1.1.m1.1.1.3.cmml" xref="S4.SS2.p1.1.m1.1.1.3">𝑐</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p1.1.m1.1c">T_{c}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p1.1.m1.1d">italic_T start_POSTSUBSCRIPT italic_c end_POSTSUBSCRIPT</annotation></semantics></math>, the purified images will deviate from the original clean image as shown in Figure <a href="#S4.F4" title="Figure 4 ‣ 4.2 Guided DDPM ‣ 4 Methodology ‣ Guided Diffusion Model for Adversarial Purification" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>.
Even if we use a small diffusion length with multiple purification iterations as described in the above section, the purified image will still deviate from the original clean image as the iteration number increases. As shown in Figure <a href="#S4.F4" title="Figure 4 ‣ 4.2 Guided DDPM ‣ 4 Methodology ‣ Guided Diffusion Model for Adversarial Purification" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>, the classification accuracy would drop down when the iteration number become bigger.
We need to design a method that enables us to use a large diffusion length <math id="S4.SS2.p1.2.m2.1" class="ltx_Math" alttext="T_{c}" display="inline"><semantics id="S4.SS2.p1.2.m2.1a"><msub id="S4.SS2.p1.2.m2.1.1" xref="S4.SS2.p1.2.m2.1.1.cmml"><mi id="S4.SS2.p1.2.m2.1.1.2" xref="S4.SS2.p1.2.m2.1.1.2.cmml">T</mi><mi id="S4.SS2.p1.2.m2.1.1.3" xref="S4.SS2.p1.2.m2.1.1.3.cmml">c</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.p1.2.m2.1b"><apply id="S4.SS2.p1.2.m2.1.1.cmml" xref="S4.SS2.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S4.SS2.p1.2.m2.1.1.1.cmml" xref="S4.SS2.p1.2.m2.1.1">subscript</csymbol><ci id="S4.SS2.p1.2.m2.1.1.2.cmml" xref="S4.SS2.p1.2.m2.1.1.2">𝑇</ci><ci id="S4.SS2.p1.2.m2.1.1.3.cmml" xref="S4.SS2.p1.2.m2.1.1.3">𝑐</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p1.2.m2.1c">T_{c}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p1.2.m2.1d">italic_T start_POSTSUBSCRIPT italic_c end_POSTSUBSCRIPT</annotation></semantics></math> to achieve strong purification effect, while at the same time ensures that the purified image is close the original clean image.</p>
</div>
<figure id="S4.F4" class="ltx_figure">

<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">Figure 3: </span>Generated images from <math id="S4.F4.3.m1.1" class="ltx_Math" alttext="T_{c}" display="inline"><semantics id="S4.F4.3.m1.1b"><msub id="S4.F4.3.m1.1.1" xref="S4.F4.3.m1.1.1.cmml"><mi id="S4.F4.3.m1.1.1.2" xref="S4.F4.3.m1.1.1.2.cmml">T</mi><mi id="S4.F4.3.m1.1.1.3" xref="S4.F4.3.m1.1.1.3.cmml">c</mi></msub><annotation-xml encoding="MathML-Content" id="S4.F4.3.m1.1c"><apply id="S4.F4.3.m1.1.1.cmml" xref="S4.F4.3.m1.1.1"><csymbol cd="ambiguous" id="S4.F4.3.m1.1.1.1.cmml" xref="S4.F4.3.m1.1.1">subscript</csymbol><ci id="S4.F4.3.m1.1.1.2.cmml" xref="S4.F4.3.m1.1.1.2">𝑇</ci><ci id="S4.F4.3.m1.1.1.3.cmml" xref="S4.F4.3.m1.1.1.3">𝑐</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.F4.3.m1.1d">T_{c}</annotation><annotation encoding="application/x-llamapun" id="S4.F4.3.m1.1e">italic_T start_POSTSUBSCRIPT italic_c end_POSTSUBSCRIPT</annotation></semantics></math>=0, 200, 400 and 600 steps diffusion and reverse process.</figcaption><div class="ltx_flex_figure">

<div class="ltx_flex_cell 
                  ltx_flex_size_2"><span id="S4.F4.1" class="ltx_inline-para ltx_minipage ltx_flex_size_2 ltx_align_top" style="width:260.2pt;">
<span id="S4.F4.1.p1" class="ltx_para ltx_align_center"><img src="/html/2205.14969/assets/figures/reverse_vary.png" id="S4.F4.1.p1.g1" class="ltx_graphics ltx_img_landscape" width="568" height="362" alt="Refer to caption">
</span></span></div>
<div class="ltx_flex_cell 
                  ltx_flex_size_2"><span id="S4.F4.4" class="ltx_inline-para ltx_minipage ltx_flex_size_2 ltx_align_top" style="width:160.4pt;">
<span id="S4.F4.4.p1" class="ltx_para ltx_align_center"><img src="/html/2205.14969/assets/figures/right.png" id="S4.F4.4.p1.g1" class="ltx_graphics ltx_img_square" width="586" height="641" alt="Refer to caption">
</span></span></div>
</div>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">Figure 3: </span>Generated images from <math id="S4.F4.3.m1.1" class="ltx_Math" alttext="T_{c}" display="inline"><semantics id="S4.F4.3.m1.1b"><msub id="S4.F4.3.m1.1.1" xref="S4.F4.3.m1.1.1.cmml"><mi id="S4.F4.3.m1.1.1.2" xref="S4.F4.3.m1.1.1.2.cmml">T</mi><mi id="S4.F4.3.m1.1.1.3" xref="S4.F4.3.m1.1.1.3.cmml">c</mi></msub><annotation-xml encoding="MathML-Content" id="S4.F4.3.m1.1c"><apply id="S4.F4.3.m1.1.1.cmml" xref="S4.F4.3.m1.1.1"><csymbol cd="ambiguous" id="S4.F4.3.m1.1.1.1.cmml" xref="S4.F4.3.m1.1.1">subscript</csymbol><ci id="S4.F4.3.m1.1.1.2.cmml" xref="S4.F4.3.m1.1.1.2">𝑇</ci><ci id="S4.F4.3.m1.1.1.3.cmml" xref="S4.F4.3.m1.1.1.3">𝑐</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.F4.3.m1.1d">T_{c}</annotation><annotation encoding="application/x-llamapun" id="S4.F4.3.m1.1e">italic_T start_POSTSUBSCRIPT italic_c end_POSTSUBSCRIPT</annotation></semantics></math>=0, 200, 400 and 600 steps diffusion and reverse process.</figcaption>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">Figure 4: </span>(up) Accuracy versus number of iteration on CIFAR10 dataset.
(down)Accuracy versus purification length with and without guidance on CIFAR10 dataset.</figcaption>
</figure>
<div id="S4.SS2.p2" class="ltx_para">
<p id="S4.SS2.p2.1" class="ltx_p">Inspired by the work <cite class="ltx_cite ltx_citemacro_citep">(Dhariwal &amp; Nichol, <a href="#bib.bib6" title="" class="ltx_ref">2021</a>)</cite>, in which the authors use a classifier to guide the reverse process of a DDPM, we propose to use the adversarial image as guidance in the reverse process.
We encourage the purified image to be close to the adversarial image in the reverse process of the DDPM.
This is because the adversarial image is close to the original clean image in terms of pixel values, and thus the purified image will be close to the original clean image by encouraging it to be close to the adversarial image.
We need to choose an appropriate guidance scale, so that the purified image is close to the adversarial image, and thus the original clean image,
but at the same time, the guidance scale should not be too large, otherwise the purified image will be too close to the adversarial image such that even the adversarial perturbation is preserved in the purified image.</p>
</div>
<div id="S4.SS2.p3" class="ltx_para">
<p id="S4.SS2.p3.3" class="ltx_p">Specifically, we condition the reverse denoising process of the DDPM on the adversarial image <math id="S4.SS2.p3.1.m1.1" class="ltx_Math" alttext="{\bm{x}}_{\text{adv}}" display="inline"><semantics id="S4.SS2.p3.1.m1.1a"><msub id="S4.SS2.p3.1.m1.1.1" xref="S4.SS2.p3.1.m1.1.1.cmml"><mi id="S4.SS2.p3.1.m1.1.1.2" xref="S4.SS2.p3.1.m1.1.1.2.cmml">𝒙</mi><mtext id="S4.SS2.p3.1.m1.1.1.3" xref="S4.SS2.p3.1.m1.1.1.3a.cmml">adv</mtext></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.p3.1.m1.1b"><apply id="S4.SS2.p3.1.m1.1.1.cmml" xref="S4.SS2.p3.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS2.p3.1.m1.1.1.1.cmml" xref="S4.SS2.p3.1.m1.1.1">subscript</csymbol><ci id="S4.SS2.p3.1.m1.1.1.2.cmml" xref="S4.SS2.p3.1.m1.1.1.2">𝒙</ci><ci id="S4.SS2.p3.1.m1.1.1.3a.cmml" xref="S4.SS2.p3.1.m1.1.1.3"><mtext mathsize="70%" id="S4.SS2.p3.1.m1.1.1.3.cmml" xref="S4.SS2.p3.1.m1.1.1.3">adv</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p3.1.m1.1c">{\bm{x}}_{\text{adv}}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p3.1.m1.1d">bold_italic_x start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT</annotation></semantics></math>.
We adapt the reverse denoising distribution <math id="S4.SS2.p3.2.m2.1" class="ltx_Math" alttext="p_{\bm{\theta}}({\bm{x}}^{t-1}|{\bm{x}}^{t})" display="inline"><semantics id="S4.SS2.p3.2.m2.1a"><mrow id="S4.SS2.p3.2.m2.1.1" xref="S4.SS2.p3.2.m2.1.1.cmml"><msub id="S4.SS2.p3.2.m2.1.1.3" xref="S4.SS2.p3.2.m2.1.1.3.cmml"><mi id="S4.SS2.p3.2.m2.1.1.3.2" xref="S4.SS2.p3.2.m2.1.1.3.2.cmml">p</mi><mi id="S4.SS2.p3.2.m2.1.1.3.3" xref="S4.SS2.p3.2.m2.1.1.3.3.cmml">𝜽</mi></msub><mo id="S4.SS2.p3.2.m2.1.1.2" xref="S4.SS2.p3.2.m2.1.1.2.cmml">⁢</mo><mrow id="S4.SS2.p3.2.m2.1.1.1.1" xref="S4.SS2.p3.2.m2.1.1.1.1.1.cmml"><mo stretchy="false" id="S4.SS2.p3.2.m2.1.1.1.1.2" xref="S4.SS2.p3.2.m2.1.1.1.1.1.cmml">(</mo><mrow id="S4.SS2.p3.2.m2.1.1.1.1.1" xref="S4.SS2.p3.2.m2.1.1.1.1.1.cmml"><msup id="S4.SS2.p3.2.m2.1.1.1.1.1.2" xref="S4.SS2.p3.2.m2.1.1.1.1.1.2.cmml"><mi id="S4.SS2.p3.2.m2.1.1.1.1.1.2.2" xref="S4.SS2.p3.2.m2.1.1.1.1.1.2.2.cmml">𝒙</mi><mrow id="S4.SS2.p3.2.m2.1.1.1.1.1.2.3" xref="S4.SS2.p3.2.m2.1.1.1.1.1.2.3.cmml"><mi id="S4.SS2.p3.2.m2.1.1.1.1.1.2.3.2" xref="S4.SS2.p3.2.m2.1.1.1.1.1.2.3.2.cmml">t</mi><mo id="S4.SS2.p3.2.m2.1.1.1.1.1.2.3.1" xref="S4.SS2.p3.2.m2.1.1.1.1.1.2.3.1.cmml">−</mo><mn id="S4.SS2.p3.2.m2.1.1.1.1.1.2.3.3" xref="S4.SS2.p3.2.m2.1.1.1.1.1.2.3.3.cmml">1</mn></mrow></msup><mo fence="false" id="S4.SS2.p3.2.m2.1.1.1.1.1.1" xref="S4.SS2.p3.2.m2.1.1.1.1.1.1.cmml">|</mo><msup id="S4.SS2.p3.2.m2.1.1.1.1.1.3" xref="S4.SS2.p3.2.m2.1.1.1.1.1.3.cmml"><mi id="S4.SS2.p3.2.m2.1.1.1.1.1.3.2" xref="S4.SS2.p3.2.m2.1.1.1.1.1.3.2.cmml">𝒙</mi><mi id="S4.SS2.p3.2.m2.1.1.1.1.1.3.3" xref="S4.SS2.p3.2.m2.1.1.1.1.1.3.3.cmml">t</mi></msup></mrow><mo stretchy="false" id="S4.SS2.p3.2.m2.1.1.1.1.3" xref="S4.SS2.p3.2.m2.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p3.2.m2.1b"><apply id="S4.SS2.p3.2.m2.1.1.cmml" xref="S4.SS2.p3.2.m2.1.1"><times id="S4.SS2.p3.2.m2.1.1.2.cmml" xref="S4.SS2.p3.2.m2.1.1.2"></times><apply id="S4.SS2.p3.2.m2.1.1.3.cmml" xref="S4.SS2.p3.2.m2.1.1.3"><csymbol cd="ambiguous" id="S4.SS2.p3.2.m2.1.1.3.1.cmml" xref="S4.SS2.p3.2.m2.1.1.3">subscript</csymbol><ci id="S4.SS2.p3.2.m2.1.1.3.2.cmml" xref="S4.SS2.p3.2.m2.1.1.3.2">𝑝</ci><ci id="S4.SS2.p3.2.m2.1.1.3.3.cmml" xref="S4.SS2.p3.2.m2.1.1.3.3">𝜽</ci></apply><apply id="S4.SS2.p3.2.m2.1.1.1.1.1.cmml" xref="S4.SS2.p3.2.m2.1.1.1.1"><csymbol cd="latexml" id="S4.SS2.p3.2.m2.1.1.1.1.1.1.cmml" xref="S4.SS2.p3.2.m2.1.1.1.1.1.1">conditional</csymbol><apply id="S4.SS2.p3.2.m2.1.1.1.1.1.2.cmml" xref="S4.SS2.p3.2.m2.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S4.SS2.p3.2.m2.1.1.1.1.1.2.1.cmml" xref="S4.SS2.p3.2.m2.1.1.1.1.1.2">superscript</csymbol><ci id="S4.SS2.p3.2.m2.1.1.1.1.1.2.2.cmml" xref="S4.SS2.p3.2.m2.1.1.1.1.1.2.2">𝒙</ci><apply id="S4.SS2.p3.2.m2.1.1.1.1.1.2.3.cmml" xref="S4.SS2.p3.2.m2.1.1.1.1.1.2.3"><minus id="S4.SS2.p3.2.m2.1.1.1.1.1.2.3.1.cmml" xref="S4.SS2.p3.2.m2.1.1.1.1.1.2.3.1"></minus><ci id="S4.SS2.p3.2.m2.1.1.1.1.1.2.3.2.cmml" xref="S4.SS2.p3.2.m2.1.1.1.1.1.2.3.2">𝑡</ci><cn type="integer" id="S4.SS2.p3.2.m2.1.1.1.1.1.2.3.3.cmml" xref="S4.SS2.p3.2.m2.1.1.1.1.1.2.3.3">1</cn></apply></apply><apply id="S4.SS2.p3.2.m2.1.1.1.1.1.3.cmml" xref="S4.SS2.p3.2.m2.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.SS2.p3.2.m2.1.1.1.1.1.3.1.cmml" xref="S4.SS2.p3.2.m2.1.1.1.1.1.3">superscript</csymbol><ci id="S4.SS2.p3.2.m2.1.1.1.1.1.3.2.cmml" xref="S4.SS2.p3.2.m2.1.1.1.1.1.3.2">𝒙</ci><ci id="S4.SS2.p3.2.m2.1.1.1.1.1.3.3.cmml" xref="S4.SS2.p3.2.m2.1.1.1.1.1.3.3">𝑡</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p3.2.m2.1c">p_{\bm{\theta}}({\bm{x}}^{t-1}|{\bm{x}}^{t})</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p3.2.m2.1d">italic_p start_POSTSUBSCRIPT bold_italic_θ end_POSTSUBSCRIPT ( bold_italic_x start_POSTSUPERSCRIPT italic_t - 1 end_POSTSUPERSCRIPT | bold_italic_x start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT )</annotation></semantics></math> in Equation <a href="#S3.E6" title="6 ‣ The Reverse Process. ‣ 3.1 DDPM ‣ 3 Background of DDPM ‣ Guided Diffusion Model for Adversarial Purification" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a> to a conditional distribution <math id="S4.SS2.p3.3.m3.1" class="ltx_Math" alttext="p_{\bm{\theta}}({\bm{x}}^{t-1}|{\bm{x}}^{t},{\bm{x}}_{\text{adv}})" display="inline"><semantics id="S4.SS2.p3.3.m3.1a"><mrow id="S4.SS2.p3.3.m3.1.1" xref="S4.SS2.p3.3.m3.1.1.cmml"><msub id="S4.SS2.p3.3.m3.1.1.3" xref="S4.SS2.p3.3.m3.1.1.3.cmml"><mi id="S4.SS2.p3.3.m3.1.1.3.2" xref="S4.SS2.p3.3.m3.1.1.3.2.cmml">p</mi><mi id="S4.SS2.p3.3.m3.1.1.3.3" xref="S4.SS2.p3.3.m3.1.1.3.3.cmml">𝜽</mi></msub><mo id="S4.SS2.p3.3.m3.1.1.2" xref="S4.SS2.p3.3.m3.1.1.2.cmml">⁢</mo><mrow id="S4.SS2.p3.3.m3.1.1.1.1" xref="S4.SS2.p3.3.m3.1.1.1.1.1.cmml"><mo stretchy="false" id="S4.SS2.p3.3.m3.1.1.1.1.2" xref="S4.SS2.p3.3.m3.1.1.1.1.1.cmml">(</mo><mrow id="S4.SS2.p3.3.m3.1.1.1.1.1" xref="S4.SS2.p3.3.m3.1.1.1.1.1.cmml"><msup id="S4.SS2.p3.3.m3.1.1.1.1.1.4" xref="S4.SS2.p3.3.m3.1.1.1.1.1.4.cmml"><mi id="S4.SS2.p3.3.m3.1.1.1.1.1.4.2" xref="S4.SS2.p3.3.m3.1.1.1.1.1.4.2.cmml">𝒙</mi><mrow id="S4.SS2.p3.3.m3.1.1.1.1.1.4.3" xref="S4.SS2.p3.3.m3.1.1.1.1.1.4.3.cmml"><mi id="S4.SS2.p3.3.m3.1.1.1.1.1.4.3.2" xref="S4.SS2.p3.3.m3.1.1.1.1.1.4.3.2.cmml">t</mi><mo id="S4.SS2.p3.3.m3.1.1.1.1.1.4.3.1" xref="S4.SS2.p3.3.m3.1.1.1.1.1.4.3.1.cmml">−</mo><mn id="S4.SS2.p3.3.m3.1.1.1.1.1.4.3.3" xref="S4.SS2.p3.3.m3.1.1.1.1.1.4.3.3.cmml">1</mn></mrow></msup><mo fence="false" id="S4.SS2.p3.3.m3.1.1.1.1.1.3" xref="S4.SS2.p3.3.m3.1.1.1.1.1.3.cmml">|</mo><mrow id="S4.SS2.p3.3.m3.1.1.1.1.1.2.2" xref="S4.SS2.p3.3.m3.1.1.1.1.1.2.3.cmml"><msup id="S4.SS2.p3.3.m3.1.1.1.1.1.1.1.1" xref="S4.SS2.p3.3.m3.1.1.1.1.1.1.1.1.cmml"><mi id="S4.SS2.p3.3.m3.1.1.1.1.1.1.1.1.2" xref="S4.SS2.p3.3.m3.1.1.1.1.1.1.1.1.2.cmml">𝒙</mi><mi id="S4.SS2.p3.3.m3.1.1.1.1.1.1.1.1.3" xref="S4.SS2.p3.3.m3.1.1.1.1.1.1.1.1.3.cmml">t</mi></msup><mo id="S4.SS2.p3.3.m3.1.1.1.1.1.2.2.3" xref="S4.SS2.p3.3.m3.1.1.1.1.1.2.3.cmml">,</mo><msub id="S4.SS2.p3.3.m3.1.1.1.1.1.2.2.2" xref="S4.SS2.p3.3.m3.1.1.1.1.1.2.2.2.cmml"><mi id="S4.SS2.p3.3.m3.1.1.1.1.1.2.2.2.2" xref="S4.SS2.p3.3.m3.1.1.1.1.1.2.2.2.2.cmml">𝒙</mi><mtext id="S4.SS2.p3.3.m3.1.1.1.1.1.2.2.2.3" xref="S4.SS2.p3.3.m3.1.1.1.1.1.2.2.2.3a.cmml">adv</mtext></msub></mrow></mrow><mo stretchy="false" id="S4.SS2.p3.3.m3.1.1.1.1.3" xref="S4.SS2.p3.3.m3.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p3.3.m3.1b"><apply id="S4.SS2.p3.3.m3.1.1.cmml" xref="S4.SS2.p3.3.m3.1.1"><times id="S4.SS2.p3.3.m3.1.1.2.cmml" xref="S4.SS2.p3.3.m3.1.1.2"></times><apply id="S4.SS2.p3.3.m3.1.1.3.cmml" xref="S4.SS2.p3.3.m3.1.1.3"><csymbol cd="ambiguous" id="S4.SS2.p3.3.m3.1.1.3.1.cmml" xref="S4.SS2.p3.3.m3.1.1.3">subscript</csymbol><ci id="S4.SS2.p3.3.m3.1.1.3.2.cmml" xref="S4.SS2.p3.3.m3.1.1.3.2">𝑝</ci><ci id="S4.SS2.p3.3.m3.1.1.3.3.cmml" xref="S4.SS2.p3.3.m3.1.1.3.3">𝜽</ci></apply><apply id="S4.SS2.p3.3.m3.1.1.1.1.1.cmml" xref="S4.SS2.p3.3.m3.1.1.1.1"><csymbol cd="latexml" id="S4.SS2.p3.3.m3.1.1.1.1.1.3.cmml" xref="S4.SS2.p3.3.m3.1.1.1.1.1.3">conditional</csymbol><apply id="S4.SS2.p3.3.m3.1.1.1.1.1.4.cmml" xref="S4.SS2.p3.3.m3.1.1.1.1.1.4"><csymbol cd="ambiguous" id="S4.SS2.p3.3.m3.1.1.1.1.1.4.1.cmml" xref="S4.SS2.p3.3.m3.1.1.1.1.1.4">superscript</csymbol><ci id="S4.SS2.p3.3.m3.1.1.1.1.1.4.2.cmml" xref="S4.SS2.p3.3.m3.1.1.1.1.1.4.2">𝒙</ci><apply id="S4.SS2.p3.3.m3.1.1.1.1.1.4.3.cmml" xref="S4.SS2.p3.3.m3.1.1.1.1.1.4.3"><minus id="S4.SS2.p3.3.m3.1.1.1.1.1.4.3.1.cmml" xref="S4.SS2.p3.3.m3.1.1.1.1.1.4.3.1"></minus><ci id="S4.SS2.p3.3.m3.1.1.1.1.1.4.3.2.cmml" xref="S4.SS2.p3.3.m3.1.1.1.1.1.4.3.2">𝑡</ci><cn type="integer" id="S4.SS2.p3.3.m3.1.1.1.1.1.4.3.3.cmml" xref="S4.SS2.p3.3.m3.1.1.1.1.1.4.3.3">1</cn></apply></apply><list id="S4.SS2.p3.3.m3.1.1.1.1.1.2.3.cmml" xref="S4.SS2.p3.3.m3.1.1.1.1.1.2.2"><apply id="S4.SS2.p3.3.m3.1.1.1.1.1.1.1.1.cmml" xref="S4.SS2.p3.3.m3.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS2.p3.3.m3.1.1.1.1.1.1.1.1.1.cmml" xref="S4.SS2.p3.3.m3.1.1.1.1.1.1.1.1">superscript</csymbol><ci id="S4.SS2.p3.3.m3.1.1.1.1.1.1.1.1.2.cmml" xref="S4.SS2.p3.3.m3.1.1.1.1.1.1.1.1.2">𝒙</ci><ci id="S4.SS2.p3.3.m3.1.1.1.1.1.1.1.1.3.cmml" xref="S4.SS2.p3.3.m3.1.1.1.1.1.1.1.1.3">𝑡</ci></apply><apply id="S4.SS2.p3.3.m3.1.1.1.1.1.2.2.2.cmml" xref="S4.SS2.p3.3.m3.1.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S4.SS2.p3.3.m3.1.1.1.1.1.2.2.2.1.cmml" xref="S4.SS2.p3.3.m3.1.1.1.1.1.2.2.2">subscript</csymbol><ci id="S4.SS2.p3.3.m3.1.1.1.1.1.2.2.2.2.cmml" xref="S4.SS2.p3.3.m3.1.1.1.1.1.2.2.2.2">𝒙</ci><ci id="S4.SS2.p3.3.m3.1.1.1.1.1.2.2.2.3a.cmml" xref="S4.SS2.p3.3.m3.1.1.1.1.1.2.2.2.3"><mtext mathsize="70%" id="S4.SS2.p3.3.m3.1.1.1.1.1.2.2.2.3.cmml" xref="S4.SS2.p3.3.m3.1.1.1.1.1.2.2.2.3">adv</mtext></ci></apply></list></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p3.3.m3.1c">p_{\bm{\theta}}({\bm{x}}^{t-1}|{\bm{x}}^{t},{\bm{x}}_{\text{adv}})</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p3.3.m3.1d">italic_p start_POSTSUBSCRIPT bold_italic_θ end_POSTSUBSCRIPT ( bold_italic_x start_POSTSUPERSCRIPT italic_t - 1 end_POSTSUPERSCRIPT | bold_italic_x start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT , bold_italic_x start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT )</annotation></semantics></math>.
It is proven by <cite class="ltx_cite ltx_citemacro_citet">Sohl-Dickstein et al. (<a href="#bib.bib29" title="" class="ltx_ref">2015b</a>); Dhariwal &amp; Nichol (<a href="#bib.bib6" title="" class="ltx_ref">2021</a>)</cite> that</p>
<table id="A1.EGx2" class="ltx_equationgroup ltx_eqn_align ltx_eqn_table">

<tbody id="S4.E8"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S4.E8.m1.3" class="ltx_Math" alttext="\displaystyle\log p_{\bm{\theta}}({\bm{x}}^{t-1}|{\bm{x}}^{t},{\bm{x}}_{\text{adv}})=\log[p_{\bm{\theta}}({\bm{x}}^{t-1}|{\bm{x}}^{t})p({\bm{x}}_{\text{adv}}|{\bm{x}}^{t})]+C_{1}\approx\log p({\bm{z}})+C_{2}," display="inline"><semantics id="S4.E8.m1.3a"><mrow id="S4.E8.m1.3.3.1" xref="S4.E8.m1.3.3.1.1.cmml"><mrow id="S4.E8.m1.3.3.1.1" xref="S4.E8.m1.3.3.1.1.cmml"><mrow id="S4.E8.m1.3.3.1.1.1" xref="S4.E8.m1.3.3.1.1.1.cmml"><mrow id="S4.E8.m1.3.3.1.1.1.3" xref="S4.E8.m1.3.3.1.1.1.3.cmml"><mi id="S4.E8.m1.3.3.1.1.1.3.1" xref="S4.E8.m1.3.3.1.1.1.3.1.cmml">log</mi><mo lspace="0.167em" id="S4.E8.m1.3.3.1.1.1.3a" xref="S4.E8.m1.3.3.1.1.1.3.cmml">⁡</mo><msub id="S4.E8.m1.3.3.1.1.1.3.2" xref="S4.E8.m1.3.3.1.1.1.3.2.cmml"><mi id="S4.E8.m1.3.3.1.1.1.3.2.2" xref="S4.E8.m1.3.3.1.1.1.3.2.2.cmml">p</mi><mi id="S4.E8.m1.3.3.1.1.1.3.2.3" xref="S4.E8.m1.3.3.1.1.1.3.2.3.cmml">𝜽</mi></msub></mrow><mo id="S4.E8.m1.3.3.1.1.1.2" xref="S4.E8.m1.3.3.1.1.1.2.cmml">⁢</mo><mrow id="S4.E8.m1.3.3.1.1.1.1.1" xref="S4.E8.m1.3.3.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S4.E8.m1.3.3.1.1.1.1.1.2" xref="S4.E8.m1.3.3.1.1.1.1.1.1.cmml">(</mo><mrow id="S4.E8.m1.3.3.1.1.1.1.1.1" xref="S4.E8.m1.3.3.1.1.1.1.1.1.cmml"><msup id="S4.E8.m1.3.3.1.1.1.1.1.1.4" xref="S4.E8.m1.3.3.1.1.1.1.1.1.4.cmml"><mi id="S4.E8.m1.3.3.1.1.1.1.1.1.4.2" xref="S4.E8.m1.3.3.1.1.1.1.1.1.4.2.cmml">𝒙</mi><mrow id="S4.E8.m1.3.3.1.1.1.1.1.1.4.3" xref="S4.E8.m1.3.3.1.1.1.1.1.1.4.3.cmml"><mi id="S4.E8.m1.3.3.1.1.1.1.1.1.4.3.2" xref="S4.E8.m1.3.3.1.1.1.1.1.1.4.3.2.cmml">t</mi><mo id="S4.E8.m1.3.3.1.1.1.1.1.1.4.3.1" xref="S4.E8.m1.3.3.1.1.1.1.1.1.4.3.1.cmml">−</mo><mn id="S4.E8.m1.3.3.1.1.1.1.1.1.4.3.3" xref="S4.E8.m1.3.3.1.1.1.1.1.1.4.3.3.cmml">1</mn></mrow></msup><mo fence="false" id="S4.E8.m1.3.3.1.1.1.1.1.1.3" xref="S4.E8.m1.3.3.1.1.1.1.1.1.3.cmml">|</mo><mrow id="S4.E8.m1.3.3.1.1.1.1.1.1.2.2" xref="S4.E8.m1.3.3.1.1.1.1.1.1.2.3.cmml"><msup id="S4.E8.m1.3.3.1.1.1.1.1.1.1.1.1" xref="S4.E8.m1.3.3.1.1.1.1.1.1.1.1.1.cmml"><mi id="S4.E8.m1.3.3.1.1.1.1.1.1.1.1.1.2" xref="S4.E8.m1.3.3.1.1.1.1.1.1.1.1.1.2.cmml">𝒙</mi><mi id="S4.E8.m1.3.3.1.1.1.1.1.1.1.1.1.3" xref="S4.E8.m1.3.3.1.1.1.1.1.1.1.1.1.3.cmml">t</mi></msup><mo id="S4.E8.m1.3.3.1.1.1.1.1.1.2.2.3" xref="S4.E8.m1.3.3.1.1.1.1.1.1.2.3.cmml">,</mo><msub id="S4.E8.m1.3.3.1.1.1.1.1.1.2.2.2" xref="S4.E8.m1.3.3.1.1.1.1.1.1.2.2.2.cmml"><mi id="S4.E8.m1.3.3.1.1.1.1.1.1.2.2.2.2" xref="S4.E8.m1.3.3.1.1.1.1.1.1.2.2.2.2.cmml">𝒙</mi><mtext id="S4.E8.m1.3.3.1.1.1.1.1.1.2.2.2.3" xref="S4.E8.m1.3.3.1.1.1.1.1.1.2.2.2.3a.cmml">adv</mtext></msub></mrow></mrow><mo stretchy="false" id="S4.E8.m1.3.3.1.1.1.1.1.3" xref="S4.E8.m1.3.3.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S4.E8.m1.3.3.1.1.4" xref="S4.E8.m1.3.3.1.1.4.cmml">=</mo><mrow id="S4.E8.m1.3.3.1.1.2" xref="S4.E8.m1.3.3.1.1.2.cmml"><mrow id="S4.E8.m1.3.3.1.1.2.1.1" xref="S4.E8.m1.3.3.1.1.2.1.2.cmml"><mi id="S4.E8.m1.1.1" xref="S4.E8.m1.1.1.cmml">log</mi><mo id="S4.E8.m1.3.3.1.1.2.1.1a" xref="S4.E8.m1.3.3.1.1.2.1.2.cmml">⁡</mo><mrow id="S4.E8.m1.3.3.1.1.2.1.1.1" xref="S4.E8.m1.3.3.1.1.2.1.2.cmml"><mo stretchy="false" id="S4.E8.m1.3.3.1.1.2.1.1.1.2" xref="S4.E8.m1.3.3.1.1.2.1.2.cmml">[</mo><mrow id="S4.E8.m1.3.3.1.1.2.1.1.1.1" xref="S4.E8.m1.3.3.1.1.2.1.1.1.1.cmml"><msub id="S4.E8.m1.3.3.1.1.2.1.1.1.1.4" xref="S4.E8.m1.3.3.1.1.2.1.1.1.1.4.cmml"><mi id="S4.E8.m1.3.3.1.1.2.1.1.1.1.4.2" xref="S4.E8.m1.3.3.1.1.2.1.1.1.1.4.2.cmml">p</mi><mi id="S4.E8.m1.3.3.1.1.2.1.1.1.1.4.3" xref="S4.E8.m1.3.3.1.1.2.1.1.1.1.4.3.cmml">𝜽</mi></msub><mo id="S4.E8.m1.3.3.1.1.2.1.1.1.1.3" xref="S4.E8.m1.3.3.1.1.2.1.1.1.1.3.cmml">⁢</mo><mrow id="S4.E8.m1.3.3.1.1.2.1.1.1.1.1.1" xref="S4.E8.m1.3.3.1.1.2.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S4.E8.m1.3.3.1.1.2.1.1.1.1.1.1.2" xref="S4.E8.m1.3.3.1.1.2.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S4.E8.m1.3.3.1.1.2.1.1.1.1.1.1.1" xref="S4.E8.m1.3.3.1.1.2.1.1.1.1.1.1.1.cmml"><msup id="S4.E8.m1.3.3.1.1.2.1.1.1.1.1.1.1.2" xref="S4.E8.m1.3.3.1.1.2.1.1.1.1.1.1.1.2.cmml"><mi id="S4.E8.m1.3.3.1.1.2.1.1.1.1.1.1.1.2.2" xref="S4.E8.m1.3.3.1.1.2.1.1.1.1.1.1.1.2.2.cmml">𝒙</mi><mrow id="S4.E8.m1.3.3.1.1.2.1.1.1.1.1.1.1.2.3" xref="S4.E8.m1.3.3.1.1.2.1.1.1.1.1.1.1.2.3.cmml"><mi id="S4.E8.m1.3.3.1.1.2.1.1.1.1.1.1.1.2.3.2" xref="S4.E8.m1.3.3.1.1.2.1.1.1.1.1.1.1.2.3.2.cmml">t</mi><mo id="S4.E8.m1.3.3.1.1.2.1.1.1.1.1.1.1.2.3.1" xref="S4.E8.m1.3.3.1.1.2.1.1.1.1.1.1.1.2.3.1.cmml">−</mo><mn id="S4.E8.m1.3.3.1.1.2.1.1.1.1.1.1.1.2.3.3" xref="S4.E8.m1.3.3.1.1.2.1.1.1.1.1.1.1.2.3.3.cmml">1</mn></mrow></msup><mo fence="false" id="S4.E8.m1.3.3.1.1.2.1.1.1.1.1.1.1.1" xref="S4.E8.m1.3.3.1.1.2.1.1.1.1.1.1.1.1.cmml">|</mo><msup id="S4.E8.m1.3.3.1.1.2.1.1.1.1.1.1.1.3" xref="S4.E8.m1.3.3.1.1.2.1.1.1.1.1.1.1.3.cmml"><mi id="S4.E8.m1.3.3.1.1.2.1.1.1.1.1.1.1.3.2" xref="S4.E8.m1.3.3.1.1.2.1.1.1.1.1.1.1.3.2.cmml">𝒙</mi><mi id="S4.E8.m1.3.3.1.1.2.1.1.1.1.1.1.1.3.3" xref="S4.E8.m1.3.3.1.1.2.1.1.1.1.1.1.1.3.3.cmml">t</mi></msup></mrow><mo stretchy="false" id="S4.E8.m1.3.3.1.1.2.1.1.1.1.1.1.3" xref="S4.E8.m1.3.3.1.1.2.1.1.1.1.1.1.1.cmml">)</mo></mrow><mo id="S4.E8.m1.3.3.1.1.2.1.1.1.1.3a" xref="S4.E8.m1.3.3.1.1.2.1.1.1.1.3.cmml">⁢</mo><mi id="S4.E8.m1.3.3.1.1.2.1.1.1.1.5" xref="S4.E8.m1.3.3.1.1.2.1.1.1.1.5.cmml">p</mi><mo id="S4.E8.m1.3.3.1.1.2.1.1.1.1.3b" xref="S4.E8.m1.3.3.1.1.2.1.1.1.1.3.cmml">⁢</mo><mrow id="S4.E8.m1.3.3.1.1.2.1.1.1.1.2.1" xref="S4.E8.m1.3.3.1.1.2.1.1.1.1.2.1.1.cmml"><mo stretchy="false" id="S4.E8.m1.3.3.1.1.2.1.1.1.1.2.1.2" xref="S4.E8.m1.3.3.1.1.2.1.1.1.1.2.1.1.cmml">(</mo><mrow id="S4.E8.m1.3.3.1.1.2.1.1.1.1.2.1.1" xref="S4.E8.m1.3.3.1.1.2.1.1.1.1.2.1.1.cmml"><msub id="S4.E8.m1.3.3.1.1.2.1.1.1.1.2.1.1.2" xref="S4.E8.m1.3.3.1.1.2.1.1.1.1.2.1.1.2.cmml"><mi id="S4.E8.m1.3.3.1.1.2.1.1.1.1.2.1.1.2.2" xref="S4.E8.m1.3.3.1.1.2.1.1.1.1.2.1.1.2.2.cmml">𝒙</mi><mtext id="S4.E8.m1.3.3.1.1.2.1.1.1.1.2.1.1.2.3" xref="S4.E8.m1.3.3.1.1.2.1.1.1.1.2.1.1.2.3a.cmml">adv</mtext></msub><mo fence="false" id="S4.E8.m1.3.3.1.1.2.1.1.1.1.2.1.1.1" xref="S4.E8.m1.3.3.1.1.2.1.1.1.1.2.1.1.1.cmml">|</mo><msup id="S4.E8.m1.3.3.1.1.2.1.1.1.1.2.1.1.3" xref="S4.E8.m1.3.3.1.1.2.1.1.1.1.2.1.1.3.cmml"><mi id="S4.E8.m1.3.3.1.1.2.1.1.1.1.2.1.1.3.2" xref="S4.E8.m1.3.3.1.1.2.1.1.1.1.2.1.1.3.2.cmml">𝒙</mi><mi id="S4.E8.m1.3.3.1.1.2.1.1.1.1.2.1.1.3.3" xref="S4.E8.m1.3.3.1.1.2.1.1.1.1.2.1.1.3.3.cmml">t</mi></msup></mrow><mo stretchy="false" id="S4.E8.m1.3.3.1.1.2.1.1.1.1.2.1.3" xref="S4.E8.m1.3.3.1.1.2.1.1.1.1.2.1.1.cmml">)</mo></mrow></mrow><mo stretchy="false" id="S4.E8.m1.3.3.1.1.2.1.1.1.3" xref="S4.E8.m1.3.3.1.1.2.1.2.cmml">]</mo></mrow></mrow><mo id="S4.E8.m1.3.3.1.1.2.2" xref="S4.E8.m1.3.3.1.1.2.2.cmml">+</mo><msub id="S4.E8.m1.3.3.1.1.2.3" xref="S4.E8.m1.3.3.1.1.2.3.cmml"><mi id="S4.E8.m1.3.3.1.1.2.3.2" xref="S4.E8.m1.3.3.1.1.2.3.2.cmml">C</mi><mn id="S4.E8.m1.3.3.1.1.2.3.3" xref="S4.E8.m1.3.3.1.1.2.3.3.cmml">1</mn></msub></mrow><mo id="S4.E8.m1.3.3.1.1.5" xref="S4.E8.m1.3.3.1.1.5.cmml">≈</mo><mrow id="S4.E8.m1.3.3.1.1.6" xref="S4.E8.m1.3.3.1.1.6.cmml"><mrow id="S4.E8.m1.3.3.1.1.6.2" xref="S4.E8.m1.3.3.1.1.6.2.cmml"><mrow id="S4.E8.m1.3.3.1.1.6.2.2" xref="S4.E8.m1.3.3.1.1.6.2.2.cmml"><mi id="S4.E8.m1.3.3.1.1.6.2.2.1" xref="S4.E8.m1.3.3.1.1.6.2.2.1.cmml">log</mi><mo lspace="0.167em" id="S4.E8.m1.3.3.1.1.6.2.2a" xref="S4.E8.m1.3.3.1.1.6.2.2.cmml">⁡</mo><mi id="S4.E8.m1.3.3.1.1.6.2.2.2" xref="S4.E8.m1.3.3.1.1.6.2.2.2.cmml">p</mi></mrow><mo id="S4.E8.m1.3.3.1.1.6.2.1" xref="S4.E8.m1.3.3.1.1.6.2.1.cmml">⁢</mo><mrow id="S4.E8.m1.3.3.1.1.6.2.3.2" xref="S4.E8.m1.3.3.1.1.6.2.cmml"><mo stretchy="false" id="S4.E8.m1.3.3.1.1.6.2.3.2.1" xref="S4.E8.m1.3.3.1.1.6.2.cmml">(</mo><mi id="S4.E8.m1.2.2" xref="S4.E8.m1.2.2.cmml">𝒛</mi><mo stretchy="false" id="S4.E8.m1.3.3.1.1.6.2.3.2.2" xref="S4.E8.m1.3.3.1.1.6.2.cmml">)</mo></mrow></mrow><mo id="S4.E8.m1.3.3.1.1.6.1" xref="S4.E8.m1.3.3.1.1.6.1.cmml">+</mo><msub id="S4.E8.m1.3.3.1.1.6.3" xref="S4.E8.m1.3.3.1.1.6.3.cmml"><mi id="S4.E8.m1.3.3.1.1.6.3.2" xref="S4.E8.m1.3.3.1.1.6.3.2.cmml">C</mi><mn id="S4.E8.m1.3.3.1.1.6.3.3" xref="S4.E8.m1.3.3.1.1.6.3.3.cmml">2</mn></msub></mrow></mrow><mo id="S4.E8.m1.3.3.1.2" xref="S4.E8.m1.3.3.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.E8.m1.3b"><apply id="S4.E8.m1.3.3.1.1.cmml" xref="S4.E8.m1.3.3.1"><and id="S4.E8.m1.3.3.1.1a.cmml" xref="S4.E8.m1.3.3.1"></and><apply id="S4.E8.m1.3.3.1.1b.cmml" xref="S4.E8.m1.3.3.1"><eq id="S4.E8.m1.3.3.1.1.4.cmml" xref="S4.E8.m1.3.3.1.1.4"></eq><apply id="S4.E8.m1.3.3.1.1.1.cmml" xref="S4.E8.m1.3.3.1.1.1"><times id="S4.E8.m1.3.3.1.1.1.2.cmml" xref="S4.E8.m1.3.3.1.1.1.2"></times><apply id="S4.E8.m1.3.3.1.1.1.3.cmml" xref="S4.E8.m1.3.3.1.1.1.3"><log id="S4.E8.m1.3.3.1.1.1.3.1.cmml" xref="S4.E8.m1.3.3.1.1.1.3.1"></log><apply id="S4.E8.m1.3.3.1.1.1.3.2.cmml" xref="S4.E8.m1.3.3.1.1.1.3.2"><csymbol cd="ambiguous" id="S4.E8.m1.3.3.1.1.1.3.2.1.cmml" xref="S4.E8.m1.3.3.1.1.1.3.2">subscript</csymbol><ci id="S4.E8.m1.3.3.1.1.1.3.2.2.cmml" xref="S4.E8.m1.3.3.1.1.1.3.2.2">𝑝</ci><ci id="S4.E8.m1.3.3.1.1.1.3.2.3.cmml" xref="S4.E8.m1.3.3.1.1.1.3.2.3">𝜽</ci></apply></apply><apply id="S4.E8.m1.3.3.1.1.1.1.1.1.cmml" xref="S4.E8.m1.3.3.1.1.1.1.1"><csymbol cd="latexml" id="S4.E8.m1.3.3.1.1.1.1.1.1.3.cmml" xref="S4.E8.m1.3.3.1.1.1.1.1.1.3">conditional</csymbol><apply id="S4.E8.m1.3.3.1.1.1.1.1.1.4.cmml" xref="S4.E8.m1.3.3.1.1.1.1.1.1.4"><csymbol cd="ambiguous" id="S4.E8.m1.3.3.1.1.1.1.1.1.4.1.cmml" xref="S4.E8.m1.3.3.1.1.1.1.1.1.4">superscript</csymbol><ci id="S4.E8.m1.3.3.1.1.1.1.1.1.4.2.cmml" xref="S4.E8.m1.3.3.1.1.1.1.1.1.4.2">𝒙</ci><apply id="S4.E8.m1.3.3.1.1.1.1.1.1.4.3.cmml" xref="S4.E8.m1.3.3.1.1.1.1.1.1.4.3"><minus id="S4.E8.m1.3.3.1.1.1.1.1.1.4.3.1.cmml" xref="S4.E8.m1.3.3.1.1.1.1.1.1.4.3.1"></minus><ci id="S4.E8.m1.3.3.1.1.1.1.1.1.4.3.2.cmml" xref="S4.E8.m1.3.3.1.1.1.1.1.1.4.3.2">𝑡</ci><cn type="integer" id="S4.E8.m1.3.3.1.1.1.1.1.1.4.3.3.cmml" xref="S4.E8.m1.3.3.1.1.1.1.1.1.4.3.3">1</cn></apply></apply><list id="S4.E8.m1.3.3.1.1.1.1.1.1.2.3.cmml" xref="S4.E8.m1.3.3.1.1.1.1.1.1.2.2"><apply id="S4.E8.m1.3.3.1.1.1.1.1.1.1.1.1.cmml" xref="S4.E8.m1.3.3.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.E8.m1.3.3.1.1.1.1.1.1.1.1.1.1.cmml" xref="S4.E8.m1.3.3.1.1.1.1.1.1.1.1.1">superscript</csymbol><ci id="S4.E8.m1.3.3.1.1.1.1.1.1.1.1.1.2.cmml" xref="S4.E8.m1.3.3.1.1.1.1.1.1.1.1.1.2">𝒙</ci><ci id="S4.E8.m1.3.3.1.1.1.1.1.1.1.1.1.3.cmml" xref="S4.E8.m1.3.3.1.1.1.1.1.1.1.1.1.3">𝑡</ci></apply><apply id="S4.E8.m1.3.3.1.1.1.1.1.1.2.2.2.cmml" xref="S4.E8.m1.3.3.1.1.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S4.E8.m1.3.3.1.1.1.1.1.1.2.2.2.1.cmml" xref="S4.E8.m1.3.3.1.1.1.1.1.1.2.2.2">subscript</csymbol><ci id="S4.E8.m1.3.3.1.1.1.1.1.1.2.2.2.2.cmml" xref="S4.E8.m1.3.3.1.1.1.1.1.1.2.2.2.2">𝒙</ci><ci id="S4.E8.m1.3.3.1.1.1.1.1.1.2.2.2.3a.cmml" xref="S4.E8.m1.3.3.1.1.1.1.1.1.2.2.2.3"><mtext mathsize="70%" id="S4.E8.m1.3.3.1.1.1.1.1.1.2.2.2.3.cmml" xref="S4.E8.m1.3.3.1.1.1.1.1.1.2.2.2.3">adv</mtext></ci></apply></list></apply></apply><apply id="S4.E8.m1.3.3.1.1.2.cmml" xref="S4.E8.m1.3.3.1.1.2"><plus id="S4.E8.m1.3.3.1.1.2.2.cmml" xref="S4.E8.m1.3.3.1.1.2.2"></plus><apply id="S4.E8.m1.3.3.1.1.2.1.2.cmml" xref="S4.E8.m1.3.3.1.1.2.1.1"><log id="S4.E8.m1.1.1.cmml" xref="S4.E8.m1.1.1"></log><apply id="S4.E8.m1.3.3.1.1.2.1.1.1.1.cmml" xref="S4.E8.m1.3.3.1.1.2.1.1.1.1"><times id="S4.E8.m1.3.3.1.1.2.1.1.1.1.3.cmml" xref="S4.E8.m1.3.3.1.1.2.1.1.1.1.3"></times><apply id="S4.E8.m1.3.3.1.1.2.1.1.1.1.4.cmml" xref="S4.E8.m1.3.3.1.1.2.1.1.1.1.4"><csymbol cd="ambiguous" id="S4.E8.m1.3.3.1.1.2.1.1.1.1.4.1.cmml" xref="S4.E8.m1.3.3.1.1.2.1.1.1.1.4">subscript</csymbol><ci id="S4.E8.m1.3.3.1.1.2.1.1.1.1.4.2.cmml" xref="S4.E8.m1.3.3.1.1.2.1.1.1.1.4.2">𝑝</ci><ci id="S4.E8.m1.3.3.1.1.2.1.1.1.1.4.3.cmml" xref="S4.E8.m1.3.3.1.1.2.1.1.1.1.4.3">𝜽</ci></apply><apply id="S4.E8.m1.3.3.1.1.2.1.1.1.1.1.1.1.cmml" xref="S4.E8.m1.3.3.1.1.2.1.1.1.1.1.1"><csymbol cd="latexml" id="S4.E8.m1.3.3.1.1.2.1.1.1.1.1.1.1.1.cmml" xref="S4.E8.m1.3.3.1.1.2.1.1.1.1.1.1.1.1">conditional</csymbol><apply id="S4.E8.m1.3.3.1.1.2.1.1.1.1.1.1.1.2.cmml" xref="S4.E8.m1.3.3.1.1.2.1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S4.E8.m1.3.3.1.1.2.1.1.1.1.1.1.1.2.1.cmml" xref="S4.E8.m1.3.3.1.1.2.1.1.1.1.1.1.1.2">superscript</csymbol><ci id="S4.E8.m1.3.3.1.1.2.1.1.1.1.1.1.1.2.2.cmml" xref="S4.E8.m1.3.3.1.1.2.1.1.1.1.1.1.1.2.2">𝒙</ci><apply id="S4.E8.m1.3.3.1.1.2.1.1.1.1.1.1.1.2.3.cmml" xref="S4.E8.m1.3.3.1.1.2.1.1.1.1.1.1.1.2.3"><minus id="S4.E8.m1.3.3.1.1.2.1.1.1.1.1.1.1.2.3.1.cmml" xref="S4.E8.m1.3.3.1.1.2.1.1.1.1.1.1.1.2.3.1"></minus><ci id="S4.E8.m1.3.3.1.1.2.1.1.1.1.1.1.1.2.3.2.cmml" xref="S4.E8.m1.3.3.1.1.2.1.1.1.1.1.1.1.2.3.2">𝑡</ci><cn type="integer" id="S4.E8.m1.3.3.1.1.2.1.1.1.1.1.1.1.2.3.3.cmml" xref="S4.E8.m1.3.3.1.1.2.1.1.1.1.1.1.1.2.3.3">1</cn></apply></apply><apply id="S4.E8.m1.3.3.1.1.2.1.1.1.1.1.1.1.3.cmml" xref="S4.E8.m1.3.3.1.1.2.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.E8.m1.3.3.1.1.2.1.1.1.1.1.1.1.3.1.cmml" xref="S4.E8.m1.3.3.1.1.2.1.1.1.1.1.1.1.3">superscript</csymbol><ci id="S4.E8.m1.3.3.1.1.2.1.1.1.1.1.1.1.3.2.cmml" xref="S4.E8.m1.3.3.1.1.2.1.1.1.1.1.1.1.3.2">𝒙</ci><ci id="S4.E8.m1.3.3.1.1.2.1.1.1.1.1.1.1.3.3.cmml" xref="S4.E8.m1.3.3.1.1.2.1.1.1.1.1.1.1.3.3">𝑡</ci></apply></apply><ci id="S4.E8.m1.3.3.1.1.2.1.1.1.1.5.cmml" xref="S4.E8.m1.3.3.1.1.2.1.1.1.1.5">𝑝</ci><apply id="S4.E8.m1.3.3.1.1.2.1.1.1.1.2.1.1.cmml" xref="S4.E8.m1.3.3.1.1.2.1.1.1.1.2.1"><csymbol cd="latexml" id="S4.E8.m1.3.3.1.1.2.1.1.1.1.2.1.1.1.cmml" xref="S4.E8.m1.3.3.1.1.2.1.1.1.1.2.1.1.1">conditional</csymbol><apply id="S4.E8.m1.3.3.1.1.2.1.1.1.1.2.1.1.2.cmml" xref="S4.E8.m1.3.3.1.1.2.1.1.1.1.2.1.1.2"><csymbol cd="ambiguous" id="S4.E8.m1.3.3.1.1.2.1.1.1.1.2.1.1.2.1.cmml" xref="S4.E8.m1.3.3.1.1.2.1.1.1.1.2.1.1.2">subscript</csymbol><ci id="S4.E8.m1.3.3.1.1.2.1.1.1.1.2.1.1.2.2.cmml" xref="S4.E8.m1.3.3.1.1.2.1.1.1.1.2.1.1.2.2">𝒙</ci><ci id="S4.E8.m1.3.3.1.1.2.1.1.1.1.2.1.1.2.3a.cmml" xref="S4.E8.m1.3.3.1.1.2.1.1.1.1.2.1.1.2.3"><mtext mathsize="70%" id="S4.E8.m1.3.3.1.1.2.1.1.1.1.2.1.1.2.3.cmml" xref="S4.E8.m1.3.3.1.1.2.1.1.1.1.2.1.1.2.3">adv</mtext></ci></apply><apply id="S4.E8.m1.3.3.1.1.2.1.1.1.1.2.1.1.3.cmml" xref="S4.E8.m1.3.3.1.1.2.1.1.1.1.2.1.1.3"><csymbol cd="ambiguous" id="S4.E8.m1.3.3.1.1.2.1.1.1.1.2.1.1.3.1.cmml" xref="S4.E8.m1.3.3.1.1.2.1.1.1.1.2.1.1.3">superscript</csymbol><ci id="S4.E8.m1.3.3.1.1.2.1.1.1.1.2.1.1.3.2.cmml" xref="S4.E8.m1.3.3.1.1.2.1.1.1.1.2.1.1.3.2">𝒙</ci><ci id="S4.E8.m1.3.3.1.1.2.1.1.1.1.2.1.1.3.3.cmml" xref="S4.E8.m1.3.3.1.1.2.1.1.1.1.2.1.1.3.3">𝑡</ci></apply></apply></apply></apply><apply id="S4.E8.m1.3.3.1.1.2.3.cmml" xref="S4.E8.m1.3.3.1.1.2.3"><csymbol cd="ambiguous" id="S4.E8.m1.3.3.1.1.2.3.1.cmml" xref="S4.E8.m1.3.3.1.1.2.3">subscript</csymbol><ci id="S4.E8.m1.3.3.1.1.2.3.2.cmml" xref="S4.E8.m1.3.3.1.1.2.3.2">𝐶</ci><cn type="integer" id="S4.E8.m1.3.3.1.1.2.3.3.cmml" xref="S4.E8.m1.3.3.1.1.2.3.3">1</cn></apply></apply></apply><apply id="S4.E8.m1.3.3.1.1c.cmml" xref="S4.E8.m1.3.3.1"><approx id="S4.E8.m1.3.3.1.1.5.cmml" xref="S4.E8.m1.3.3.1.1.5"></approx><share href="#S4.E8.m1.3.3.1.1.2.cmml" id="S4.E8.m1.3.3.1.1d.cmml" xref="S4.E8.m1.3.3.1"></share><apply id="S4.E8.m1.3.3.1.1.6.cmml" xref="S4.E8.m1.3.3.1.1.6"><plus id="S4.E8.m1.3.3.1.1.6.1.cmml" xref="S4.E8.m1.3.3.1.1.6.1"></plus><apply id="S4.E8.m1.3.3.1.1.6.2.cmml" xref="S4.E8.m1.3.3.1.1.6.2"><times id="S4.E8.m1.3.3.1.1.6.2.1.cmml" xref="S4.E8.m1.3.3.1.1.6.2.1"></times><apply id="S4.E8.m1.3.3.1.1.6.2.2.cmml" xref="S4.E8.m1.3.3.1.1.6.2.2"><log id="S4.E8.m1.3.3.1.1.6.2.2.1.cmml" xref="S4.E8.m1.3.3.1.1.6.2.2.1"></log><ci id="S4.E8.m1.3.3.1.1.6.2.2.2.cmml" xref="S4.E8.m1.3.3.1.1.6.2.2.2">𝑝</ci></apply><ci id="S4.E8.m1.2.2.cmml" xref="S4.E8.m1.2.2">𝒛</ci></apply><apply id="S4.E8.m1.3.3.1.1.6.3.cmml" xref="S4.E8.m1.3.3.1.1.6.3"><csymbol cd="ambiguous" id="S4.E8.m1.3.3.1.1.6.3.1.cmml" xref="S4.E8.m1.3.3.1.1.6.3">subscript</csymbol><ci id="S4.E8.m1.3.3.1.1.6.3.2.cmml" xref="S4.E8.m1.3.3.1.1.6.3.2">𝐶</ci><cn type="integer" id="S4.E8.m1.3.3.1.1.6.3.3.cmml" xref="S4.E8.m1.3.3.1.1.6.3.3">2</cn></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E8.m1.3c">\displaystyle\log p_{\bm{\theta}}({\bm{x}}^{t-1}|{\bm{x}}^{t},{\bm{x}}_{\text{adv}})=\log[p_{\bm{\theta}}({\bm{x}}^{t-1}|{\bm{x}}^{t})p({\bm{x}}_{\text{adv}}|{\bm{x}}^{t})]+C_{1}\approx\log p({\bm{z}})+C_{2},</annotation><annotation encoding="application/x-llamapun" id="S4.E8.m1.3d">roman_log italic_p start_POSTSUBSCRIPT bold_italic_θ end_POSTSUBSCRIPT ( bold_italic_x start_POSTSUPERSCRIPT italic_t - 1 end_POSTSUPERSCRIPT | bold_italic_x start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT , bold_italic_x start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT ) = roman_log [ italic_p start_POSTSUBSCRIPT bold_italic_θ end_POSTSUBSCRIPT ( bold_italic_x start_POSTSUPERSCRIPT italic_t - 1 end_POSTSUPERSCRIPT | bold_italic_x start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT ) italic_p ( bold_italic_x start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT | bold_italic_x start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT ) ] + italic_C start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT ≈ roman_log italic_p ( bold_italic_z ) + italic_C start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(8)</span></td>
</tr></tbody>
<tbody id="S4.E9"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S4.E9.m1.5" class="ltx_Math" alttext="\displaystyle\text{ where }{\bm{z}}\sim{\mathcal{N}}({\bm{z}};\bm{\mu}_{\bm{\theta}}({\bm{x}}^{t},t)+\sigma_{t}^{2}{\bm{g}},\sigma_{t}^{2}{\bm{I}}),{\bm{g}}=\nabla_{{\bm{x}}^{t}}\log p({\bm{x}}_{\text{adv}}|{\bm{x}}^{t}),\text{$C_{1}$ and $C_{2}$ are some constants}." display="inline"><semantics id="S4.E9.m1.5a"><mrow id="S4.E9.m1.5.5.1"><mrow id="S4.E9.m1.5.5.1.1.2" xref="S4.E9.m1.5.5.1.1.3.cmml"><mrow id="S4.E9.m1.5.5.1.1.1.1" xref="S4.E9.m1.5.5.1.1.1.1.cmml"><mrow id="S4.E9.m1.5.5.1.1.1.1.4" xref="S4.E9.m1.5.5.1.1.1.1.4.cmml"><mtext id="S4.E9.m1.5.5.1.1.1.1.4.2" xref="S4.E9.m1.5.5.1.1.1.1.4.2a.cmml">where </mtext><mo id="S4.E9.m1.5.5.1.1.1.1.4.1" xref="S4.E9.m1.5.5.1.1.1.1.4.1.cmml">⁢</mo><mi id="S4.E9.m1.5.5.1.1.1.1.4.3" xref="S4.E9.m1.5.5.1.1.1.1.4.3.cmml">𝒛</mi></mrow><mo id="S4.E9.m1.5.5.1.1.1.1.3" xref="S4.E9.m1.5.5.1.1.1.1.3.cmml">∼</mo><mrow id="S4.E9.m1.5.5.1.1.1.1.2" xref="S4.E9.m1.5.5.1.1.1.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.E9.m1.5.5.1.1.1.1.2.4" xref="S4.E9.m1.5.5.1.1.1.1.2.4.cmml">𝒩</mi><mo id="S4.E9.m1.5.5.1.1.1.1.2.3" xref="S4.E9.m1.5.5.1.1.1.1.2.3.cmml">⁢</mo><mrow id="S4.E9.m1.5.5.1.1.1.1.2.2.2" xref="S4.E9.m1.5.5.1.1.1.1.2.2.3.cmml"><mo stretchy="false" id="S4.E9.m1.5.5.1.1.1.1.2.2.2.3" xref="S4.E9.m1.5.5.1.1.1.1.2.2.3.cmml">(</mo><mi id="S4.E9.m1.4.4" xref="S4.E9.m1.4.4.cmml">𝒛</mi><mo id="S4.E9.m1.5.5.1.1.1.1.2.2.2.4" xref="S4.E9.m1.5.5.1.1.1.1.2.2.3.cmml">;</mo><mrow id="S4.E9.m1.5.5.1.1.1.1.1.1.1.1" xref="S4.E9.m1.5.5.1.1.1.1.1.1.1.1.cmml"><mrow id="S4.E9.m1.5.5.1.1.1.1.1.1.1.1.1" xref="S4.E9.m1.5.5.1.1.1.1.1.1.1.1.1.cmml"><msub id="S4.E9.m1.5.5.1.1.1.1.1.1.1.1.1.3" xref="S4.E9.m1.5.5.1.1.1.1.1.1.1.1.1.3.cmml"><mi id="S4.E9.m1.5.5.1.1.1.1.1.1.1.1.1.3.2" xref="S4.E9.m1.5.5.1.1.1.1.1.1.1.1.1.3.2.cmml">𝝁</mi><mi id="S4.E9.m1.5.5.1.1.1.1.1.1.1.1.1.3.3" xref="S4.E9.m1.5.5.1.1.1.1.1.1.1.1.1.3.3.cmml">𝜽</mi></msub><mo id="S4.E9.m1.5.5.1.1.1.1.1.1.1.1.1.2" xref="S4.E9.m1.5.5.1.1.1.1.1.1.1.1.1.2.cmml">⁢</mo><mrow id="S4.E9.m1.5.5.1.1.1.1.1.1.1.1.1.1.1" xref="S4.E9.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.cmml"><mo stretchy="false" id="S4.E9.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.2" xref="S4.E9.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.cmml">(</mo><msup id="S4.E9.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1" xref="S4.E9.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S4.E9.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.2" xref="S4.E9.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">𝒙</mi><mi id="S4.E9.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="S4.E9.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml">t</mi></msup><mo id="S4.E9.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.3" xref="S4.E9.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.cmml">,</mo><mi id="S4.E9.m1.3.3" xref="S4.E9.m1.3.3.cmml">t</mi><mo stretchy="false" id="S4.E9.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.4" xref="S4.E9.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.cmml">)</mo></mrow></mrow><mo id="S4.E9.m1.5.5.1.1.1.1.1.1.1.1.2" xref="S4.E9.m1.5.5.1.1.1.1.1.1.1.1.2.cmml">+</mo><mrow id="S4.E9.m1.5.5.1.1.1.1.1.1.1.1.3" xref="S4.E9.m1.5.5.1.1.1.1.1.1.1.1.3.cmml"><msubsup id="S4.E9.m1.5.5.1.1.1.1.1.1.1.1.3.2" xref="S4.E9.m1.5.5.1.1.1.1.1.1.1.1.3.2.cmml"><mi id="S4.E9.m1.5.5.1.1.1.1.1.1.1.1.3.2.2.2" xref="S4.E9.m1.5.5.1.1.1.1.1.1.1.1.3.2.2.2.cmml">σ</mi><mi id="S4.E9.m1.5.5.1.1.1.1.1.1.1.1.3.2.2.3" xref="S4.E9.m1.5.5.1.1.1.1.1.1.1.1.3.2.2.3.cmml">t</mi><mn id="S4.E9.m1.5.5.1.1.1.1.1.1.1.1.3.2.3" xref="S4.E9.m1.5.5.1.1.1.1.1.1.1.1.3.2.3.cmml">2</mn></msubsup><mo id="S4.E9.m1.5.5.1.1.1.1.1.1.1.1.3.1" xref="S4.E9.m1.5.5.1.1.1.1.1.1.1.1.3.1.cmml">⁢</mo><mi id="S4.E9.m1.5.5.1.1.1.1.1.1.1.1.3.3" xref="S4.E9.m1.5.5.1.1.1.1.1.1.1.1.3.3.cmml">𝒈</mi></mrow></mrow><mo id="S4.E9.m1.5.5.1.1.1.1.2.2.2.5" xref="S4.E9.m1.5.5.1.1.1.1.2.2.3.cmml">,</mo><mrow id="S4.E9.m1.5.5.1.1.1.1.2.2.2.2" xref="S4.E9.m1.5.5.1.1.1.1.2.2.2.2.cmml"><msubsup id="S4.E9.m1.5.5.1.1.1.1.2.2.2.2.2" xref="S4.E9.m1.5.5.1.1.1.1.2.2.2.2.2.cmml"><mi id="S4.E9.m1.5.5.1.1.1.1.2.2.2.2.2.2.2" xref="S4.E9.m1.5.5.1.1.1.1.2.2.2.2.2.2.2.cmml">σ</mi><mi id="S4.E9.m1.5.5.1.1.1.1.2.2.2.2.2.2.3" xref="S4.E9.m1.5.5.1.1.1.1.2.2.2.2.2.2.3.cmml">t</mi><mn id="S4.E9.m1.5.5.1.1.1.1.2.2.2.2.2.3" xref="S4.E9.m1.5.5.1.1.1.1.2.2.2.2.2.3.cmml">2</mn></msubsup><mo id="S4.E9.m1.5.5.1.1.1.1.2.2.2.2.1" xref="S4.E9.m1.5.5.1.1.1.1.2.2.2.2.1.cmml">⁢</mo><mi id="S4.E9.m1.5.5.1.1.1.1.2.2.2.2.3" xref="S4.E9.m1.5.5.1.1.1.1.2.2.2.2.3.cmml">𝑰</mi></mrow><mo stretchy="false" id="S4.E9.m1.5.5.1.1.1.1.2.2.2.6" xref="S4.E9.m1.5.5.1.1.1.1.2.2.3.cmml">)</mo></mrow></mrow></mrow><mo id="S4.E9.m1.5.5.1.1.2.3" xref="S4.E9.m1.5.5.1.1.3a.cmml">,</mo><mrow id="S4.E9.m1.5.5.1.1.2.2" xref="S4.E9.m1.5.5.1.1.2.2.cmml"><mi id="S4.E9.m1.5.5.1.1.2.2.3" xref="S4.E9.m1.5.5.1.1.2.2.3.cmml">𝒈</mi><mo id="S4.E9.m1.5.5.1.1.2.2.2" xref="S4.E9.m1.5.5.1.1.2.2.2.cmml">=</mo><mrow id="S4.E9.m1.5.5.1.1.2.2.1.1" xref="S4.E9.m1.5.5.1.1.2.2.1.2.cmml"><mrow id="S4.E9.m1.5.5.1.1.2.2.1.1.1" xref="S4.E9.m1.5.5.1.1.2.2.1.1.1.cmml"><mrow id="S4.E9.m1.5.5.1.1.2.2.1.1.1.3" xref="S4.E9.m1.5.5.1.1.2.2.1.1.1.3.cmml"><mrow id="S4.E9.m1.5.5.1.1.2.2.1.1.1.3.1" xref="S4.E9.m1.5.5.1.1.2.2.1.1.1.3.1.cmml"><msub id="S4.E9.m1.5.5.1.1.2.2.1.1.1.3.1.1" xref="S4.E9.m1.5.5.1.1.2.2.1.1.1.3.1.1.cmml"><mo rspace="0.167em" id="S4.E9.m1.5.5.1.1.2.2.1.1.1.3.1.1.2" xref="S4.E9.m1.5.5.1.1.2.2.1.1.1.3.1.1.2.cmml">∇</mo><msup id="S4.E9.m1.5.5.1.1.2.2.1.1.1.3.1.1.3" xref="S4.E9.m1.5.5.1.1.2.2.1.1.1.3.1.1.3.cmml"><mi id="S4.E9.m1.5.5.1.1.2.2.1.1.1.3.1.1.3.2" xref="S4.E9.m1.5.5.1.1.2.2.1.1.1.3.1.1.3.2.cmml">𝒙</mi><mi id="S4.E9.m1.5.5.1.1.2.2.1.1.1.3.1.1.3.3" xref="S4.E9.m1.5.5.1.1.2.2.1.1.1.3.1.1.3.3.cmml">t</mi></msup></msub><mi id="S4.E9.m1.5.5.1.1.2.2.1.1.1.3.1.2" xref="S4.E9.m1.5.5.1.1.2.2.1.1.1.3.1.2.cmml">log</mi></mrow><mo lspace="0.167em" id="S4.E9.m1.5.5.1.1.2.2.1.1.1.3a" xref="S4.E9.m1.5.5.1.1.2.2.1.1.1.3.cmml">⁡</mo><mi id="S4.E9.m1.5.5.1.1.2.2.1.1.1.3.2" xref="S4.E9.m1.5.5.1.1.2.2.1.1.1.3.2.cmml">p</mi></mrow><mo id="S4.E9.m1.5.5.1.1.2.2.1.1.1.2" xref="S4.E9.m1.5.5.1.1.2.2.1.1.1.2.cmml">⁢</mo><mrow id="S4.E9.m1.5.5.1.1.2.2.1.1.1.1.1" xref="S4.E9.m1.5.5.1.1.2.2.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S4.E9.m1.5.5.1.1.2.2.1.1.1.1.1.2" xref="S4.E9.m1.5.5.1.1.2.2.1.1.1.1.1.1.cmml">(</mo><mrow id="S4.E9.m1.5.5.1.1.2.2.1.1.1.1.1.1" xref="S4.E9.m1.5.5.1.1.2.2.1.1.1.1.1.1.cmml"><msub id="S4.E9.m1.5.5.1.1.2.2.1.1.1.1.1.1.2" xref="S4.E9.m1.5.5.1.1.2.2.1.1.1.1.1.1.2.cmml"><mi id="S4.E9.m1.5.5.1.1.2.2.1.1.1.1.1.1.2.2" xref="S4.E9.m1.5.5.1.1.2.2.1.1.1.1.1.1.2.2.cmml">𝒙</mi><mtext id="S4.E9.m1.5.5.1.1.2.2.1.1.1.1.1.1.2.3" xref="S4.E9.m1.5.5.1.1.2.2.1.1.1.1.1.1.2.3a.cmml">adv</mtext></msub><mo fence="false" id="S4.E9.m1.5.5.1.1.2.2.1.1.1.1.1.1.1" xref="S4.E9.m1.5.5.1.1.2.2.1.1.1.1.1.1.1.cmml">|</mo><msup id="S4.E9.m1.5.5.1.1.2.2.1.1.1.1.1.1.3" xref="S4.E9.m1.5.5.1.1.2.2.1.1.1.1.1.1.3.cmml"><mi id="S4.E9.m1.5.5.1.1.2.2.1.1.1.1.1.1.3.2" xref="S4.E9.m1.5.5.1.1.2.2.1.1.1.1.1.1.3.2.cmml">𝒙</mi><mi id="S4.E9.m1.5.5.1.1.2.2.1.1.1.1.1.1.3.3" xref="S4.E9.m1.5.5.1.1.2.2.1.1.1.1.1.1.3.3.cmml">t</mi></msup></mrow><mo stretchy="false" id="S4.E9.m1.5.5.1.1.2.2.1.1.1.1.1.3" xref="S4.E9.m1.5.5.1.1.2.2.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S4.E9.m1.5.5.1.1.2.2.1.1.2" xref="S4.E9.m1.5.5.1.1.2.2.1.2.cmml">,</mo><mrow id="S4.E9.m1.2.2.2a" xref="S4.E9.m1.2.2.2ac.cmml"><msub id="S4.E9.m1.1.1.1.m1.1.1" xref="S4.E9.m1.1.1.1.m1.1.1.cmml"><mi id="S4.E9.m1.1.1.1.m1.1.1.2" xref="S4.E9.m1.1.1.1.m1.1.1.2.cmml">C</mi><mn id="S4.E9.m1.1.1.1.m1.1.1.3" xref="S4.E9.m1.1.1.1.m1.1.1.3.cmml">1</mn></msub><mtext id="S4.E9.m1.2.2.2aa" xref="S4.E9.m1.2.2.2ac.cmml"> and </mtext><msub id="S4.E9.m1.2.2.2.m2.1.1" xref="S4.E9.m1.2.2.2.m2.1.1.cmml"><mi id="S4.E9.m1.2.2.2.m2.1.1.2" xref="S4.E9.m1.2.2.2.m2.1.1.2.cmml">C</mi><mn id="S4.E9.m1.2.2.2.m2.1.1.3" xref="S4.E9.m1.2.2.2.m2.1.1.3.cmml">2</mn></msub><mtext id="S4.E9.m1.2.2.2ab" xref="S4.E9.m1.2.2.2ac.cmml"> are some constants</mtext></mrow></mrow></mrow></mrow><mo lspace="0em" id="S4.E9.m1.5.5.1.2">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.E9.m1.5b"><apply id="S4.E9.m1.5.5.1.1.3.cmml" xref="S4.E9.m1.5.5.1.1.2"><csymbol cd="ambiguous" id="S4.E9.m1.5.5.1.1.3a.cmml" xref="S4.E9.m1.5.5.1.1.2.3">formulae-sequence</csymbol><apply id="S4.E9.m1.5.5.1.1.1.1.cmml" xref="S4.E9.m1.5.5.1.1.1.1"><csymbol cd="latexml" id="S4.E9.m1.5.5.1.1.1.1.3.cmml" xref="S4.E9.m1.5.5.1.1.1.1.3">similar-to</csymbol><apply id="S4.E9.m1.5.5.1.1.1.1.4.cmml" xref="S4.E9.m1.5.5.1.1.1.1.4"><times id="S4.E9.m1.5.5.1.1.1.1.4.1.cmml" xref="S4.E9.m1.5.5.1.1.1.1.4.1"></times><ci id="S4.E9.m1.5.5.1.1.1.1.4.2a.cmml" xref="S4.E9.m1.5.5.1.1.1.1.4.2"><mtext id="S4.E9.m1.5.5.1.1.1.1.4.2.cmml" xref="S4.E9.m1.5.5.1.1.1.1.4.2">where </mtext></ci><ci id="S4.E9.m1.5.5.1.1.1.1.4.3.cmml" xref="S4.E9.m1.5.5.1.1.1.1.4.3">𝒛</ci></apply><apply id="S4.E9.m1.5.5.1.1.1.1.2.cmml" xref="S4.E9.m1.5.5.1.1.1.1.2"><times id="S4.E9.m1.5.5.1.1.1.1.2.3.cmml" xref="S4.E9.m1.5.5.1.1.1.1.2.3"></times><ci id="S4.E9.m1.5.5.1.1.1.1.2.4.cmml" xref="S4.E9.m1.5.5.1.1.1.1.2.4">𝒩</ci><list id="S4.E9.m1.5.5.1.1.1.1.2.2.3.cmml" xref="S4.E9.m1.5.5.1.1.1.1.2.2.2"><ci id="S4.E9.m1.4.4.cmml" xref="S4.E9.m1.4.4">𝒛</ci><apply id="S4.E9.m1.5.5.1.1.1.1.1.1.1.1.cmml" xref="S4.E9.m1.5.5.1.1.1.1.1.1.1.1"><plus id="S4.E9.m1.5.5.1.1.1.1.1.1.1.1.2.cmml" xref="S4.E9.m1.5.5.1.1.1.1.1.1.1.1.2"></plus><apply id="S4.E9.m1.5.5.1.1.1.1.1.1.1.1.1.cmml" xref="S4.E9.m1.5.5.1.1.1.1.1.1.1.1.1"><times id="S4.E9.m1.5.5.1.1.1.1.1.1.1.1.1.2.cmml" xref="S4.E9.m1.5.5.1.1.1.1.1.1.1.1.1.2"></times><apply id="S4.E9.m1.5.5.1.1.1.1.1.1.1.1.1.3.cmml" xref="S4.E9.m1.5.5.1.1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.E9.m1.5.5.1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S4.E9.m1.5.5.1.1.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S4.E9.m1.5.5.1.1.1.1.1.1.1.1.1.3.2.cmml" xref="S4.E9.m1.5.5.1.1.1.1.1.1.1.1.1.3.2">𝝁</ci><ci id="S4.E9.m1.5.5.1.1.1.1.1.1.1.1.1.3.3.cmml" xref="S4.E9.m1.5.5.1.1.1.1.1.1.1.1.1.3.3">𝜽</ci></apply><interval closure="open" id="S4.E9.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S4.E9.m1.5.5.1.1.1.1.1.1.1.1.1.1.1"><apply id="S4.E9.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S4.E9.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.E9.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S4.E9.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1">superscript</csymbol><ci id="S4.E9.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S4.E9.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.2">𝒙</ci><ci id="S4.E9.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S4.E9.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.3">𝑡</ci></apply><ci id="S4.E9.m1.3.3.cmml" xref="S4.E9.m1.3.3">𝑡</ci></interval></apply><apply id="S4.E9.m1.5.5.1.1.1.1.1.1.1.1.3.cmml" xref="S4.E9.m1.5.5.1.1.1.1.1.1.1.1.3"><times id="S4.E9.m1.5.5.1.1.1.1.1.1.1.1.3.1.cmml" xref="S4.E9.m1.5.5.1.1.1.1.1.1.1.1.3.1"></times><apply id="S4.E9.m1.5.5.1.1.1.1.1.1.1.1.3.2.cmml" xref="S4.E9.m1.5.5.1.1.1.1.1.1.1.1.3.2"><csymbol cd="ambiguous" id="S4.E9.m1.5.5.1.1.1.1.1.1.1.1.3.2.1.cmml" xref="S4.E9.m1.5.5.1.1.1.1.1.1.1.1.3.2">superscript</csymbol><apply id="S4.E9.m1.5.5.1.1.1.1.1.1.1.1.3.2.2.cmml" xref="S4.E9.m1.5.5.1.1.1.1.1.1.1.1.3.2"><csymbol cd="ambiguous" id="S4.E9.m1.5.5.1.1.1.1.1.1.1.1.3.2.2.1.cmml" xref="S4.E9.m1.5.5.1.1.1.1.1.1.1.1.3.2">subscript</csymbol><ci id="S4.E9.m1.5.5.1.1.1.1.1.1.1.1.3.2.2.2.cmml" xref="S4.E9.m1.5.5.1.1.1.1.1.1.1.1.3.2.2.2">𝜎</ci><ci id="S4.E9.m1.5.5.1.1.1.1.1.1.1.1.3.2.2.3.cmml" xref="S4.E9.m1.5.5.1.1.1.1.1.1.1.1.3.2.2.3">𝑡</ci></apply><cn type="integer" id="S4.E9.m1.5.5.1.1.1.1.1.1.1.1.3.2.3.cmml" xref="S4.E9.m1.5.5.1.1.1.1.1.1.1.1.3.2.3">2</cn></apply><ci id="S4.E9.m1.5.5.1.1.1.1.1.1.1.1.3.3.cmml" xref="S4.E9.m1.5.5.1.1.1.1.1.1.1.1.3.3">𝒈</ci></apply></apply><apply id="S4.E9.m1.5.5.1.1.1.1.2.2.2.2.cmml" xref="S4.E9.m1.5.5.1.1.1.1.2.2.2.2"><times id="S4.E9.m1.5.5.1.1.1.1.2.2.2.2.1.cmml" xref="S4.E9.m1.5.5.1.1.1.1.2.2.2.2.1"></times><apply id="S4.E9.m1.5.5.1.1.1.1.2.2.2.2.2.cmml" xref="S4.E9.m1.5.5.1.1.1.1.2.2.2.2.2"><csymbol cd="ambiguous" id="S4.E9.m1.5.5.1.1.1.1.2.2.2.2.2.1.cmml" xref="S4.E9.m1.5.5.1.1.1.1.2.2.2.2.2">superscript</csymbol><apply id="S4.E9.m1.5.5.1.1.1.1.2.2.2.2.2.2.cmml" xref="S4.E9.m1.5.5.1.1.1.1.2.2.2.2.2"><csymbol cd="ambiguous" id="S4.E9.m1.5.5.1.1.1.1.2.2.2.2.2.2.1.cmml" xref="S4.E9.m1.5.5.1.1.1.1.2.2.2.2.2">subscript</csymbol><ci id="S4.E9.m1.5.5.1.1.1.1.2.2.2.2.2.2.2.cmml" xref="S4.E9.m1.5.5.1.1.1.1.2.2.2.2.2.2.2">𝜎</ci><ci id="S4.E9.m1.5.5.1.1.1.1.2.2.2.2.2.2.3.cmml" xref="S4.E9.m1.5.5.1.1.1.1.2.2.2.2.2.2.3">𝑡</ci></apply><cn type="integer" id="S4.E9.m1.5.5.1.1.1.1.2.2.2.2.2.3.cmml" xref="S4.E9.m1.5.5.1.1.1.1.2.2.2.2.2.3">2</cn></apply><ci id="S4.E9.m1.5.5.1.1.1.1.2.2.2.2.3.cmml" xref="S4.E9.m1.5.5.1.1.1.1.2.2.2.2.3">𝑰</ci></apply></list></apply></apply><apply id="S4.E9.m1.5.5.1.1.2.2.cmml" xref="S4.E9.m1.5.5.1.1.2.2"><eq id="S4.E9.m1.5.5.1.1.2.2.2.cmml" xref="S4.E9.m1.5.5.1.1.2.2.2"></eq><ci id="S4.E9.m1.5.5.1.1.2.2.3.cmml" xref="S4.E9.m1.5.5.1.1.2.2.3">𝒈</ci><list id="S4.E9.m1.5.5.1.1.2.2.1.2.cmml" xref="S4.E9.m1.5.5.1.1.2.2.1.1"><apply id="S4.E9.m1.5.5.1.1.2.2.1.1.1.cmml" xref="S4.E9.m1.5.5.1.1.2.2.1.1.1"><times id="S4.E9.m1.5.5.1.1.2.2.1.1.1.2.cmml" xref="S4.E9.m1.5.5.1.1.2.2.1.1.1.2"></times><apply id="S4.E9.m1.5.5.1.1.2.2.1.1.1.3.cmml" xref="S4.E9.m1.5.5.1.1.2.2.1.1.1.3"><apply id="S4.E9.m1.5.5.1.1.2.2.1.1.1.3.1.cmml" xref="S4.E9.m1.5.5.1.1.2.2.1.1.1.3.1"><apply id="S4.E9.m1.5.5.1.1.2.2.1.1.1.3.1.1.cmml" xref="S4.E9.m1.5.5.1.1.2.2.1.1.1.3.1.1"><csymbol cd="ambiguous" id="S4.E9.m1.5.5.1.1.2.2.1.1.1.3.1.1.1.cmml" xref="S4.E9.m1.5.5.1.1.2.2.1.1.1.3.1.1">subscript</csymbol><ci id="S4.E9.m1.5.5.1.1.2.2.1.1.1.3.1.1.2.cmml" xref="S4.E9.m1.5.5.1.1.2.2.1.1.1.3.1.1.2">∇</ci><apply id="S4.E9.m1.5.5.1.1.2.2.1.1.1.3.1.1.3.cmml" xref="S4.E9.m1.5.5.1.1.2.2.1.1.1.3.1.1.3"><csymbol cd="ambiguous" id="S4.E9.m1.5.5.1.1.2.2.1.1.1.3.1.1.3.1.cmml" xref="S4.E9.m1.5.5.1.1.2.2.1.1.1.3.1.1.3">superscript</csymbol><ci id="S4.E9.m1.5.5.1.1.2.2.1.1.1.3.1.1.3.2.cmml" xref="S4.E9.m1.5.5.1.1.2.2.1.1.1.3.1.1.3.2">𝒙</ci><ci id="S4.E9.m1.5.5.1.1.2.2.1.1.1.3.1.1.3.3.cmml" xref="S4.E9.m1.5.5.1.1.2.2.1.1.1.3.1.1.3.3">𝑡</ci></apply></apply><log id="S4.E9.m1.5.5.1.1.2.2.1.1.1.3.1.2.cmml" xref="S4.E9.m1.5.5.1.1.2.2.1.1.1.3.1.2"></log></apply><ci id="S4.E9.m1.5.5.1.1.2.2.1.1.1.3.2.cmml" xref="S4.E9.m1.5.5.1.1.2.2.1.1.1.3.2">𝑝</ci></apply><apply id="S4.E9.m1.5.5.1.1.2.2.1.1.1.1.1.1.cmml" xref="S4.E9.m1.5.5.1.1.2.2.1.1.1.1.1"><csymbol cd="latexml" id="S4.E9.m1.5.5.1.1.2.2.1.1.1.1.1.1.1.cmml" xref="S4.E9.m1.5.5.1.1.2.2.1.1.1.1.1.1.1">conditional</csymbol><apply id="S4.E9.m1.5.5.1.1.2.2.1.1.1.1.1.1.2.cmml" xref="S4.E9.m1.5.5.1.1.2.2.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S4.E9.m1.5.5.1.1.2.2.1.1.1.1.1.1.2.1.cmml" xref="S4.E9.m1.5.5.1.1.2.2.1.1.1.1.1.1.2">subscript</csymbol><ci id="S4.E9.m1.5.5.1.1.2.2.1.1.1.1.1.1.2.2.cmml" xref="S4.E9.m1.5.5.1.1.2.2.1.1.1.1.1.1.2.2">𝒙</ci><ci id="S4.E9.m1.5.5.1.1.2.2.1.1.1.1.1.1.2.3a.cmml" xref="S4.E9.m1.5.5.1.1.2.2.1.1.1.1.1.1.2.3"><mtext mathsize="70%" id="S4.E9.m1.5.5.1.1.2.2.1.1.1.1.1.1.2.3.cmml" xref="S4.E9.m1.5.5.1.1.2.2.1.1.1.1.1.1.2.3">adv</mtext></ci></apply><apply id="S4.E9.m1.5.5.1.1.2.2.1.1.1.1.1.1.3.cmml" xref="S4.E9.m1.5.5.1.1.2.2.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.E9.m1.5.5.1.1.2.2.1.1.1.1.1.1.3.1.cmml" xref="S4.E9.m1.5.5.1.1.2.2.1.1.1.1.1.1.3">superscript</csymbol><ci id="S4.E9.m1.5.5.1.1.2.2.1.1.1.1.1.1.3.2.cmml" xref="S4.E9.m1.5.5.1.1.2.2.1.1.1.1.1.1.3.2">𝒙</ci><ci id="S4.E9.m1.5.5.1.1.2.2.1.1.1.1.1.1.3.3.cmml" xref="S4.E9.m1.5.5.1.1.2.2.1.1.1.1.1.1.3.3">𝑡</ci></apply></apply></apply><ci id="S4.E9.m1.2.2.2ac.cmml" xref="S4.E9.m1.2.2.2a"><mrow id="S4.E9.m1.2.2.2a.cmml" xref="S4.E9.m1.2.2.2a"><msub id="S4.E9.m1.1.1.1.m1.1.1.cmml" xref="S4.E9.m1.1.1.1.m1.1.1"><mi id="S4.E9.m1.1.1.1.m1.1.1.2.cmml" xref="S4.E9.m1.1.1.1.m1.1.1.2">C</mi><mn id="S4.E9.m1.1.1.1.m1.1.1.3.cmml" xref="S4.E9.m1.1.1.1.m1.1.1.3">1</mn></msub><mtext id="S4.E9.m1.2.2.2aa.cmml" xref="S4.E9.m1.2.2.2a"> and </mtext><msub id="S4.E9.m1.2.2.2.m2.1.1.cmml" xref="S4.E9.m1.2.2.2.m2.1.1"><mi id="S4.E9.m1.2.2.2.m2.1.1.2.cmml" xref="S4.E9.m1.2.2.2.m2.1.1.2">C</mi><mn id="S4.E9.m1.2.2.2.m2.1.1.3.cmml" xref="S4.E9.m1.2.2.2.m2.1.1.3">2</mn></msub><mtext id="S4.E9.m1.2.2.2ab.cmml" xref="S4.E9.m1.2.2.2a"> are some constants</mtext></mrow></ci></list></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E9.m1.5c">\displaystyle\text{ where }{\bm{z}}\sim{\mathcal{N}}({\bm{z}};\bm{\mu}_{\bm{\theta}}({\bm{x}}^{t},t)+\sigma_{t}^{2}{\bm{g}},\sigma_{t}^{2}{\bm{I}}),{\bm{g}}=\nabla_{{\bm{x}}^{t}}\log p({\bm{x}}_{\text{adv}}|{\bm{x}}^{t}),\text{$C_{1}$ and $C_{2}$ are some constants}.</annotation><annotation encoding="application/x-llamapun" id="S4.E9.m1.5d">where bold_italic_z ∼ caligraphic_N ( bold_italic_z ; bold_italic_μ start_POSTSUBSCRIPT bold_italic_θ end_POSTSUBSCRIPT ( bold_italic_x start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT , italic_t ) + italic_σ start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT start_POSTSUPERSCRIPT 2 end_POSTSUPERSCRIPT bold_italic_g , italic_σ start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT start_POSTSUPERSCRIPT 2 end_POSTSUPERSCRIPT bold_italic_I ) , bold_italic_g = ∇ start_POSTSUBSCRIPT bold_italic_x start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT end_POSTSUBSCRIPT roman_log italic_p ( bold_italic_x start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT | bold_italic_x start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT ) , italic_C start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT and italic_C start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT are some constants .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(9)</span></td>
</tr></tbody>
</table>
<p id="S4.SS2.p3.7" class="ltx_p">In the above equation, <math id="S4.SS2.p3.4.m1.1" class="ltx_Math" alttext="p_{\bm{\theta}}({\bm{x}}^{t-1}|{\bm{x}}^{t})" display="inline"><semantics id="S4.SS2.p3.4.m1.1a"><mrow id="S4.SS2.p3.4.m1.1.1" xref="S4.SS2.p3.4.m1.1.1.cmml"><msub id="S4.SS2.p3.4.m1.1.1.3" xref="S4.SS2.p3.4.m1.1.1.3.cmml"><mi id="S4.SS2.p3.4.m1.1.1.3.2" xref="S4.SS2.p3.4.m1.1.1.3.2.cmml">p</mi><mi id="S4.SS2.p3.4.m1.1.1.3.3" xref="S4.SS2.p3.4.m1.1.1.3.3.cmml">𝜽</mi></msub><mo id="S4.SS2.p3.4.m1.1.1.2" xref="S4.SS2.p3.4.m1.1.1.2.cmml">⁢</mo><mrow id="S4.SS2.p3.4.m1.1.1.1.1" xref="S4.SS2.p3.4.m1.1.1.1.1.1.cmml"><mo stretchy="false" id="S4.SS2.p3.4.m1.1.1.1.1.2" xref="S4.SS2.p3.4.m1.1.1.1.1.1.cmml">(</mo><mrow id="S4.SS2.p3.4.m1.1.1.1.1.1" xref="S4.SS2.p3.4.m1.1.1.1.1.1.cmml"><msup id="S4.SS2.p3.4.m1.1.1.1.1.1.2" xref="S4.SS2.p3.4.m1.1.1.1.1.1.2.cmml"><mi id="S4.SS2.p3.4.m1.1.1.1.1.1.2.2" xref="S4.SS2.p3.4.m1.1.1.1.1.1.2.2.cmml">𝒙</mi><mrow id="S4.SS2.p3.4.m1.1.1.1.1.1.2.3" xref="S4.SS2.p3.4.m1.1.1.1.1.1.2.3.cmml"><mi id="S4.SS2.p3.4.m1.1.1.1.1.1.2.3.2" xref="S4.SS2.p3.4.m1.1.1.1.1.1.2.3.2.cmml">t</mi><mo id="S4.SS2.p3.4.m1.1.1.1.1.1.2.3.1" xref="S4.SS2.p3.4.m1.1.1.1.1.1.2.3.1.cmml">−</mo><mn id="S4.SS2.p3.4.m1.1.1.1.1.1.2.3.3" xref="S4.SS2.p3.4.m1.1.1.1.1.1.2.3.3.cmml">1</mn></mrow></msup><mo fence="false" id="S4.SS2.p3.4.m1.1.1.1.1.1.1" xref="S4.SS2.p3.4.m1.1.1.1.1.1.1.cmml">|</mo><msup id="S4.SS2.p3.4.m1.1.1.1.1.1.3" xref="S4.SS2.p3.4.m1.1.1.1.1.1.3.cmml"><mi id="S4.SS2.p3.4.m1.1.1.1.1.1.3.2" xref="S4.SS2.p3.4.m1.1.1.1.1.1.3.2.cmml">𝒙</mi><mi id="S4.SS2.p3.4.m1.1.1.1.1.1.3.3" xref="S4.SS2.p3.4.m1.1.1.1.1.1.3.3.cmml">t</mi></msup></mrow><mo stretchy="false" id="S4.SS2.p3.4.m1.1.1.1.1.3" xref="S4.SS2.p3.4.m1.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p3.4.m1.1b"><apply id="S4.SS2.p3.4.m1.1.1.cmml" xref="S4.SS2.p3.4.m1.1.1"><times id="S4.SS2.p3.4.m1.1.1.2.cmml" xref="S4.SS2.p3.4.m1.1.1.2"></times><apply id="S4.SS2.p3.4.m1.1.1.3.cmml" xref="S4.SS2.p3.4.m1.1.1.3"><csymbol cd="ambiguous" id="S4.SS2.p3.4.m1.1.1.3.1.cmml" xref="S4.SS2.p3.4.m1.1.1.3">subscript</csymbol><ci id="S4.SS2.p3.4.m1.1.1.3.2.cmml" xref="S4.SS2.p3.4.m1.1.1.3.2">𝑝</ci><ci id="S4.SS2.p3.4.m1.1.1.3.3.cmml" xref="S4.SS2.p3.4.m1.1.1.3.3">𝜽</ci></apply><apply id="S4.SS2.p3.4.m1.1.1.1.1.1.cmml" xref="S4.SS2.p3.4.m1.1.1.1.1"><csymbol cd="latexml" id="S4.SS2.p3.4.m1.1.1.1.1.1.1.cmml" xref="S4.SS2.p3.4.m1.1.1.1.1.1.1">conditional</csymbol><apply id="S4.SS2.p3.4.m1.1.1.1.1.1.2.cmml" xref="S4.SS2.p3.4.m1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S4.SS2.p3.4.m1.1.1.1.1.1.2.1.cmml" xref="S4.SS2.p3.4.m1.1.1.1.1.1.2">superscript</csymbol><ci id="S4.SS2.p3.4.m1.1.1.1.1.1.2.2.cmml" xref="S4.SS2.p3.4.m1.1.1.1.1.1.2.2">𝒙</ci><apply id="S4.SS2.p3.4.m1.1.1.1.1.1.2.3.cmml" xref="S4.SS2.p3.4.m1.1.1.1.1.1.2.3"><minus id="S4.SS2.p3.4.m1.1.1.1.1.1.2.3.1.cmml" xref="S4.SS2.p3.4.m1.1.1.1.1.1.2.3.1"></minus><ci id="S4.SS2.p3.4.m1.1.1.1.1.1.2.3.2.cmml" xref="S4.SS2.p3.4.m1.1.1.1.1.1.2.3.2">𝑡</ci><cn type="integer" id="S4.SS2.p3.4.m1.1.1.1.1.1.2.3.3.cmml" xref="S4.SS2.p3.4.m1.1.1.1.1.1.2.3.3">1</cn></apply></apply><apply id="S4.SS2.p3.4.m1.1.1.1.1.1.3.cmml" xref="S4.SS2.p3.4.m1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.SS2.p3.4.m1.1.1.1.1.1.3.1.cmml" xref="S4.SS2.p3.4.m1.1.1.1.1.1.3">superscript</csymbol><ci id="S4.SS2.p3.4.m1.1.1.1.1.1.3.2.cmml" xref="S4.SS2.p3.4.m1.1.1.1.1.1.3.2">𝒙</ci><ci id="S4.SS2.p3.4.m1.1.1.1.1.1.3.3.cmml" xref="S4.SS2.p3.4.m1.1.1.1.1.1.3.3">𝑡</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p3.4.m1.1c">p_{\bm{\theta}}({\bm{x}}^{t-1}|{\bm{x}}^{t})</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p3.4.m1.1d">italic_p start_POSTSUBSCRIPT bold_italic_θ end_POSTSUBSCRIPT ( bold_italic_x start_POSTSUPERSCRIPT italic_t - 1 end_POSTSUPERSCRIPT | bold_italic_x start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT )</annotation></semantics></math> is the unconditional DDPM that we already have,
and <math id="S4.SS2.p3.5.m2.1" class="ltx_Math" alttext="p({\bm{x}}_{\text{adv}}|{\bm{x}}^{t})" display="inline"><semantics id="S4.SS2.p3.5.m2.1a"><mrow id="S4.SS2.p3.5.m2.1.1" xref="S4.SS2.p3.5.m2.1.1.cmml"><mi id="S4.SS2.p3.5.m2.1.1.3" xref="S4.SS2.p3.5.m2.1.1.3.cmml">p</mi><mo id="S4.SS2.p3.5.m2.1.1.2" xref="S4.SS2.p3.5.m2.1.1.2.cmml">⁢</mo><mrow id="S4.SS2.p3.5.m2.1.1.1.1" xref="S4.SS2.p3.5.m2.1.1.1.1.1.cmml"><mo stretchy="false" id="S4.SS2.p3.5.m2.1.1.1.1.2" xref="S4.SS2.p3.5.m2.1.1.1.1.1.cmml">(</mo><mrow id="S4.SS2.p3.5.m2.1.1.1.1.1" xref="S4.SS2.p3.5.m2.1.1.1.1.1.cmml"><msub id="S4.SS2.p3.5.m2.1.1.1.1.1.2" xref="S4.SS2.p3.5.m2.1.1.1.1.1.2.cmml"><mi id="S4.SS2.p3.5.m2.1.1.1.1.1.2.2" xref="S4.SS2.p3.5.m2.1.1.1.1.1.2.2.cmml">𝒙</mi><mtext id="S4.SS2.p3.5.m2.1.1.1.1.1.2.3" xref="S4.SS2.p3.5.m2.1.1.1.1.1.2.3a.cmml">adv</mtext></msub><mo fence="false" id="S4.SS2.p3.5.m2.1.1.1.1.1.1" xref="S4.SS2.p3.5.m2.1.1.1.1.1.1.cmml">|</mo><msup id="S4.SS2.p3.5.m2.1.1.1.1.1.3" xref="S4.SS2.p3.5.m2.1.1.1.1.1.3.cmml"><mi id="S4.SS2.p3.5.m2.1.1.1.1.1.3.2" xref="S4.SS2.p3.5.m2.1.1.1.1.1.3.2.cmml">𝒙</mi><mi id="S4.SS2.p3.5.m2.1.1.1.1.1.3.3" xref="S4.SS2.p3.5.m2.1.1.1.1.1.3.3.cmml">t</mi></msup></mrow><mo stretchy="false" id="S4.SS2.p3.5.m2.1.1.1.1.3" xref="S4.SS2.p3.5.m2.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p3.5.m2.1b"><apply id="S4.SS2.p3.5.m2.1.1.cmml" xref="S4.SS2.p3.5.m2.1.1"><times id="S4.SS2.p3.5.m2.1.1.2.cmml" xref="S4.SS2.p3.5.m2.1.1.2"></times><ci id="S4.SS2.p3.5.m2.1.1.3.cmml" xref="S4.SS2.p3.5.m2.1.1.3">𝑝</ci><apply id="S4.SS2.p3.5.m2.1.1.1.1.1.cmml" xref="S4.SS2.p3.5.m2.1.1.1.1"><csymbol cd="latexml" id="S4.SS2.p3.5.m2.1.1.1.1.1.1.cmml" xref="S4.SS2.p3.5.m2.1.1.1.1.1.1">conditional</csymbol><apply id="S4.SS2.p3.5.m2.1.1.1.1.1.2.cmml" xref="S4.SS2.p3.5.m2.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S4.SS2.p3.5.m2.1.1.1.1.1.2.1.cmml" xref="S4.SS2.p3.5.m2.1.1.1.1.1.2">subscript</csymbol><ci id="S4.SS2.p3.5.m2.1.1.1.1.1.2.2.cmml" xref="S4.SS2.p3.5.m2.1.1.1.1.1.2.2">𝒙</ci><ci id="S4.SS2.p3.5.m2.1.1.1.1.1.2.3a.cmml" xref="S4.SS2.p3.5.m2.1.1.1.1.1.2.3"><mtext mathsize="70%" id="S4.SS2.p3.5.m2.1.1.1.1.1.2.3.cmml" xref="S4.SS2.p3.5.m2.1.1.1.1.1.2.3">adv</mtext></ci></apply><apply id="S4.SS2.p3.5.m2.1.1.1.1.1.3.cmml" xref="S4.SS2.p3.5.m2.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.SS2.p3.5.m2.1.1.1.1.1.3.1.cmml" xref="S4.SS2.p3.5.m2.1.1.1.1.1.3">superscript</csymbol><ci id="S4.SS2.p3.5.m2.1.1.1.1.1.3.2.cmml" xref="S4.SS2.p3.5.m2.1.1.1.1.1.3.2">𝒙</ci><ci id="S4.SS2.p3.5.m2.1.1.1.1.1.3.3.cmml" xref="S4.SS2.p3.5.m2.1.1.1.1.1.3.3">𝑡</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p3.5.m2.1c">p({\bm{x}}_{\text{adv}}|{\bm{x}}^{t})</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p3.5.m2.1d">italic_p ( bold_italic_x start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT | bold_italic_x start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT )</annotation></semantics></math> can be interpreted as
the probability that <math id="S4.SS2.p3.6.m3.1" class="ltx_Math" alttext="{\bm{x}}^{t}" display="inline"><semantics id="S4.SS2.p3.6.m3.1a"><msup id="S4.SS2.p3.6.m3.1.1" xref="S4.SS2.p3.6.m3.1.1.cmml"><mi id="S4.SS2.p3.6.m3.1.1.2" xref="S4.SS2.p3.6.m3.1.1.2.cmml">𝒙</mi><mi id="S4.SS2.p3.6.m3.1.1.3" xref="S4.SS2.p3.6.m3.1.1.3.cmml">t</mi></msup><annotation-xml encoding="MathML-Content" id="S4.SS2.p3.6.m3.1b"><apply id="S4.SS2.p3.6.m3.1.1.cmml" xref="S4.SS2.p3.6.m3.1.1"><csymbol cd="ambiguous" id="S4.SS2.p3.6.m3.1.1.1.cmml" xref="S4.SS2.p3.6.m3.1.1">superscript</csymbol><ci id="S4.SS2.p3.6.m3.1.1.2.cmml" xref="S4.SS2.p3.6.m3.1.1.2">𝒙</ci><ci id="S4.SS2.p3.6.m3.1.1.3.cmml" xref="S4.SS2.p3.6.m3.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p3.6.m3.1c">{\bm{x}}^{t}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p3.6.m3.1d">bold_italic_x start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT</annotation></semantics></math> will eventually be denoised to a clean image close to <math id="S4.SS2.p3.7.m4.1" class="ltx_Math" alttext="{\bm{x}}_{\text{adv}}" display="inline"><semantics id="S4.SS2.p3.7.m4.1a"><msub id="S4.SS2.p3.7.m4.1.1" xref="S4.SS2.p3.7.m4.1.1.cmml"><mi id="S4.SS2.p3.7.m4.1.1.2" xref="S4.SS2.p3.7.m4.1.1.2.cmml">𝒙</mi><mtext id="S4.SS2.p3.7.m4.1.1.3" xref="S4.SS2.p3.7.m4.1.1.3a.cmml">adv</mtext></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.p3.7.m4.1b"><apply id="S4.SS2.p3.7.m4.1.1.cmml" xref="S4.SS2.p3.7.m4.1.1"><csymbol cd="ambiguous" id="S4.SS2.p3.7.m4.1.1.1.cmml" xref="S4.SS2.p3.7.m4.1.1">subscript</csymbol><ci id="S4.SS2.p3.7.m4.1.1.2.cmml" xref="S4.SS2.p3.7.m4.1.1.2">𝒙</ci><ci id="S4.SS2.p3.7.m4.1.1.3a.cmml" xref="S4.SS2.p3.7.m4.1.1.3"><mtext mathsize="70%" id="S4.SS2.p3.7.m4.1.1.3.cmml" xref="S4.SS2.p3.7.m4.1.1.3">adv</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p3.7.m4.1c">{\bm{x}}_{\text{adv}}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p3.7.m4.1d">bold_italic_x start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT</annotation></semantics></math>.
We propose a heuristic formulation to approximate this probability:</p>
<table id="A1.EGx3" class="ltx_equationgroup ltx_eqn_align ltx_eqn_table">

<tbody id="S4.E10"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S4.E10.m1.4" class="ltx_Math" alttext="\displaystyle p({\bm{x}}_{\text{adv}}|{\bm{x}}^{t})=\frac{1}{Z}\exp\left(-s\mathcal{D}\left({\bm{x}}^{t},{\bm{x}}^{t}_{\text{adv}}\right)\right),\text{ where $\mathcal{D}$ is some distance metric,}" display="inline"><semantics id="S4.E10.m1.4a"><mrow id="S4.E10.m1.4.4" xref="S4.E10.m1.4.4.cmml"><mrow id="S4.E10.m1.3.3.1" xref="S4.E10.m1.3.3.1.cmml"><mi id="S4.E10.m1.3.3.1.3" xref="S4.E10.m1.3.3.1.3.cmml">p</mi><mo id="S4.E10.m1.3.3.1.2" xref="S4.E10.m1.3.3.1.2.cmml">⁢</mo><mrow id="S4.E10.m1.3.3.1.1.1" xref="S4.E10.m1.3.3.1.1.1.1.cmml"><mo stretchy="false" id="S4.E10.m1.3.3.1.1.1.2" xref="S4.E10.m1.3.3.1.1.1.1.cmml">(</mo><mrow id="S4.E10.m1.3.3.1.1.1.1" xref="S4.E10.m1.3.3.1.1.1.1.cmml"><msub id="S4.E10.m1.3.3.1.1.1.1.2" xref="S4.E10.m1.3.3.1.1.1.1.2.cmml"><mi id="S4.E10.m1.3.3.1.1.1.1.2.2" xref="S4.E10.m1.3.3.1.1.1.1.2.2.cmml">𝒙</mi><mtext id="S4.E10.m1.3.3.1.1.1.1.2.3" xref="S4.E10.m1.3.3.1.1.1.1.2.3a.cmml">adv</mtext></msub><mo fence="false" id="S4.E10.m1.3.3.1.1.1.1.1" xref="S4.E10.m1.3.3.1.1.1.1.1.cmml">|</mo><msup id="S4.E10.m1.3.3.1.1.1.1.3" xref="S4.E10.m1.3.3.1.1.1.1.3.cmml"><mi id="S4.E10.m1.3.3.1.1.1.1.3.2" xref="S4.E10.m1.3.3.1.1.1.1.3.2.cmml">𝒙</mi><mi id="S4.E10.m1.3.3.1.1.1.1.3.3" xref="S4.E10.m1.3.3.1.1.1.1.3.3.cmml">t</mi></msup></mrow><mo stretchy="false" id="S4.E10.m1.3.3.1.1.1.3" xref="S4.E10.m1.3.3.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S4.E10.m1.4.4.3" xref="S4.E10.m1.4.4.3.cmml">=</mo><mrow id="S4.E10.m1.4.4.2.1" xref="S4.E10.m1.4.4.2.2.cmml"><mrow id="S4.E10.m1.4.4.2.1.1" xref="S4.E10.m1.4.4.2.1.1.cmml"><mstyle displaystyle="true" id="S4.E10.m1.4.4.2.1.1.3" xref="S4.E10.m1.4.4.2.1.1.3.cmml"><mfrac id="S4.E10.m1.4.4.2.1.1.3a" xref="S4.E10.m1.4.4.2.1.1.3.cmml"><mn id="S4.E10.m1.4.4.2.1.1.3.2" xref="S4.E10.m1.4.4.2.1.1.3.2.cmml">1</mn><mi id="S4.E10.m1.4.4.2.1.1.3.3" xref="S4.E10.m1.4.4.2.1.1.3.3.cmml">Z</mi></mfrac></mstyle><mo lspace="0.167em" id="S4.E10.m1.4.4.2.1.1.2" xref="S4.E10.m1.4.4.2.1.1.2.cmml">⁢</mo><mrow id="S4.E10.m1.4.4.2.1.1.1.1" xref="S4.E10.m1.4.4.2.1.1.1.2.cmml"><mi id="S4.E10.m1.2.2" xref="S4.E10.m1.2.2.cmml">exp</mi><mo id="S4.E10.m1.4.4.2.1.1.1.1a" xref="S4.E10.m1.4.4.2.1.1.1.2.cmml">⁡</mo><mrow id="S4.E10.m1.4.4.2.1.1.1.1.1" xref="S4.E10.m1.4.4.2.1.1.1.2.cmml"><mo id="S4.E10.m1.4.4.2.1.1.1.1.1.2" xref="S4.E10.m1.4.4.2.1.1.1.2.cmml">(</mo><mrow id="S4.E10.m1.4.4.2.1.1.1.1.1.1" xref="S4.E10.m1.4.4.2.1.1.1.1.1.1.cmml"><mo id="S4.E10.m1.4.4.2.1.1.1.1.1.1a" xref="S4.E10.m1.4.4.2.1.1.1.1.1.1.cmml">−</mo><mrow id="S4.E10.m1.4.4.2.1.1.1.1.1.1.2" xref="S4.E10.m1.4.4.2.1.1.1.1.1.1.2.cmml"><mi id="S4.E10.m1.4.4.2.1.1.1.1.1.1.2.4" xref="S4.E10.m1.4.4.2.1.1.1.1.1.1.2.4.cmml">s</mi><mo id="S4.E10.m1.4.4.2.1.1.1.1.1.1.2.3" xref="S4.E10.m1.4.4.2.1.1.1.1.1.1.2.3.cmml">⁢</mo><mi class="ltx_font_mathcaligraphic" id="S4.E10.m1.4.4.2.1.1.1.1.1.1.2.5" xref="S4.E10.m1.4.4.2.1.1.1.1.1.1.2.5.cmml">𝒟</mi><mo id="S4.E10.m1.4.4.2.1.1.1.1.1.1.2.3a" xref="S4.E10.m1.4.4.2.1.1.1.1.1.1.2.3.cmml">⁢</mo><mrow id="S4.E10.m1.4.4.2.1.1.1.1.1.1.2.2.2" xref="S4.E10.m1.4.4.2.1.1.1.1.1.1.2.2.3.cmml"><mo id="S4.E10.m1.4.4.2.1.1.1.1.1.1.2.2.2.3" xref="S4.E10.m1.4.4.2.1.1.1.1.1.1.2.2.3.cmml">(</mo><msup id="S4.E10.m1.4.4.2.1.1.1.1.1.1.1.1.1.1" xref="S4.E10.m1.4.4.2.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S4.E10.m1.4.4.2.1.1.1.1.1.1.1.1.1.1.2" xref="S4.E10.m1.4.4.2.1.1.1.1.1.1.1.1.1.1.2.cmml">𝒙</mi><mi id="S4.E10.m1.4.4.2.1.1.1.1.1.1.1.1.1.1.3" xref="S4.E10.m1.4.4.2.1.1.1.1.1.1.1.1.1.1.3.cmml">t</mi></msup><mo id="S4.E10.m1.4.4.2.1.1.1.1.1.1.2.2.2.4" xref="S4.E10.m1.4.4.2.1.1.1.1.1.1.2.2.3.cmml">,</mo><msubsup id="S4.E10.m1.4.4.2.1.1.1.1.1.1.2.2.2.2" xref="S4.E10.m1.4.4.2.1.1.1.1.1.1.2.2.2.2.cmml"><mi id="S4.E10.m1.4.4.2.1.1.1.1.1.1.2.2.2.2.2.2" xref="S4.E10.m1.4.4.2.1.1.1.1.1.1.2.2.2.2.2.2.cmml">𝒙</mi><mtext id="S4.E10.m1.4.4.2.1.1.1.1.1.1.2.2.2.2.3" xref="S4.E10.m1.4.4.2.1.1.1.1.1.1.2.2.2.2.3a.cmml">adv</mtext><mi id="S4.E10.m1.4.4.2.1.1.1.1.1.1.2.2.2.2.2.3" xref="S4.E10.m1.4.4.2.1.1.1.1.1.1.2.2.2.2.2.3.cmml">t</mi></msubsup><mo id="S4.E10.m1.4.4.2.1.1.1.1.1.1.2.2.2.5" xref="S4.E10.m1.4.4.2.1.1.1.1.1.1.2.2.3.cmml">)</mo></mrow></mrow></mrow><mo id="S4.E10.m1.4.4.2.1.1.1.1.1.3" xref="S4.E10.m1.4.4.2.1.1.1.2.cmml">)</mo></mrow></mrow></mrow><mo id="S4.E10.m1.4.4.2.1.2" xref="S4.E10.m1.4.4.2.2.cmml">,</mo><mrow id="S4.E10.m1.1.1.1a" xref="S4.E10.m1.1.1.1ac.cmml"><mtext id="S4.E10.m1.1.1.1aa" xref="S4.E10.m1.1.1.1ac.cmml"> where </mtext><mi class="ltx_font_mathcaligraphic" id="S4.E10.m1.1.1.1.m1.1.1" xref="S4.E10.m1.1.1.1.m1.1.1.cmml">𝒟</mi><mtext id="S4.E10.m1.1.1.1ab" xref="S4.E10.m1.1.1.1ac.cmml"> is some distance metric,</mtext></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.E10.m1.4b"><apply id="S4.E10.m1.4.4.cmml" xref="S4.E10.m1.4.4"><eq id="S4.E10.m1.4.4.3.cmml" xref="S4.E10.m1.4.4.3"></eq><apply id="S4.E10.m1.3.3.1.cmml" xref="S4.E10.m1.3.3.1"><times id="S4.E10.m1.3.3.1.2.cmml" xref="S4.E10.m1.3.3.1.2"></times><ci id="S4.E10.m1.3.3.1.3.cmml" xref="S4.E10.m1.3.3.1.3">𝑝</ci><apply id="S4.E10.m1.3.3.1.1.1.1.cmml" xref="S4.E10.m1.3.3.1.1.1"><csymbol cd="latexml" id="S4.E10.m1.3.3.1.1.1.1.1.cmml" xref="S4.E10.m1.3.3.1.1.1.1.1">conditional</csymbol><apply id="S4.E10.m1.3.3.1.1.1.1.2.cmml" xref="S4.E10.m1.3.3.1.1.1.1.2"><csymbol cd="ambiguous" id="S4.E10.m1.3.3.1.1.1.1.2.1.cmml" xref="S4.E10.m1.3.3.1.1.1.1.2">subscript</csymbol><ci id="S4.E10.m1.3.3.1.1.1.1.2.2.cmml" xref="S4.E10.m1.3.3.1.1.1.1.2.2">𝒙</ci><ci id="S4.E10.m1.3.3.1.1.1.1.2.3a.cmml" xref="S4.E10.m1.3.3.1.1.1.1.2.3"><mtext mathsize="70%" id="S4.E10.m1.3.3.1.1.1.1.2.3.cmml" xref="S4.E10.m1.3.3.1.1.1.1.2.3">adv</mtext></ci></apply><apply id="S4.E10.m1.3.3.1.1.1.1.3.cmml" xref="S4.E10.m1.3.3.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.E10.m1.3.3.1.1.1.1.3.1.cmml" xref="S4.E10.m1.3.3.1.1.1.1.3">superscript</csymbol><ci id="S4.E10.m1.3.3.1.1.1.1.3.2.cmml" xref="S4.E10.m1.3.3.1.1.1.1.3.2">𝒙</ci><ci id="S4.E10.m1.3.3.1.1.1.1.3.3.cmml" xref="S4.E10.m1.3.3.1.1.1.1.3.3">𝑡</ci></apply></apply></apply><list id="S4.E10.m1.4.4.2.2.cmml" xref="S4.E10.m1.4.4.2.1"><apply id="S4.E10.m1.4.4.2.1.1.cmml" xref="S4.E10.m1.4.4.2.1.1"><times id="S4.E10.m1.4.4.2.1.1.2.cmml" xref="S4.E10.m1.4.4.2.1.1.2"></times><apply id="S4.E10.m1.4.4.2.1.1.3.cmml" xref="S4.E10.m1.4.4.2.1.1.3"><divide id="S4.E10.m1.4.4.2.1.1.3.1.cmml" xref="S4.E10.m1.4.4.2.1.1.3"></divide><cn type="integer" id="S4.E10.m1.4.4.2.1.1.3.2.cmml" xref="S4.E10.m1.4.4.2.1.1.3.2">1</cn><ci id="S4.E10.m1.4.4.2.1.1.3.3.cmml" xref="S4.E10.m1.4.4.2.1.1.3.3">𝑍</ci></apply><apply id="S4.E10.m1.4.4.2.1.1.1.2.cmml" xref="S4.E10.m1.4.4.2.1.1.1.1"><exp id="S4.E10.m1.2.2.cmml" xref="S4.E10.m1.2.2"></exp><apply id="S4.E10.m1.4.4.2.1.1.1.1.1.1.cmml" xref="S4.E10.m1.4.4.2.1.1.1.1.1.1"><minus id="S4.E10.m1.4.4.2.1.1.1.1.1.1.3.cmml" xref="S4.E10.m1.4.4.2.1.1.1.1.1.1"></minus><apply id="S4.E10.m1.4.4.2.1.1.1.1.1.1.2.cmml" xref="S4.E10.m1.4.4.2.1.1.1.1.1.1.2"><times id="S4.E10.m1.4.4.2.1.1.1.1.1.1.2.3.cmml" xref="S4.E10.m1.4.4.2.1.1.1.1.1.1.2.3"></times><ci id="S4.E10.m1.4.4.2.1.1.1.1.1.1.2.4.cmml" xref="S4.E10.m1.4.4.2.1.1.1.1.1.1.2.4">𝑠</ci><ci id="S4.E10.m1.4.4.2.1.1.1.1.1.1.2.5.cmml" xref="S4.E10.m1.4.4.2.1.1.1.1.1.1.2.5">𝒟</ci><interval closure="open" id="S4.E10.m1.4.4.2.1.1.1.1.1.1.2.2.3.cmml" xref="S4.E10.m1.4.4.2.1.1.1.1.1.1.2.2.2"><apply id="S4.E10.m1.4.4.2.1.1.1.1.1.1.1.1.1.1.cmml" xref="S4.E10.m1.4.4.2.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.E10.m1.4.4.2.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S4.E10.m1.4.4.2.1.1.1.1.1.1.1.1.1.1">superscript</csymbol><ci id="S4.E10.m1.4.4.2.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S4.E10.m1.4.4.2.1.1.1.1.1.1.1.1.1.1.2">𝒙</ci><ci id="S4.E10.m1.4.4.2.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S4.E10.m1.4.4.2.1.1.1.1.1.1.1.1.1.1.3">𝑡</ci></apply><apply id="S4.E10.m1.4.4.2.1.1.1.1.1.1.2.2.2.2.cmml" xref="S4.E10.m1.4.4.2.1.1.1.1.1.1.2.2.2.2"><csymbol cd="ambiguous" id="S4.E10.m1.4.4.2.1.1.1.1.1.1.2.2.2.2.1.cmml" xref="S4.E10.m1.4.4.2.1.1.1.1.1.1.2.2.2.2">subscript</csymbol><apply id="S4.E10.m1.4.4.2.1.1.1.1.1.1.2.2.2.2.2.cmml" xref="S4.E10.m1.4.4.2.1.1.1.1.1.1.2.2.2.2"><csymbol cd="ambiguous" id="S4.E10.m1.4.4.2.1.1.1.1.1.1.2.2.2.2.2.1.cmml" xref="S4.E10.m1.4.4.2.1.1.1.1.1.1.2.2.2.2">superscript</csymbol><ci id="S4.E10.m1.4.4.2.1.1.1.1.1.1.2.2.2.2.2.2.cmml" xref="S4.E10.m1.4.4.2.1.1.1.1.1.1.2.2.2.2.2.2">𝒙</ci><ci id="S4.E10.m1.4.4.2.1.1.1.1.1.1.2.2.2.2.2.3.cmml" xref="S4.E10.m1.4.4.2.1.1.1.1.1.1.2.2.2.2.2.3">𝑡</ci></apply><ci id="S4.E10.m1.4.4.2.1.1.1.1.1.1.2.2.2.2.3a.cmml" xref="S4.E10.m1.4.4.2.1.1.1.1.1.1.2.2.2.2.3"><mtext mathsize="70%" id="S4.E10.m1.4.4.2.1.1.1.1.1.1.2.2.2.2.3.cmml" xref="S4.E10.m1.4.4.2.1.1.1.1.1.1.2.2.2.2.3">adv</mtext></ci></apply></interval></apply></apply></apply></apply><ci id="S4.E10.m1.1.1.1ac.cmml" xref="S4.E10.m1.1.1.1a"><mrow id="S4.E10.m1.1.1.1a.cmml" xref="S4.E10.m1.1.1.1a"><mtext id="S4.E10.m1.1.1.1aa.cmml" xref="S4.E10.m1.1.1.1a"> where </mtext><mi class="ltx_font_mathcaligraphic" id="S4.E10.m1.1.1.1.m1.1.1.cmml" xref="S4.E10.m1.1.1.1.m1.1.1">𝒟</mi><mtext id="S4.E10.m1.1.1.1ab.cmml" xref="S4.E10.m1.1.1.1a"> is some distance metric,</mtext></mrow></ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E10.m1.4c">\displaystyle p({\bm{x}}_{\text{adv}}|{\bm{x}}^{t})=\frac{1}{Z}\exp\left(-s\mathcal{D}\left({\bm{x}}^{t},{\bm{x}}^{t}_{\text{adv}}\right)\right),\text{ where $\mathcal{D}$ is some distance metric,}</annotation><annotation encoding="application/x-llamapun" id="S4.E10.m1.4d">italic_p ( bold_italic_x start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT | bold_italic_x start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT ) = divide start_ARG 1 end_ARG start_ARG italic_Z end_ARG roman_exp ( - italic_s caligraphic_D ( bold_italic_x start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT , bold_italic_x start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT ) ) , where caligraphic_D is some distance metric,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(10)</span></td>
</tr></tbody>
</table>
<p id="S4.SS2.p3.15" class="ltx_p"><math id="S4.SS2.p3.8.m1.1" class="ltx_Math" alttext="Z" display="inline"><semantics id="S4.SS2.p3.8.m1.1a"><mi id="S4.SS2.p3.8.m1.1.1" xref="S4.SS2.p3.8.m1.1.1.cmml">Z</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p3.8.m1.1b"><ci id="S4.SS2.p3.8.m1.1.1.cmml" xref="S4.SS2.p3.8.m1.1.1">𝑍</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p3.8.m1.1c">Z</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p3.8.m1.1d">italic_Z</annotation></semantics></math> is a normalization factor, <math id="S4.SS2.p3.9.m2.1" class="ltx_Math" alttext="s" display="inline"><semantics id="S4.SS2.p3.9.m2.1a"><mi id="S4.SS2.p3.9.m2.1.1" xref="S4.SS2.p3.9.m2.1.1.cmml">s</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p3.9.m2.1b"><ci id="S4.SS2.p3.9.m2.1.1.cmml" xref="S4.SS2.p3.9.m2.1.1">𝑠</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p3.9.m2.1c">s</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p3.9.m2.1d">italic_s</annotation></semantics></math> is a scale factor that controls the magnitude of the guidance, and <math id="S4.SS2.p3.10.m3.1" class="ltx_Math" alttext="{\bm{x}}^{t}_{\text{adv}}" display="inline"><semantics id="S4.SS2.p3.10.m3.1a"><msubsup id="S4.SS2.p3.10.m3.1.1" xref="S4.SS2.p3.10.m3.1.1.cmml"><mi id="S4.SS2.p3.10.m3.1.1.2.2" xref="S4.SS2.p3.10.m3.1.1.2.2.cmml">𝒙</mi><mtext id="S4.SS2.p3.10.m3.1.1.3" xref="S4.SS2.p3.10.m3.1.1.3a.cmml">adv</mtext><mi id="S4.SS2.p3.10.m3.1.1.2.3" xref="S4.SS2.p3.10.m3.1.1.2.3.cmml">t</mi></msubsup><annotation-xml encoding="MathML-Content" id="S4.SS2.p3.10.m3.1b"><apply id="S4.SS2.p3.10.m3.1.1.cmml" xref="S4.SS2.p3.10.m3.1.1"><csymbol cd="ambiguous" id="S4.SS2.p3.10.m3.1.1.1.cmml" xref="S4.SS2.p3.10.m3.1.1">subscript</csymbol><apply id="S4.SS2.p3.10.m3.1.1.2.cmml" xref="S4.SS2.p3.10.m3.1.1"><csymbol cd="ambiguous" id="S4.SS2.p3.10.m3.1.1.2.1.cmml" xref="S4.SS2.p3.10.m3.1.1">superscript</csymbol><ci id="S4.SS2.p3.10.m3.1.1.2.2.cmml" xref="S4.SS2.p3.10.m3.1.1.2.2">𝒙</ci><ci id="S4.SS2.p3.10.m3.1.1.2.3.cmml" xref="S4.SS2.p3.10.m3.1.1.2.3">𝑡</ci></apply><ci id="S4.SS2.p3.10.m3.1.1.3a.cmml" xref="S4.SS2.p3.10.m3.1.1.3"><mtext mathsize="70%" id="S4.SS2.p3.10.m3.1.1.3.cmml" xref="S4.SS2.p3.10.m3.1.1.3">adv</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p3.10.m3.1c">{\bm{x}}^{t}_{\text{adv}}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p3.10.m3.1d">bold_italic_x start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT</annotation></semantics></math> is obtained by diffusing <math id="S4.SS2.p3.11.m4.1" class="ltx_Math" alttext="{\bm{x}}_{\text{adv}}" display="inline"><semantics id="S4.SS2.p3.11.m4.1a"><msub id="S4.SS2.p3.11.m4.1.1" xref="S4.SS2.p3.11.m4.1.1.cmml"><mi id="S4.SS2.p3.11.m4.1.1.2" xref="S4.SS2.p3.11.m4.1.1.2.cmml">𝒙</mi><mtext id="S4.SS2.p3.11.m4.1.1.3" xref="S4.SS2.p3.11.m4.1.1.3a.cmml">adv</mtext></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.p3.11.m4.1b"><apply id="S4.SS2.p3.11.m4.1.1.cmml" xref="S4.SS2.p3.11.m4.1.1"><csymbol cd="ambiguous" id="S4.SS2.p3.11.m4.1.1.1.cmml" xref="S4.SS2.p3.11.m4.1.1">subscript</csymbol><ci id="S4.SS2.p3.11.m4.1.1.2.cmml" xref="S4.SS2.p3.11.m4.1.1.2">𝒙</ci><ci id="S4.SS2.p3.11.m4.1.1.3a.cmml" xref="S4.SS2.p3.11.m4.1.1.3"><mtext mathsize="70%" id="S4.SS2.p3.11.m4.1.1.3.cmml" xref="S4.SS2.p3.11.m4.1.1.3">adv</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p3.11.m4.1c">{\bm{x}}_{\text{adv}}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p3.11.m4.1d">bold_italic_x start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT</annotation></semantics></math> <math id="S4.SS2.p3.12.m5.1" class="ltx_Math" alttext="t" display="inline"><semantics id="S4.SS2.p3.12.m5.1a"><mi id="S4.SS2.p3.12.m5.1.1" xref="S4.SS2.p3.12.m5.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p3.12.m5.1b"><ci id="S4.SS2.p3.12.m5.1.1.cmml" xref="S4.SS2.p3.12.m5.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p3.12.m5.1c">t</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p3.12.m5.1d">italic_t</annotation></semantics></math> steps according to Equation <a href="#S3.E5" title="5 ‣ The Diffusion Process. ‣ 3.1 DDPM ‣ 3 Background of DDPM ‣ Guided Diffusion Model for Adversarial Purification" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a>.
In this formulation, we requires <math id="S4.SS2.p3.13.m6.2" class="ltx_Math" alttext="\mathcal{D}\left({\bm{x}}^{t},{\bm{x}}^{t}_{\text{adv}}\right)" display="inline"><semantics id="S4.SS2.p3.13.m6.2a"><mrow id="S4.SS2.p3.13.m6.2.2" xref="S4.SS2.p3.13.m6.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS2.p3.13.m6.2.2.4" xref="S4.SS2.p3.13.m6.2.2.4.cmml">𝒟</mi><mo id="S4.SS2.p3.13.m6.2.2.3" xref="S4.SS2.p3.13.m6.2.2.3.cmml">⁢</mo><mrow id="S4.SS2.p3.13.m6.2.2.2.2" xref="S4.SS2.p3.13.m6.2.2.2.3.cmml"><mo id="S4.SS2.p3.13.m6.2.2.2.2.3" xref="S4.SS2.p3.13.m6.2.2.2.3.cmml">(</mo><msup id="S4.SS2.p3.13.m6.1.1.1.1.1" xref="S4.SS2.p3.13.m6.1.1.1.1.1.cmml"><mi id="S4.SS2.p3.13.m6.1.1.1.1.1.2" xref="S4.SS2.p3.13.m6.1.1.1.1.1.2.cmml">𝒙</mi><mi id="S4.SS2.p3.13.m6.1.1.1.1.1.3" xref="S4.SS2.p3.13.m6.1.1.1.1.1.3.cmml">t</mi></msup><mo id="S4.SS2.p3.13.m6.2.2.2.2.4" xref="S4.SS2.p3.13.m6.2.2.2.3.cmml">,</mo><msubsup id="S4.SS2.p3.13.m6.2.2.2.2.2" xref="S4.SS2.p3.13.m6.2.2.2.2.2.cmml"><mi id="S4.SS2.p3.13.m6.2.2.2.2.2.2.2" xref="S4.SS2.p3.13.m6.2.2.2.2.2.2.2.cmml">𝒙</mi><mtext id="S4.SS2.p3.13.m6.2.2.2.2.2.3" xref="S4.SS2.p3.13.m6.2.2.2.2.2.3a.cmml">adv</mtext><mi id="S4.SS2.p3.13.m6.2.2.2.2.2.2.3" xref="S4.SS2.p3.13.m6.2.2.2.2.2.2.3.cmml">t</mi></msubsup><mo id="S4.SS2.p3.13.m6.2.2.2.2.5" xref="S4.SS2.p3.13.m6.2.2.2.3.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p3.13.m6.2b"><apply id="S4.SS2.p3.13.m6.2.2.cmml" xref="S4.SS2.p3.13.m6.2.2"><times id="S4.SS2.p3.13.m6.2.2.3.cmml" xref="S4.SS2.p3.13.m6.2.2.3"></times><ci id="S4.SS2.p3.13.m6.2.2.4.cmml" xref="S4.SS2.p3.13.m6.2.2.4">𝒟</ci><interval closure="open" id="S4.SS2.p3.13.m6.2.2.2.3.cmml" xref="S4.SS2.p3.13.m6.2.2.2.2"><apply id="S4.SS2.p3.13.m6.1.1.1.1.1.cmml" xref="S4.SS2.p3.13.m6.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS2.p3.13.m6.1.1.1.1.1.1.cmml" xref="S4.SS2.p3.13.m6.1.1.1.1.1">superscript</csymbol><ci id="S4.SS2.p3.13.m6.1.1.1.1.1.2.cmml" xref="S4.SS2.p3.13.m6.1.1.1.1.1.2">𝒙</ci><ci id="S4.SS2.p3.13.m6.1.1.1.1.1.3.cmml" xref="S4.SS2.p3.13.m6.1.1.1.1.1.3">𝑡</ci></apply><apply id="S4.SS2.p3.13.m6.2.2.2.2.2.cmml" xref="S4.SS2.p3.13.m6.2.2.2.2.2"><csymbol cd="ambiguous" id="S4.SS2.p3.13.m6.2.2.2.2.2.1.cmml" xref="S4.SS2.p3.13.m6.2.2.2.2.2">subscript</csymbol><apply id="S4.SS2.p3.13.m6.2.2.2.2.2.2.cmml" xref="S4.SS2.p3.13.m6.2.2.2.2.2"><csymbol cd="ambiguous" id="S4.SS2.p3.13.m6.2.2.2.2.2.2.1.cmml" xref="S4.SS2.p3.13.m6.2.2.2.2.2">superscript</csymbol><ci id="S4.SS2.p3.13.m6.2.2.2.2.2.2.2.cmml" xref="S4.SS2.p3.13.m6.2.2.2.2.2.2.2">𝒙</ci><ci id="S4.SS2.p3.13.m6.2.2.2.2.2.2.3.cmml" xref="S4.SS2.p3.13.m6.2.2.2.2.2.2.3">𝑡</ci></apply><ci id="S4.SS2.p3.13.m6.2.2.2.2.2.3a.cmml" xref="S4.SS2.p3.13.m6.2.2.2.2.2.3"><mtext mathsize="70%" id="S4.SS2.p3.13.m6.2.2.2.2.2.3.cmml" xref="S4.SS2.p3.13.m6.2.2.2.2.2.3">adv</mtext></ci></apply></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p3.13.m6.2c">\mathcal{D}\left({\bm{x}}^{t},{\bm{x}}^{t}_{\text{adv}}\right)</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p3.13.m6.2d">caligraphic_D ( bold_italic_x start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT , bold_italic_x start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT )</annotation></semantics></math> to be small in order to increase <math id="S4.SS2.p3.14.m7.1" class="ltx_Math" alttext="p({\bm{x}}_{\text{adv}}|{\bm{x}}^{t})" display="inline"><semantics id="S4.SS2.p3.14.m7.1a"><mrow id="S4.SS2.p3.14.m7.1.1" xref="S4.SS2.p3.14.m7.1.1.cmml"><mi id="S4.SS2.p3.14.m7.1.1.3" xref="S4.SS2.p3.14.m7.1.1.3.cmml">p</mi><mo id="S4.SS2.p3.14.m7.1.1.2" xref="S4.SS2.p3.14.m7.1.1.2.cmml">⁢</mo><mrow id="S4.SS2.p3.14.m7.1.1.1.1" xref="S4.SS2.p3.14.m7.1.1.1.1.1.cmml"><mo stretchy="false" id="S4.SS2.p3.14.m7.1.1.1.1.2" xref="S4.SS2.p3.14.m7.1.1.1.1.1.cmml">(</mo><mrow id="S4.SS2.p3.14.m7.1.1.1.1.1" xref="S4.SS2.p3.14.m7.1.1.1.1.1.cmml"><msub id="S4.SS2.p3.14.m7.1.1.1.1.1.2" xref="S4.SS2.p3.14.m7.1.1.1.1.1.2.cmml"><mi id="S4.SS2.p3.14.m7.1.1.1.1.1.2.2" xref="S4.SS2.p3.14.m7.1.1.1.1.1.2.2.cmml">𝒙</mi><mtext id="S4.SS2.p3.14.m7.1.1.1.1.1.2.3" xref="S4.SS2.p3.14.m7.1.1.1.1.1.2.3a.cmml">adv</mtext></msub><mo fence="false" id="S4.SS2.p3.14.m7.1.1.1.1.1.1" xref="S4.SS2.p3.14.m7.1.1.1.1.1.1.cmml">|</mo><msup id="S4.SS2.p3.14.m7.1.1.1.1.1.3" xref="S4.SS2.p3.14.m7.1.1.1.1.1.3.cmml"><mi id="S4.SS2.p3.14.m7.1.1.1.1.1.3.2" xref="S4.SS2.p3.14.m7.1.1.1.1.1.3.2.cmml">𝒙</mi><mi id="S4.SS2.p3.14.m7.1.1.1.1.1.3.3" xref="S4.SS2.p3.14.m7.1.1.1.1.1.3.3.cmml">t</mi></msup></mrow><mo stretchy="false" id="S4.SS2.p3.14.m7.1.1.1.1.3" xref="S4.SS2.p3.14.m7.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p3.14.m7.1b"><apply id="S4.SS2.p3.14.m7.1.1.cmml" xref="S4.SS2.p3.14.m7.1.1"><times id="S4.SS2.p3.14.m7.1.1.2.cmml" xref="S4.SS2.p3.14.m7.1.1.2"></times><ci id="S4.SS2.p3.14.m7.1.1.3.cmml" xref="S4.SS2.p3.14.m7.1.1.3">𝑝</ci><apply id="S4.SS2.p3.14.m7.1.1.1.1.1.cmml" xref="S4.SS2.p3.14.m7.1.1.1.1"><csymbol cd="latexml" id="S4.SS2.p3.14.m7.1.1.1.1.1.1.cmml" xref="S4.SS2.p3.14.m7.1.1.1.1.1.1">conditional</csymbol><apply id="S4.SS2.p3.14.m7.1.1.1.1.1.2.cmml" xref="S4.SS2.p3.14.m7.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S4.SS2.p3.14.m7.1.1.1.1.1.2.1.cmml" xref="S4.SS2.p3.14.m7.1.1.1.1.1.2">subscript</csymbol><ci id="S4.SS2.p3.14.m7.1.1.1.1.1.2.2.cmml" xref="S4.SS2.p3.14.m7.1.1.1.1.1.2.2">𝒙</ci><ci id="S4.SS2.p3.14.m7.1.1.1.1.1.2.3a.cmml" xref="S4.SS2.p3.14.m7.1.1.1.1.1.2.3"><mtext mathsize="70%" id="S4.SS2.p3.14.m7.1.1.1.1.1.2.3.cmml" xref="S4.SS2.p3.14.m7.1.1.1.1.1.2.3">adv</mtext></ci></apply><apply id="S4.SS2.p3.14.m7.1.1.1.1.1.3.cmml" xref="S4.SS2.p3.14.m7.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.SS2.p3.14.m7.1.1.1.1.1.3.1.cmml" xref="S4.SS2.p3.14.m7.1.1.1.1.1.3">superscript</csymbol><ci id="S4.SS2.p3.14.m7.1.1.1.1.1.3.2.cmml" xref="S4.SS2.p3.14.m7.1.1.1.1.1.3.2">𝒙</ci><ci id="S4.SS2.p3.14.m7.1.1.1.1.1.3.3.cmml" xref="S4.SS2.p3.14.m7.1.1.1.1.1.3.3">𝑡</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p3.14.m7.1c">p({\bm{x}}_{\text{adv}}|{\bm{x}}^{t})</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p3.14.m7.1d">italic_p ( bold_italic_x start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT | bold_italic_x start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT )</annotation></semantics></math>, namely, we encourage the purified image to be close to the adversarial image <math id="S4.SS2.p3.15.m8.1" class="ltx_Math" alttext="{\bm{x}}_{\text{adv}}" display="inline"><semantics id="S4.SS2.p3.15.m8.1a"><msub id="S4.SS2.p3.15.m8.1.1" xref="S4.SS2.p3.15.m8.1.1.cmml"><mi id="S4.SS2.p3.15.m8.1.1.2" xref="S4.SS2.p3.15.m8.1.1.2.cmml">𝒙</mi><mtext id="S4.SS2.p3.15.m8.1.1.3" xref="S4.SS2.p3.15.m8.1.1.3a.cmml">adv</mtext></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.p3.15.m8.1b"><apply id="S4.SS2.p3.15.m8.1.1.cmml" xref="S4.SS2.p3.15.m8.1.1"><csymbol cd="ambiguous" id="S4.SS2.p3.15.m8.1.1.1.cmml" xref="S4.SS2.p3.15.m8.1.1">subscript</csymbol><ci id="S4.SS2.p3.15.m8.1.1.2.cmml" xref="S4.SS2.p3.15.m8.1.1.2">𝒙</ci><ci id="S4.SS2.p3.15.m8.1.1.3a.cmml" xref="S4.SS2.p3.15.m8.1.1.3"><mtext mathsize="70%" id="S4.SS2.p3.15.m8.1.1.3.cmml" xref="S4.SS2.p3.15.m8.1.1.3">adv</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p3.15.m8.1c">{\bm{x}}_{\text{adv}}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p3.15.m8.1d">bold_italic_x start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT</annotation></semantics></math> in the reverse process.</p>
</div>
<div id="S4.SS2.p4" class="ltx_para">
<p id="S4.SS2.p4.1" class="ltx_p">Here we take the logarithm of both sides and then calculate the gradient of them:</p>
<table id="S4.E11" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S4.E11.m1.54" class="ltx_Math" alttext="\begin{split}\log p({\bm{x}}_{\text{adv}}|{\bm{x}}^{t})=-\log Z-s\mathcal{D}\left({\bm{x}}^{t},{\bm{x}}^{t}_{\text{adv}}\right),\\
\nabla_{{\bm{x}}^{t}}\log p({\bm{x}}_{\text{adv}}|{\bm{x}}^{t})=-s\nabla_{{\bm{x}}^{t}}\mathcal{D}\left({\bm{x}}^{t},{\bm{x}}^{t}_{\text{adv}}\right).\end{split}" display="block"><semantics id="S4.E11.m1.54a"><mtable displaystyle="true" rowspacing="0pt" id="S4.E11.m1.54.54.3"><mtr id="S4.E11.m1.54.54.3a"><mtd class="ltx_align_right" columnalign="right" id="S4.E11.m1.54.54.3b"><mrow id="S4.E11.m1.53.53.2.52.26.26.26"><mrow id="S4.E11.m1.53.53.2.52.26.26.26.1"><mrow id="S4.E11.m1.53.53.2.52.26.26.26.1.1"><mrow id="S4.E11.m1.53.53.2.52.26.26.26.1.1.3"><mi id="S4.E11.m1.1.1.1.1.1.1" xref="S4.E11.m1.1.1.1.1.1.1.cmml">log</mi><mo lspace="0.167em" id="S4.E11.m1.53.53.2.52.26.26.26.1.1.3a">⁡</mo><mi id="S4.E11.m1.2.2.2.2.2.2" xref="S4.E11.m1.2.2.2.2.2.2.cmml">p</mi></mrow><mo id="S4.E11.m1.53.53.2.52.26.26.26.1.1.2">⁢</mo><mrow id="S4.E11.m1.53.53.2.52.26.26.26.1.1.1.1"><mo stretchy="false" id="S4.E11.m1.3.3.3.3.3.3">(</mo><mrow id="S4.E11.m1.53.53.2.52.26.26.26.1.1.1.1.1"><msub id="S4.E11.m1.53.53.2.52.26.26.26.1.1.1.1.1.1"><mi id="S4.E11.m1.4.4.4.4.4.4" xref="S4.E11.m1.4.4.4.4.4.4.cmml">𝒙</mi><mtext id="S4.E11.m1.5.5.5.5.5.5.1" xref="S4.E11.m1.5.5.5.5.5.5.1a.cmml">adv</mtext></msub><mo fence="false" id="S4.E11.m1.6.6.6.6.6.6" xref="S4.E11.m1.6.6.6.6.6.6.cmml">|</mo><msup id="S4.E11.m1.53.53.2.52.26.26.26.1.1.1.1.1.2"><mi id="S4.E11.m1.7.7.7.7.7.7" xref="S4.E11.m1.7.7.7.7.7.7.cmml">𝒙</mi><mi id="S4.E11.m1.8.8.8.8.8.8.1" xref="S4.E11.m1.8.8.8.8.8.8.1.cmml">t</mi></msup></mrow><mo stretchy="false" id="S4.E11.m1.9.9.9.9.9.9">)</mo></mrow></mrow><mo id="S4.E11.m1.10.10.10.10.10.10" xref="S4.E11.m1.10.10.10.10.10.10.cmml">=</mo><mrow id="S4.E11.m1.53.53.2.52.26.26.26.1.3"><mrow id="S4.E11.m1.53.53.2.52.26.26.26.1.3.3"><mo rspace="0.167em" id="S4.E11.m1.53.53.2.52.26.26.26.1.3.3a">−</mo><mrow id="S4.E11.m1.53.53.2.52.26.26.26.1.3.3.1"><mi id="S4.E11.m1.12.12.12.12.12.12" xref="S4.E11.m1.12.12.12.12.12.12.cmml">log</mi><mo lspace="0.167em" id="S4.E11.m1.53.53.2.52.26.26.26.1.3.3.1a">⁡</mo><mi id="S4.E11.m1.13.13.13.13.13.13" xref="S4.E11.m1.13.13.13.13.13.13.cmml">Z</mi></mrow></mrow><mo id="S4.E11.m1.14.14.14.14.14.14" xref="S4.E11.m1.14.14.14.14.14.14.cmml">−</mo><mrow id="S4.E11.m1.53.53.2.52.26.26.26.1.3.2"><mi id="S4.E11.m1.15.15.15.15.15.15" xref="S4.E11.m1.15.15.15.15.15.15.cmml">s</mi><mo id="S4.E11.m1.53.53.2.52.26.26.26.1.3.2.3">⁢</mo><mi class="ltx_font_mathcaligraphic" id="S4.E11.m1.16.16.16.16.16.16" xref="S4.E11.m1.16.16.16.16.16.16.cmml">𝒟</mi><mo id="S4.E11.m1.53.53.2.52.26.26.26.1.3.2.3a">⁢</mo><mrow id="S4.E11.m1.53.53.2.52.26.26.26.1.3.2.2.2"><mo id="S4.E11.m1.17.17.17.17.17.17">(</mo><msup id="S4.E11.m1.53.53.2.52.26.26.26.1.2.1.1.1.1"><mi id="S4.E11.m1.18.18.18.18.18.18" xref="S4.E11.m1.18.18.18.18.18.18.cmml">𝒙</mi><mi id="S4.E11.m1.19.19.19.19.19.19.1" xref="S4.E11.m1.19.19.19.19.19.19.1.cmml">t</mi></msup><mo id="S4.E11.m1.20.20.20.20.20.20">,</mo><msubsup id="S4.E11.m1.53.53.2.52.26.26.26.1.3.2.2.2.2"><mi id="S4.E11.m1.21.21.21.21.21.21" xref="S4.E11.m1.21.21.21.21.21.21.cmml">𝒙</mi><mtext id="S4.E11.m1.23.23.23.23.23.23.1" xref="S4.E11.m1.23.23.23.23.23.23.1a.cmml">adv</mtext><mi id="S4.E11.m1.22.22.22.22.22.22.1" xref="S4.E11.m1.22.22.22.22.22.22.1.cmml">t</mi></msubsup><mo id="S4.E11.m1.24.24.24.24.24.24">)</mo></mrow></mrow></mrow></mrow><mo id="S4.E11.m1.25.25.25.25.25.25">,</mo></mrow></mtd></mtr><mtr id="S4.E11.m1.54.54.3c"><mtd class="ltx_align_right" columnalign="right" id="S4.E11.m1.54.54.3d"><mrow id="S4.E11.m1.54.54.3.53.27.27.27"><mrow id="S4.E11.m1.54.54.3.53.27.27.27.1"><mrow id="S4.E11.m1.54.54.3.53.27.27.27.1.1"><mrow id="S4.E11.m1.54.54.3.53.27.27.27.1.1.3"><mrow id="S4.E11.m1.54.54.3.53.27.27.27.1.1.3.1"><msub id="S4.E11.m1.54.54.3.53.27.27.27.1.1.3.1.1"><mo id="S4.E11.m1.26.26.26.1.1.1" xref="S4.E11.m1.26.26.26.1.1.1.cmml">∇</mo><msup id="S4.E11.m1.27.27.27.2.2.2.1" xref="S4.E11.m1.27.27.27.2.2.2.1.cmml"><mi id="S4.E11.m1.27.27.27.2.2.2.1.2" xref="S4.E11.m1.27.27.27.2.2.2.1.2.cmml">𝒙</mi><mi id="S4.E11.m1.27.27.27.2.2.2.1.3" xref="S4.E11.m1.27.27.27.2.2.2.1.3.cmml">t</mi></msup></msub><mi id="S4.E11.m1.28.28.28.3.3.3" xref="S4.E11.m1.28.28.28.3.3.3.cmml">log</mi></mrow><mo lspace="0.167em" id="S4.E11.m1.54.54.3.53.27.27.27.1.1.3a">⁡</mo><mi id="S4.E11.m1.29.29.29.4.4.4" xref="S4.E11.m1.29.29.29.4.4.4.cmml">p</mi></mrow><mo id="S4.E11.m1.54.54.3.53.27.27.27.1.1.2">⁢</mo><mrow id="S4.E11.m1.54.54.3.53.27.27.27.1.1.1.1"><mo stretchy="false" id="S4.E11.m1.30.30.30.5.5.5">(</mo><mrow id="S4.E11.m1.54.54.3.53.27.27.27.1.1.1.1.1"><msub id="S4.E11.m1.54.54.3.53.27.27.27.1.1.1.1.1.1"><mi id="S4.E11.m1.31.31.31.6.6.6" xref="S4.E11.m1.31.31.31.6.6.6.cmml">𝒙</mi><mtext id="S4.E11.m1.32.32.32.7.7.7.1" xref="S4.E11.m1.32.32.32.7.7.7.1a.cmml">adv</mtext></msub><mo fence="false" id="S4.E11.m1.33.33.33.8.8.8" xref="S4.E11.m1.33.33.33.8.8.8.cmml">|</mo><msup id="S4.E11.m1.54.54.3.53.27.27.27.1.1.1.1.1.2"><mi id="S4.E11.m1.34.34.34.9.9.9" xref="S4.E11.m1.34.34.34.9.9.9.cmml">𝒙</mi><mi id="S4.E11.m1.35.35.35.10.10.10.1" xref="S4.E11.m1.35.35.35.10.10.10.1.cmml">t</mi></msup></mrow><mo stretchy="false" id="S4.E11.m1.36.36.36.11.11.11">)</mo></mrow></mrow><mo id="S4.E11.m1.37.37.37.12.12.12" xref="S4.E11.m1.37.37.37.12.12.12.cmml">=</mo><mrow id="S4.E11.m1.54.54.3.53.27.27.27.1.3"><mo id="S4.E11.m1.54.54.3.53.27.27.27.1.3a">−</mo><mrow id="S4.E11.m1.54.54.3.53.27.27.27.1.3.2"><mi id="S4.E11.m1.39.39.39.14.14.14" xref="S4.E11.m1.39.39.39.14.14.14.cmml">s</mi><mo lspace="0.167em" id="S4.E11.m1.54.54.3.53.27.27.27.1.3.2.3">⁢</mo><mrow id="S4.E11.m1.54.54.3.53.27.27.27.1.3.2.4"><msub id="S4.E11.m1.54.54.3.53.27.27.27.1.3.2.4.1"><mo rspace="0.167em" id="S4.E11.m1.40.40.40.15.15.15" xref="S4.E11.m1.40.40.40.15.15.15.cmml">∇</mo><msup id="S4.E11.m1.41.41.41.16.16.16.1" xref="S4.E11.m1.41.41.41.16.16.16.1.cmml"><mi id="S4.E11.m1.41.41.41.16.16.16.1.2" xref="S4.E11.m1.41.41.41.16.16.16.1.2.cmml">𝒙</mi><mi id="S4.E11.m1.41.41.41.16.16.16.1.3" xref="S4.E11.m1.41.41.41.16.16.16.1.3.cmml">t</mi></msup></msub><mi class="ltx_font_mathcaligraphic" id="S4.E11.m1.42.42.42.17.17.17" xref="S4.E11.m1.42.42.42.17.17.17.cmml">𝒟</mi></mrow><mo id="S4.E11.m1.54.54.3.53.27.27.27.1.3.2.3a">⁢</mo><mrow id="S4.E11.m1.54.54.3.53.27.27.27.1.3.2.2.2"><mo id="S4.E11.m1.43.43.43.18.18.18">(</mo><msup id="S4.E11.m1.54.54.3.53.27.27.27.1.2.1.1.1.1"><mi id="S4.E11.m1.44.44.44.19.19.19" xref="S4.E11.m1.44.44.44.19.19.19.cmml">𝒙</mi><mi id="S4.E11.m1.45.45.45.20.20.20.1" xref="S4.E11.m1.45.45.45.20.20.20.1.cmml">t</mi></msup><mo id="S4.E11.m1.46.46.46.21.21.21">,</mo><msubsup id="S4.E11.m1.54.54.3.53.27.27.27.1.3.2.2.2.2"><mi id="S4.E11.m1.47.47.47.22.22.22" xref="S4.E11.m1.47.47.47.22.22.22.cmml">𝒙</mi><mtext id="S4.E11.m1.49.49.49.24.24.24.1" xref="S4.E11.m1.49.49.49.24.24.24.1a.cmml">adv</mtext><mi id="S4.E11.m1.48.48.48.23.23.23.1" xref="S4.E11.m1.48.48.48.23.23.23.1.cmml">t</mi></msubsup><mo id="S4.E11.m1.50.50.50.25.25.25">)</mo></mrow></mrow></mrow></mrow><mo lspace="0em" id="S4.E11.m1.51.51.51.26.26.26">.</mo></mrow></mtd></mtr></mtable><annotation-xml encoding="MathML-Content" id="S4.E11.m1.54b"><apply id="S4.E11.m1.52.52.1.1.1.3.cmml"><csymbol cd="ambiguous" id="S4.E11.m1.52.52.1.1.1.3a.cmml">formulae-sequence</csymbol><apply id="S4.E11.m1.52.52.1.1.1.1.1.cmml"><eq id="S4.E11.m1.10.10.10.10.10.10.cmml" xref="S4.E11.m1.10.10.10.10.10.10"></eq><apply id="S4.E11.m1.52.52.1.1.1.1.1.1.cmml"><times id="S4.E11.m1.52.52.1.1.1.1.1.1.2.cmml"></times><apply id="S4.E11.m1.52.52.1.1.1.1.1.1.3.cmml"><log id="S4.E11.m1.1.1.1.1.1.1.cmml" xref="S4.E11.m1.1.1.1.1.1.1"></log><ci id="S4.E11.m1.2.2.2.2.2.2.cmml" xref="S4.E11.m1.2.2.2.2.2.2">𝑝</ci></apply><apply id="S4.E11.m1.52.52.1.1.1.1.1.1.1.1.1.cmml"><csymbol cd="latexml" id="S4.E11.m1.6.6.6.6.6.6.cmml" xref="S4.E11.m1.6.6.6.6.6.6">conditional</csymbol><apply id="S4.E11.m1.52.52.1.1.1.1.1.1.1.1.1.2.cmml"><csymbol cd="ambiguous" id="S4.E11.m1.52.52.1.1.1.1.1.1.1.1.1.2.1.cmml">subscript</csymbol><ci id="S4.E11.m1.4.4.4.4.4.4.cmml" xref="S4.E11.m1.4.4.4.4.4.4">𝒙</ci><ci id="S4.E11.m1.5.5.5.5.5.5.1a.cmml" xref="S4.E11.m1.5.5.5.5.5.5.1"><mtext mathsize="70%" id="S4.E11.m1.5.5.5.5.5.5.1.cmml" xref="S4.E11.m1.5.5.5.5.5.5.1">adv</mtext></ci></apply><apply id="S4.E11.m1.52.52.1.1.1.1.1.1.1.1.1.3.cmml"><csymbol cd="ambiguous" id="S4.E11.m1.52.52.1.1.1.1.1.1.1.1.1.3.1.cmml">superscript</csymbol><ci id="S4.E11.m1.7.7.7.7.7.7.cmml" xref="S4.E11.m1.7.7.7.7.7.7">𝒙</ci><ci id="S4.E11.m1.8.8.8.8.8.8.1.cmml" xref="S4.E11.m1.8.8.8.8.8.8.1">𝑡</ci></apply></apply></apply><apply id="S4.E11.m1.52.52.1.1.1.1.1.3.cmml"><minus id="S4.E11.m1.14.14.14.14.14.14.cmml" xref="S4.E11.m1.14.14.14.14.14.14"></minus><apply id="S4.E11.m1.52.52.1.1.1.1.1.3.4.cmml"><minus id="S4.E11.m1.11.11.11.11.11.11.cmml"></minus><apply id="S4.E11.m1.52.52.1.1.1.1.1.3.4.2.cmml"><log id="S4.E11.m1.12.12.12.12.12.12.cmml" xref="S4.E11.m1.12.12.12.12.12.12"></log><ci id="S4.E11.m1.13.13.13.13.13.13.cmml" xref="S4.E11.m1.13.13.13.13.13.13">𝑍</ci></apply></apply><apply id="S4.E11.m1.52.52.1.1.1.1.1.3.2.cmml"><times id="S4.E11.m1.52.52.1.1.1.1.1.3.2.3.cmml"></times><ci id="S4.E11.m1.15.15.15.15.15.15.cmml" xref="S4.E11.m1.15.15.15.15.15.15">𝑠</ci><ci id="S4.E11.m1.16.16.16.16.16.16.cmml" xref="S4.E11.m1.16.16.16.16.16.16">𝒟</ci><interval closure="open" id="S4.E11.m1.52.52.1.1.1.1.1.3.2.2.3.cmml"><apply id="S4.E11.m1.52.52.1.1.1.1.1.2.1.1.1.1.cmml"><csymbol cd="ambiguous" id="S4.E11.m1.52.52.1.1.1.1.1.2.1.1.1.1.1.cmml">superscript</csymbol><ci id="S4.E11.m1.18.18.18.18.18.18.cmml" xref="S4.E11.m1.18.18.18.18.18.18">𝒙</ci><ci id="S4.E11.m1.19.19.19.19.19.19.1.cmml" xref="S4.E11.m1.19.19.19.19.19.19.1">𝑡</ci></apply><apply id="S4.E11.m1.52.52.1.1.1.1.1.3.2.2.2.2.cmml"><csymbol cd="ambiguous" id="S4.E11.m1.52.52.1.1.1.1.1.3.2.2.2.2.1.cmml">subscript</csymbol><apply id="S4.E11.m1.52.52.1.1.1.1.1.3.2.2.2.2.2.cmml"><csymbol cd="ambiguous" id="S4.E11.m1.52.52.1.1.1.1.1.3.2.2.2.2.2.1.cmml">superscript</csymbol><ci id="S4.E11.m1.21.21.21.21.21.21.cmml" xref="S4.E11.m1.21.21.21.21.21.21">𝒙</ci><ci id="S4.E11.m1.22.22.22.22.22.22.1.cmml" xref="S4.E11.m1.22.22.22.22.22.22.1">𝑡</ci></apply><ci id="S4.E11.m1.23.23.23.23.23.23.1a.cmml" xref="S4.E11.m1.23.23.23.23.23.23.1"><mtext mathsize="70%" id="S4.E11.m1.23.23.23.23.23.23.1.cmml" xref="S4.E11.m1.23.23.23.23.23.23.1">adv</mtext></ci></apply></interval></apply></apply></apply><apply id="S4.E11.m1.52.52.1.1.1.2.2.cmml"><eq id="S4.E11.m1.37.37.37.12.12.12.cmml" xref="S4.E11.m1.37.37.37.12.12.12"></eq><apply id="S4.E11.m1.52.52.1.1.1.2.2.1.cmml"><times id="S4.E11.m1.52.52.1.1.1.2.2.1.2.cmml"></times><apply id="S4.E11.m1.52.52.1.1.1.2.2.1.3.cmml"><apply id="S4.E11.m1.52.52.1.1.1.2.2.1.3.1.cmml"><apply id="S4.E11.m1.52.52.1.1.1.2.2.1.3.1.1.cmml"><csymbol cd="ambiguous" id="S4.E11.m1.52.52.1.1.1.2.2.1.3.1.1.1.cmml">subscript</csymbol><ci id="S4.E11.m1.26.26.26.1.1.1.cmml" xref="S4.E11.m1.26.26.26.1.1.1">∇</ci><apply id="S4.E11.m1.27.27.27.2.2.2.1.cmml" xref="S4.E11.m1.27.27.27.2.2.2.1"><csymbol cd="ambiguous" id="S4.E11.m1.27.27.27.2.2.2.1.1.cmml" xref="S4.E11.m1.27.27.27.2.2.2.1">superscript</csymbol><ci id="S4.E11.m1.27.27.27.2.2.2.1.2.cmml" xref="S4.E11.m1.27.27.27.2.2.2.1.2">𝒙</ci><ci id="S4.E11.m1.27.27.27.2.2.2.1.3.cmml" xref="S4.E11.m1.27.27.27.2.2.2.1.3">𝑡</ci></apply></apply><log id="S4.E11.m1.28.28.28.3.3.3.cmml" xref="S4.E11.m1.28.28.28.3.3.3"></log></apply><ci id="S4.E11.m1.29.29.29.4.4.4.cmml" xref="S4.E11.m1.29.29.29.4.4.4">𝑝</ci></apply><apply id="S4.E11.m1.52.52.1.1.1.2.2.1.1.1.1.cmml"><csymbol cd="latexml" id="S4.E11.m1.33.33.33.8.8.8.cmml" xref="S4.E11.m1.33.33.33.8.8.8">conditional</csymbol><apply id="S4.E11.m1.52.52.1.1.1.2.2.1.1.1.1.2.cmml"><csymbol cd="ambiguous" id="S4.E11.m1.52.52.1.1.1.2.2.1.1.1.1.2.1.cmml">subscript</csymbol><ci id="S4.E11.m1.31.31.31.6.6.6.cmml" xref="S4.E11.m1.31.31.31.6.6.6">𝒙</ci><ci id="S4.E11.m1.32.32.32.7.7.7.1a.cmml" xref="S4.E11.m1.32.32.32.7.7.7.1"><mtext mathsize="70%" id="S4.E11.m1.32.32.32.7.7.7.1.cmml" xref="S4.E11.m1.32.32.32.7.7.7.1">adv</mtext></ci></apply><apply id="S4.E11.m1.52.52.1.1.1.2.2.1.1.1.1.3.cmml"><csymbol cd="ambiguous" id="S4.E11.m1.52.52.1.1.1.2.2.1.1.1.1.3.1.cmml">superscript</csymbol><ci id="S4.E11.m1.34.34.34.9.9.9.cmml" xref="S4.E11.m1.34.34.34.9.9.9">𝒙</ci><ci id="S4.E11.m1.35.35.35.10.10.10.1.cmml" xref="S4.E11.m1.35.35.35.10.10.10.1">𝑡</ci></apply></apply></apply><apply id="S4.E11.m1.52.52.1.1.1.2.2.3.cmml"><minus id="S4.E11.m1.38.38.38.13.13.13.cmml"></minus><apply id="S4.E11.m1.52.52.1.1.1.2.2.3.2.cmml"><times id="S4.E11.m1.52.52.1.1.1.2.2.3.2.3.cmml"></times><ci id="S4.E11.m1.39.39.39.14.14.14.cmml" xref="S4.E11.m1.39.39.39.14.14.14">𝑠</ci><apply id="S4.E11.m1.52.52.1.1.1.2.2.3.2.5.cmml"><apply id="S4.E11.m1.52.52.1.1.1.2.2.3.2.5.1.cmml"><csymbol cd="ambiguous" id="S4.E11.m1.52.52.1.1.1.2.2.3.2.5.1.1.cmml">subscript</csymbol><ci id="S4.E11.m1.40.40.40.15.15.15.cmml" xref="S4.E11.m1.40.40.40.15.15.15">∇</ci><apply id="S4.E11.m1.41.41.41.16.16.16.1.cmml" xref="S4.E11.m1.41.41.41.16.16.16.1"><csymbol cd="ambiguous" id="S4.E11.m1.41.41.41.16.16.16.1.1.cmml" xref="S4.E11.m1.41.41.41.16.16.16.1">superscript</csymbol><ci id="S4.E11.m1.41.41.41.16.16.16.1.2.cmml" xref="S4.E11.m1.41.41.41.16.16.16.1.2">𝒙</ci><ci id="S4.E11.m1.41.41.41.16.16.16.1.3.cmml" xref="S4.E11.m1.41.41.41.16.16.16.1.3">𝑡</ci></apply></apply><ci id="S4.E11.m1.42.42.42.17.17.17.cmml" xref="S4.E11.m1.42.42.42.17.17.17">𝒟</ci></apply><interval closure="open" id="S4.E11.m1.52.52.1.1.1.2.2.3.2.2.3.cmml"><apply id="S4.E11.m1.52.52.1.1.1.2.2.2.1.1.1.1.cmml"><csymbol cd="ambiguous" id="S4.E11.m1.52.52.1.1.1.2.2.2.1.1.1.1.1.cmml">superscript</csymbol><ci id="S4.E11.m1.44.44.44.19.19.19.cmml" xref="S4.E11.m1.44.44.44.19.19.19">𝒙</ci><ci id="S4.E11.m1.45.45.45.20.20.20.1.cmml" xref="S4.E11.m1.45.45.45.20.20.20.1">𝑡</ci></apply><apply id="S4.E11.m1.52.52.1.1.1.2.2.3.2.2.2.2.cmml"><csymbol cd="ambiguous" id="S4.E11.m1.52.52.1.1.1.2.2.3.2.2.2.2.1.cmml">subscript</csymbol><apply id="S4.E11.m1.52.52.1.1.1.2.2.3.2.2.2.2.2.cmml"><csymbol cd="ambiguous" id="S4.E11.m1.52.52.1.1.1.2.2.3.2.2.2.2.2.1.cmml">superscript</csymbol><ci id="S4.E11.m1.47.47.47.22.22.22.cmml" xref="S4.E11.m1.47.47.47.22.22.22">𝒙</ci><ci id="S4.E11.m1.48.48.48.23.23.23.1.cmml" xref="S4.E11.m1.48.48.48.23.23.23.1">𝑡</ci></apply><ci id="S4.E11.m1.49.49.49.24.24.24.1a.cmml" xref="S4.E11.m1.49.49.49.24.24.24.1"><mtext mathsize="70%" id="S4.E11.m1.49.49.49.24.24.24.1.cmml" xref="S4.E11.m1.49.49.49.24.24.24.1">adv</mtext></ci></apply></interval></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E11.m1.54c">\begin{split}\log p({\bm{x}}_{\text{adv}}|{\bm{x}}^{t})=-\log Z-s\mathcal{D}\left({\bm{x}}^{t},{\bm{x}}^{t}_{\text{adv}}\right),\\
\nabla_{{\bm{x}}^{t}}\log p({\bm{x}}_{\text{adv}}|{\bm{x}}^{t})=-s\nabla_{{\bm{x}}^{t}}\mathcal{D}\left({\bm{x}}^{t},{\bm{x}}^{t}_{\text{adv}}\right).\end{split}</annotation><annotation encoding="application/x-llamapun" id="S4.E11.m1.54d">start_ROW start_CELL roman_log italic_p ( bold_italic_x start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT | bold_italic_x start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT ) = - roman_log italic_Z - italic_s caligraphic_D ( bold_italic_x start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT , bold_italic_x start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT ) , end_CELL end_ROW start_ROW start_CELL ∇ start_POSTSUBSCRIPT bold_italic_x start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT end_POSTSUBSCRIPT roman_log italic_p ( bold_italic_x start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT | bold_italic_x start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT ) = - italic_s ∇ start_POSTSUBSCRIPT bold_italic_x start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT end_POSTSUBSCRIPT caligraphic_D ( bold_italic_x start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT , bold_italic_x start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT ) . end_CELL end_ROW</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(11)</span></td>
</tr></tbody>
</table>
</div>
<div id="S4.SS2.p5" class="ltx_para">
<p id="S4.SS2.p5.1" class="ltx_p">In our experiments, we adopt the mean square error (MSE) or negative structure similarity index measure (-SSIM) as our distance metric <math id="S4.SS2.p5.1.m1.1" class="ltx_Math" alttext="\mathcal{D}" display="inline"><semantics id="S4.SS2.p5.1.m1.1a"><mi class="ltx_font_mathcaligraphic" id="S4.SS2.p5.1.m1.1.1" xref="S4.SS2.p5.1.m1.1.1.cmml">𝒟</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p5.1.m1.1b"><ci id="S4.SS2.p5.1.m1.1.1.cmml" xref="S4.SS2.p5.1.m1.1.1">𝒟</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p5.1.m1.1c">\mathcal{D}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p5.1.m1.1d">caligraphic_D</annotation></semantics></math>.</p>
</div>
<div id="S4.SS2.p6" class="ltx_para">
<p id="S4.SS2.p6.6" class="ltx_p">After defining <math id="S4.SS2.p6.1.m1.1" class="ltx_Math" alttext="p({\bm{x}}_{\text{adv}}|{\bm{x}}^{t})" display="inline"><semantics id="S4.SS2.p6.1.m1.1a"><mrow id="S4.SS2.p6.1.m1.1.1" xref="S4.SS2.p6.1.m1.1.1.cmml"><mi id="S4.SS2.p6.1.m1.1.1.3" xref="S4.SS2.p6.1.m1.1.1.3.cmml">p</mi><mo id="S4.SS2.p6.1.m1.1.1.2" xref="S4.SS2.p6.1.m1.1.1.2.cmml">⁢</mo><mrow id="S4.SS2.p6.1.m1.1.1.1.1" xref="S4.SS2.p6.1.m1.1.1.1.1.1.cmml"><mo stretchy="false" id="S4.SS2.p6.1.m1.1.1.1.1.2" xref="S4.SS2.p6.1.m1.1.1.1.1.1.cmml">(</mo><mrow id="S4.SS2.p6.1.m1.1.1.1.1.1" xref="S4.SS2.p6.1.m1.1.1.1.1.1.cmml"><msub id="S4.SS2.p6.1.m1.1.1.1.1.1.2" xref="S4.SS2.p6.1.m1.1.1.1.1.1.2.cmml"><mi id="S4.SS2.p6.1.m1.1.1.1.1.1.2.2" xref="S4.SS2.p6.1.m1.1.1.1.1.1.2.2.cmml">𝒙</mi><mtext id="S4.SS2.p6.1.m1.1.1.1.1.1.2.3" xref="S4.SS2.p6.1.m1.1.1.1.1.1.2.3a.cmml">adv</mtext></msub><mo fence="false" id="S4.SS2.p6.1.m1.1.1.1.1.1.1" xref="S4.SS2.p6.1.m1.1.1.1.1.1.1.cmml">|</mo><msup id="S4.SS2.p6.1.m1.1.1.1.1.1.3" xref="S4.SS2.p6.1.m1.1.1.1.1.1.3.cmml"><mi id="S4.SS2.p6.1.m1.1.1.1.1.1.3.2" xref="S4.SS2.p6.1.m1.1.1.1.1.1.3.2.cmml">𝒙</mi><mi id="S4.SS2.p6.1.m1.1.1.1.1.1.3.3" xref="S4.SS2.p6.1.m1.1.1.1.1.1.3.3.cmml">t</mi></msup></mrow><mo stretchy="false" id="S4.SS2.p6.1.m1.1.1.1.1.3" xref="S4.SS2.p6.1.m1.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p6.1.m1.1b"><apply id="S4.SS2.p6.1.m1.1.1.cmml" xref="S4.SS2.p6.1.m1.1.1"><times id="S4.SS2.p6.1.m1.1.1.2.cmml" xref="S4.SS2.p6.1.m1.1.1.2"></times><ci id="S4.SS2.p6.1.m1.1.1.3.cmml" xref="S4.SS2.p6.1.m1.1.1.3">𝑝</ci><apply id="S4.SS2.p6.1.m1.1.1.1.1.1.cmml" xref="S4.SS2.p6.1.m1.1.1.1.1"><csymbol cd="latexml" id="S4.SS2.p6.1.m1.1.1.1.1.1.1.cmml" xref="S4.SS2.p6.1.m1.1.1.1.1.1.1">conditional</csymbol><apply id="S4.SS2.p6.1.m1.1.1.1.1.1.2.cmml" xref="S4.SS2.p6.1.m1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S4.SS2.p6.1.m1.1.1.1.1.1.2.1.cmml" xref="S4.SS2.p6.1.m1.1.1.1.1.1.2">subscript</csymbol><ci id="S4.SS2.p6.1.m1.1.1.1.1.1.2.2.cmml" xref="S4.SS2.p6.1.m1.1.1.1.1.1.2.2">𝒙</ci><ci id="S4.SS2.p6.1.m1.1.1.1.1.1.2.3a.cmml" xref="S4.SS2.p6.1.m1.1.1.1.1.1.2.3"><mtext mathsize="70%" id="S4.SS2.p6.1.m1.1.1.1.1.1.2.3.cmml" xref="S4.SS2.p6.1.m1.1.1.1.1.1.2.3">adv</mtext></ci></apply><apply id="S4.SS2.p6.1.m1.1.1.1.1.1.3.cmml" xref="S4.SS2.p6.1.m1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.SS2.p6.1.m1.1.1.1.1.1.3.1.cmml" xref="S4.SS2.p6.1.m1.1.1.1.1.1.3">superscript</csymbol><ci id="S4.SS2.p6.1.m1.1.1.1.1.1.3.2.cmml" xref="S4.SS2.p6.1.m1.1.1.1.1.1.3.2">𝒙</ci><ci id="S4.SS2.p6.1.m1.1.1.1.1.1.3.3.cmml" xref="S4.SS2.p6.1.m1.1.1.1.1.1.3.3">𝑡</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p6.1.m1.1c">p({\bm{x}}_{\text{adv}}|{\bm{x}}^{t})</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p6.1.m1.1d">italic_p ( bold_italic_x start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT | bold_italic_x start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT )</annotation></semantics></math> and computing its gradients, we can approximate the conditional transition <math id="S4.SS2.p6.2.m2.1" class="ltx_Math" alttext="p_{\bm{\theta}}({\bm{x}}^{t-1}|{\bm{x}}^{t},{\bm{x}}_{\text{adv}})" display="inline"><semantics id="S4.SS2.p6.2.m2.1a"><mrow id="S4.SS2.p6.2.m2.1.1" xref="S4.SS2.p6.2.m2.1.1.cmml"><msub id="S4.SS2.p6.2.m2.1.1.3" xref="S4.SS2.p6.2.m2.1.1.3.cmml"><mi id="S4.SS2.p6.2.m2.1.1.3.2" xref="S4.SS2.p6.2.m2.1.1.3.2.cmml">p</mi><mi id="S4.SS2.p6.2.m2.1.1.3.3" xref="S4.SS2.p6.2.m2.1.1.3.3.cmml">𝜽</mi></msub><mo id="S4.SS2.p6.2.m2.1.1.2" xref="S4.SS2.p6.2.m2.1.1.2.cmml">⁢</mo><mrow id="S4.SS2.p6.2.m2.1.1.1.1" xref="S4.SS2.p6.2.m2.1.1.1.1.1.cmml"><mo stretchy="false" id="S4.SS2.p6.2.m2.1.1.1.1.2" xref="S4.SS2.p6.2.m2.1.1.1.1.1.cmml">(</mo><mrow id="S4.SS2.p6.2.m2.1.1.1.1.1" xref="S4.SS2.p6.2.m2.1.1.1.1.1.cmml"><msup id="S4.SS2.p6.2.m2.1.1.1.1.1.4" xref="S4.SS2.p6.2.m2.1.1.1.1.1.4.cmml"><mi id="S4.SS2.p6.2.m2.1.1.1.1.1.4.2" xref="S4.SS2.p6.2.m2.1.1.1.1.1.4.2.cmml">𝒙</mi><mrow id="S4.SS2.p6.2.m2.1.1.1.1.1.4.3" xref="S4.SS2.p6.2.m2.1.1.1.1.1.4.3.cmml"><mi id="S4.SS2.p6.2.m2.1.1.1.1.1.4.3.2" xref="S4.SS2.p6.2.m2.1.1.1.1.1.4.3.2.cmml">t</mi><mo id="S4.SS2.p6.2.m2.1.1.1.1.1.4.3.1" xref="S4.SS2.p6.2.m2.1.1.1.1.1.4.3.1.cmml">−</mo><mn id="S4.SS2.p6.2.m2.1.1.1.1.1.4.3.3" xref="S4.SS2.p6.2.m2.1.1.1.1.1.4.3.3.cmml">1</mn></mrow></msup><mo fence="false" id="S4.SS2.p6.2.m2.1.1.1.1.1.3" xref="S4.SS2.p6.2.m2.1.1.1.1.1.3.cmml">|</mo><mrow id="S4.SS2.p6.2.m2.1.1.1.1.1.2.2" xref="S4.SS2.p6.2.m2.1.1.1.1.1.2.3.cmml"><msup id="S4.SS2.p6.2.m2.1.1.1.1.1.1.1.1" xref="S4.SS2.p6.2.m2.1.1.1.1.1.1.1.1.cmml"><mi id="S4.SS2.p6.2.m2.1.1.1.1.1.1.1.1.2" xref="S4.SS2.p6.2.m2.1.1.1.1.1.1.1.1.2.cmml">𝒙</mi><mi id="S4.SS2.p6.2.m2.1.1.1.1.1.1.1.1.3" xref="S4.SS2.p6.2.m2.1.1.1.1.1.1.1.1.3.cmml">t</mi></msup><mo id="S4.SS2.p6.2.m2.1.1.1.1.1.2.2.3" xref="S4.SS2.p6.2.m2.1.1.1.1.1.2.3.cmml">,</mo><msub id="S4.SS2.p6.2.m2.1.1.1.1.1.2.2.2" xref="S4.SS2.p6.2.m2.1.1.1.1.1.2.2.2.cmml"><mi id="S4.SS2.p6.2.m2.1.1.1.1.1.2.2.2.2" xref="S4.SS2.p6.2.m2.1.1.1.1.1.2.2.2.2.cmml">𝒙</mi><mtext id="S4.SS2.p6.2.m2.1.1.1.1.1.2.2.2.3" xref="S4.SS2.p6.2.m2.1.1.1.1.1.2.2.2.3a.cmml">adv</mtext></msub></mrow></mrow><mo stretchy="false" id="S4.SS2.p6.2.m2.1.1.1.1.3" xref="S4.SS2.p6.2.m2.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p6.2.m2.1b"><apply id="S4.SS2.p6.2.m2.1.1.cmml" xref="S4.SS2.p6.2.m2.1.1"><times id="S4.SS2.p6.2.m2.1.1.2.cmml" xref="S4.SS2.p6.2.m2.1.1.2"></times><apply id="S4.SS2.p6.2.m2.1.1.3.cmml" xref="S4.SS2.p6.2.m2.1.1.3"><csymbol cd="ambiguous" id="S4.SS2.p6.2.m2.1.1.3.1.cmml" xref="S4.SS2.p6.2.m2.1.1.3">subscript</csymbol><ci id="S4.SS2.p6.2.m2.1.1.3.2.cmml" xref="S4.SS2.p6.2.m2.1.1.3.2">𝑝</ci><ci id="S4.SS2.p6.2.m2.1.1.3.3.cmml" xref="S4.SS2.p6.2.m2.1.1.3.3">𝜽</ci></apply><apply id="S4.SS2.p6.2.m2.1.1.1.1.1.cmml" xref="S4.SS2.p6.2.m2.1.1.1.1"><csymbol cd="latexml" id="S4.SS2.p6.2.m2.1.1.1.1.1.3.cmml" xref="S4.SS2.p6.2.m2.1.1.1.1.1.3">conditional</csymbol><apply id="S4.SS2.p6.2.m2.1.1.1.1.1.4.cmml" xref="S4.SS2.p6.2.m2.1.1.1.1.1.4"><csymbol cd="ambiguous" id="S4.SS2.p6.2.m2.1.1.1.1.1.4.1.cmml" xref="S4.SS2.p6.2.m2.1.1.1.1.1.4">superscript</csymbol><ci id="S4.SS2.p6.2.m2.1.1.1.1.1.4.2.cmml" xref="S4.SS2.p6.2.m2.1.1.1.1.1.4.2">𝒙</ci><apply id="S4.SS2.p6.2.m2.1.1.1.1.1.4.3.cmml" xref="S4.SS2.p6.2.m2.1.1.1.1.1.4.3"><minus id="S4.SS2.p6.2.m2.1.1.1.1.1.4.3.1.cmml" xref="S4.SS2.p6.2.m2.1.1.1.1.1.4.3.1"></minus><ci id="S4.SS2.p6.2.m2.1.1.1.1.1.4.3.2.cmml" xref="S4.SS2.p6.2.m2.1.1.1.1.1.4.3.2">𝑡</ci><cn type="integer" id="S4.SS2.p6.2.m2.1.1.1.1.1.4.3.3.cmml" xref="S4.SS2.p6.2.m2.1.1.1.1.1.4.3.3">1</cn></apply></apply><list id="S4.SS2.p6.2.m2.1.1.1.1.1.2.3.cmml" xref="S4.SS2.p6.2.m2.1.1.1.1.1.2.2"><apply id="S4.SS2.p6.2.m2.1.1.1.1.1.1.1.1.cmml" xref="S4.SS2.p6.2.m2.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS2.p6.2.m2.1.1.1.1.1.1.1.1.1.cmml" xref="S4.SS2.p6.2.m2.1.1.1.1.1.1.1.1">superscript</csymbol><ci id="S4.SS2.p6.2.m2.1.1.1.1.1.1.1.1.2.cmml" xref="S4.SS2.p6.2.m2.1.1.1.1.1.1.1.1.2">𝒙</ci><ci id="S4.SS2.p6.2.m2.1.1.1.1.1.1.1.1.3.cmml" xref="S4.SS2.p6.2.m2.1.1.1.1.1.1.1.1.3">𝑡</ci></apply><apply id="S4.SS2.p6.2.m2.1.1.1.1.1.2.2.2.cmml" xref="S4.SS2.p6.2.m2.1.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S4.SS2.p6.2.m2.1.1.1.1.1.2.2.2.1.cmml" xref="S4.SS2.p6.2.m2.1.1.1.1.1.2.2.2">subscript</csymbol><ci id="S4.SS2.p6.2.m2.1.1.1.1.1.2.2.2.2.cmml" xref="S4.SS2.p6.2.m2.1.1.1.1.1.2.2.2.2">𝒙</ci><ci id="S4.SS2.p6.2.m2.1.1.1.1.1.2.2.2.3a.cmml" xref="S4.SS2.p6.2.m2.1.1.1.1.1.2.2.2.3"><mtext mathsize="70%" id="S4.SS2.p6.2.m2.1.1.1.1.1.2.2.2.3.cmml" xref="S4.SS2.p6.2.m2.1.1.1.1.1.2.2.2.3">adv</mtext></ci></apply></list></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p6.2.m2.1c">p_{\bm{\theta}}({\bm{x}}^{t-1}|{\bm{x}}^{t},{\bm{x}}_{\text{adv}})</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p6.2.m2.1d">italic_p start_POSTSUBSCRIPT bold_italic_θ end_POSTSUBSCRIPT ( bold_italic_x start_POSTSUPERSCRIPT italic_t - 1 end_POSTSUPERSCRIPT | bold_italic_x start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT , bold_italic_x start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT )</annotation></semantics></math> with a Gaussian similar to the unconditional transition <math id="S4.SS2.p6.3.m3.1" class="ltx_Math" alttext="p_{\bm{\theta}}({\bm{x}}^{t-1}|{\bm{x}}^{t})" display="inline"><semantics id="S4.SS2.p6.3.m3.1a"><mrow id="S4.SS2.p6.3.m3.1.1" xref="S4.SS2.p6.3.m3.1.1.cmml"><msub id="S4.SS2.p6.3.m3.1.1.3" xref="S4.SS2.p6.3.m3.1.1.3.cmml"><mi id="S4.SS2.p6.3.m3.1.1.3.2" xref="S4.SS2.p6.3.m3.1.1.3.2.cmml">p</mi><mi id="S4.SS2.p6.3.m3.1.1.3.3" xref="S4.SS2.p6.3.m3.1.1.3.3.cmml">𝜽</mi></msub><mo id="S4.SS2.p6.3.m3.1.1.2" xref="S4.SS2.p6.3.m3.1.1.2.cmml">⁢</mo><mrow id="S4.SS2.p6.3.m3.1.1.1.1" xref="S4.SS2.p6.3.m3.1.1.1.1.1.cmml"><mo stretchy="false" id="S4.SS2.p6.3.m3.1.1.1.1.2" xref="S4.SS2.p6.3.m3.1.1.1.1.1.cmml">(</mo><mrow id="S4.SS2.p6.3.m3.1.1.1.1.1" xref="S4.SS2.p6.3.m3.1.1.1.1.1.cmml"><msup id="S4.SS2.p6.3.m3.1.1.1.1.1.2" xref="S4.SS2.p6.3.m3.1.1.1.1.1.2.cmml"><mi id="S4.SS2.p6.3.m3.1.1.1.1.1.2.2" xref="S4.SS2.p6.3.m3.1.1.1.1.1.2.2.cmml">𝒙</mi><mrow id="S4.SS2.p6.3.m3.1.1.1.1.1.2.3" xref="S4.SS2.p6.3.m3.1.1.1.1.1.2.3.cmml"><mi id="S4.SS2.p6.3.m3.1.1.1.1.1.2.3.2" xref="S4.SS2.p6.3.m3.1.1.1.1.1.2.3.2.cmml">t</mi><mo id="S4.SS2.p6.3.m3.1.1.1.1.1.2.3.1" xref="S4.SS2.p6.3.m3.1.1.1.1.1.2.3.1.cmml">−</mo><mn id="S4.SS2.p6.3.m3.1.1.1.1.1.2.3.3" xref="S4.SS2.p6.3.m3.1.1.1.1.1.2.3.3.cmml">1</mn></mrow></msup><mo fence="false" id="S4.SS2.p6.3.m3.1.1.1.1.1.1" xref="S4.SS2.p6.3.m3.1.1.1.1.1.1.cmml">|</mo><msup id="S4.SS2.p6.3.m3.1.1.1.1.1.3" xref="S4.SS2.p6.3.m3.1.1.1.1.1.3.cmml"><mi id="S4.SS2.p6.3.m3.1.1.1.1.1.3.2" xref="S4.SS2.p6.3.m3.1.1.1.1.1.3.2.cmml">𝒙</mi><mi id="S4.SS2.p6.3.m3.1.1.1.1.1.3.3" xref="S4.SS2.p6.3.m3.1.1.1.1.1.3.3.cmml">t</mi></msup></mrow><mo stretchy="false" id="S4.SS2.p6.3.m3.1.1.1.1.3" xref="S4.SS2.p6.3.m3.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p6.3.m3.1b"><apply id="S4.SS2.p6.3.m3.1.1.cmml" xref="S4.SS2.p6.3.m3.1.1"><times id="S4.SS2.p6.3.m3.1.1.2.cmml" xref="S4.SS2.p6.3.m3.1.1.2"></times><apply id="S4.SS2.p6.3.m3.1.1.3.cmml" xref="S4.SS2.p6.3.m3.1.1.3"><csymbol cd="ambiguous" id="S4.SS2.p6.3.m3.1.1.3.1.cmml" xref="S4.SS2.p6.3.m3.1.1.3">subscript</csymbol><ci id="S4.SS2.p6.3.m3.1.1.3.2.cmml" xref="S4.SS2.p6.3.m3.1.1.3.2">𝑝</ci><ci id="S4.SS2.p6.3.m3.1.1.3.3.cmml" xref="S4.SS2.p6.3.m3.1.1.3.3">𝜽</ci></apply><apply id="S4.SS2.p6.3.m3.1.1.1.1.1.cmml" xref="S4.SS2.p6.3.m3.1.1.1.1"><csymbol cd="latexml" id="S4.SS2.p6.3.m3.1.1.1.1.1.1.cmml" xref="S4.SS2.p6.3.m3.1.1.1.1.1.1">conditional</csymbol><apply id="S4.SS2.p6.3.m3.1.1.1.1.1.2.cmml" xref="S4.SS2.p6.3.m3.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S4.SS2.p6.3.m3.1.1.1.1.1.2.1.cmml" xref="S4.SS2.p6.3.m3.1.1.1.1.1.2">superscript</csymbol><ci id="S4.SS2.p6.3.m3.1.1.1.1.1.2.2.cmml" xref="S4.SS2.p6.3.m3.1.1.1.1.1.2.2">𝒙</ci><apply id="S4.SS2.p6.3.m3.1.1.1.1.1.2.3.cmml" xref="S4.SS2.p6.3.m3.1.1.1.1.1.2.3"><minus id="S4.SS2.p6.3.m3.1.1.1.1.1.2.3.1.cmml" xref="S4.SS2.p6.3.m3.1.1.1.1.1.2.3.1"></minus><ci id="S4.SS2.p6.3.m3.1.1.1.1.1.2.3.2.cmml" xref="S4.SS2.p6.3.m3.1.1.1.1.1.2.3.2">𝑡</ci><cn type="integer" id="S4.SS2.p6.3.m3.1.1.1.1.1.2.3.3.cmml" xref="S4.SS2.p6.3.m3.1.1.1.1.1.2.3.3">1</cn></apply></apply><apply id="S4.SS2.p6.3.m3.1.1.1.1.1.3.cmml" xref="S4.SS2.p6.3.m3.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.SS2.p6.3.m3.1.1.1.1.1.3.1.cmml" xref="S4.SS2.p6.3.m3.1.1.1.1.1.3">superscript</csymbol><ci id="S4.SS2.p6.3.m3.1.1.1.1.1.3.2.cmml" xref="S4.SS2.p6.3.m3.1.1.1.1.1.3.2">𝒙</ci><ci id="S4.SS2.p6.3.m3.1.1.1.1.1.3.3.cmml" xref="S4.SS2.p6.3.m3.1.1.1.1.1.3.3">𝑡</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p6.3.m3.1c">p_{\bm{\theta}}({\bm{x}}^{t-1}|{\bm{x}}^{t})</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p6.3.m3.1d">italic_p start_POSTSUBSCRIPT bold_italic_θ end_POSTSUBSCRIPT ( bold_italic_x start_POSTSUPERSCRIPT italic_t - 1 end_POSTSUPERSCRIPT | bold_italic_x start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT )</annotation></semantics></math>, but with its mean shifted by <math id="S4.SS2.p6.4.m4.2" class="ltx_Math" alttext="-s\Sigma\nabla_{{\bm{x}}^{t}}\mathcal{D}\left({\bm{x}}^{t},{\bm{x}}^{t}_{\text{adv}}\right)" display="inline"><semantics id="S4.SS2.p6.4.m4.2a"><mrow id="S4.SS2.p6.4.m4.2.2" xref="S4.SS2.p6.4.m4.2.2.cmml"><mo id="S4.SS2.p6.4.m4.2.2a" xref="S4.SS2.p6.4.m4.2.2.cmml">−</mo><mrow id="S4.SS2.p6.4.m4.2.2.2" xref="S4.SS2.p6.4.m4.2.2.2.cmml"><mi id="S4.SS2.p6.4.m4.2.2.2.4" xref="S4.SS2.p6.4.m4.2.2.2.4.cmml">s</mi><mo id="S4.SS2.p6.4.m4.2.2.2.3" xref="S4.SS2.p6.4.m4.2.2.2.3.cmml">⁢</mo><mi mathvariant="normal" id="S4.SS2.p6.4.m4.2.2.2.5" xref="S4.SS2.p6.4.m4.2.2.2.5.cmml">Σ</mi><mo lspace="0.167em" id="S4.SS2.p6.4.m4.2.2.2.3a" xref="S4.SS2.p6.4.m4.2.2.2.3.cmml">⁢</mo><mrow id="S4.SS2.p6.4.m4.2.2.2.6" xref="S4.SS2.p6.4.m4.2.2.2.6.cmml"><msub id="S4.SS2.p6.4.m4.2.2.2.6.1" xref="S4.SS2.p6.4.m4.2.2.2.6.1.cmml"><mo rspace="0.167em" id="S4.SS2.p6.4.m4.2.2.2.6.1.2" xref="S4.SS2.p6.4.m4.2.2.2.6.1.2.cmml">∇</mo><msup id="S4.SS2.p6.4.m4.2.2.2.6.1.3" xref="S4.SS2.p6.4.m4.2.2.2.6.1.3.cmml"><mi id="S4.SS2.p6.4.m4.2.2.2.6.1.3.2" xref="S4.SS2.p6.4.m4.2.2.2.6.1.3.2.cmml">𝒙</mi><mi id="S4.SS2.p6.4.m4.2.2.2.6.1.3.3" xref="S4.SS2.p6.4.m4.2.2.2.6.1.3.3.cmml">t</mi></msup></msub><mi class="ltx_font_mathcaligraphic" id="S4.SS2.p6.4.m4.2.2.2.6.2" xref="S4.SS2.p6.4.m4.2.2.2.6.2.cmml">𝒟</mi></mrow><mo id="S4.SS2.p6.4.m4.2.2.2.3b" xref="S4.SS2.p6.4.m4.2.2.2.3.cmml">⁢</mo><mrow id="S4.SS2.p6.4.m4.2.2.2.2.2" xref="S4.SS2.p6.4.m4.2.2.2.2.3.cmml"><mo id="S4.SS2.p6.4.m4.2.2.2.2.2.3" xref="S4.SS2.p6.4.m4.2.2.2.2.3.cmml">(</mo><msup id="S4.SS2.p6.4.m4.1.1.1.1.1.1" xref="S4.SS2.p6.4.m4.1.1.1.1.1.1.cmml"><mi id="S4.SS2.p6.4.m4.1.1.1.1.1.1.2" xref="S4.SS2.p6.4.m4.1.1.1.1.1.1.2.cmml">𝒙</mi><mi id="S4.SS2.p6.4.m4.1.1.1.1.1.1.3" xref="S4.SS2.p6.4.m4.1.1.1.1.1.1.3.cmml">t</mi></msup><mo id="S4.SS2.p6.4.m4.2.2.2.2.2.4" xref="S4.SS2.p6.4.m4.2.2.2.2.3.cmml">,</mo><msubsup id="S4.SS2.p6.4.m4.2.2.2.2.2.2" xref="S4.SS2.p6.4.m4.2.2.2.2.2.2.cmml"><mi id="S4.SS2.p6.4.m4.2.2.2.2.2.2.2.2" xref="S4.SS2.p6.4.m4.2.2.2.2.2.2.2.2.cmml">𝒙</mi><mtext id="S4.SS2.p6.4.m4.2.2.2.2.2.2.3" xref="S4.SS2.p6.4.m4.2.2.2.2.2.2.3a.cmml">adv</mtext><mi id="S4.SS2.p6.4.m4.2.2.2.2.2.2.2.3" xref="S4.SS2.p6.4.m4.2.2.2.2.2.2.2.3.cmml">t</mi></msubsup><mo id="S4.SS2.p6.4.m4.2.2.2.2.2.5" xref="S4.SS2.p6.4.m4.2.2.2.2.3.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p6.4.m4.2b"><apply id="S4.SS2.p6.4.m4.2.2.cmml" xref="S4.SS2.p6.4.m4.2.2"><minus id="S4.SS2.p6.4.m4.2.2.3.cmml" xref="S4.SS2.p6.4.m4.2.2"></minus><apply id="S4.SS2.p6.4.m4.2.2.2.cmml" xref="S4.SS2.p6.4.m4.2.2.2"><times id="S4.SS2.p6.4.m4.2.2.2.3.cmml" xref="S4.SS2.p6.4.m4.2.2.2.3"></times><ci id="S4.SS2.p6.4.m4.2.2.2.4.cmml" xref="S4.SS2.p6.4.m4.2.2.2.4">𝑠</ci><ci id="S4.SS2.p6.4.m4.2.2.2.5.cmml" xref="S4.SS2.p6.4.m4.2.2.2.5">Σ</ci><apply id="S4.SS2.p6.4.m4.2.2.2.6.cmml" xref="S4.SS2.p6.4.m4.2.2.2.6"><apply id="S4.SS2.p6.4.m4.2.2.2.6.1.cmml" xref="S4.SS2.p6.4.m4.2.2.2.6.1"><csymbol cd="ambiguous" id="S4.SS2.p6.4.m4.2.2.2.6.1.1.cmml" xref="S4.SS2.p6.4.m4.2.2.2.6.1">subscript</csymbol><ci id="S4.SS2.p6.4.m4.2.2.2.6.1.2.cmml" xref="S4.SS2.p6.4.m4.2.2.2.6.1.2">∇</ci><apply id="S4.SS2.p6.4.m4.2.2.2.6.1.3.cmml" xref="S4.SS2.p6.4.m4.2.2.2.6.1.3"><csymbol cd="ambiguous" id="S4.SS2.p6.4.m4.2.2.2.6.1.3.1.cmml" xref="S4.SS2.p6.4.m4.2.2.2.6.1.3">superscript</csymbol><ci id="S4.SS2.p6.4.m4.2.2.2.6.1.3.2.cmml" xref="S4.SS2.p6.4.m4.2.2.2.6.1.3.2">𝒙</ci><ci id="S4.SS2.p6.4.m4.2.2.2.6.1.3.3.cmml" xref="S4.SS2.p6.4.m4.2.2.2.6.1.3.3">𝑡</ci></apply></apply><ci id="S4.SS2.p6.4.m4.2.2.2.6.2.cmml" xref="S4.SS2.p6.4.m4.2.2.2.6.2">𝒟</ci></apply><interval closure="open" id="S4.SS2.p6.4.m4.2.2.2.2.3.cmml" xref="S4.SS2.p6.4.m4.2.2.2.2.2"><apply id="S4.SS2.p6.4.m4.1.1.1.1.1.1.cmml" xref="S4.SS2.p6.4.m4.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS2.p6.4.m4.1.1.1.1.1.1.1.cmml" xref="S4.SS2.p6.4.m4.1.1.1.1.1.1">superscript</csymbol><ci id="S4.SS2.p6.4.m4.1.1.1.1.1.1.2.cmml" xref="S4.SS2.p6.4.m4.1.1.1.1.1.1.2">𝒙</ci><ci id="S4.SS2.p6.4.m4.1.1.1.1.1.1.3.cmml" xref="S4.SS2.p6.4.m4.1.1.1.1.1.1.3">𝑡</ci></apply><apply id="S4.SS2.p6.4.m4.2.2.2.2.2.2.cmml" xref="S4.SS2.p6.4.m4.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S4.SS2.p6.4.m4.2.2.2.2.2.2.1.cmml" xref="S4.SS2.p6.4.m4.2.2.2.2.2.2">subscript</csymbol><apply id="S4.SS2.p6.4.m4.2.2.2.2.2.2.2.cmml" xref="S4.SS2.p6.4.m4.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S4.SS2.p6.4.m4.2.2.2.2.2.2.2.1.cmml" xref="S4.SS2.p6.4.m4.2.2.2.2.2.2">superscript</csymbol><ci id="S4.SS2.p6.4.m4.2.2.2.2.2.2.2.2.cmml" xref="S4.SS2.p6.4.m4.2.2.2.2.2.2.2.2">𝒙</ci><ci id="S4.SS2.p6.4.m4.2.2.2.2.2.2.2.3.cmml" xref="S4.SS2.p6.4.m4.2.2.2.2.2.2.2.3">𝑡</ci></apply><ci id="S4.SS2.p6.4.m4.2.2.2.2.2.2.3a.cmml" xref="S4.SS2.p6.4.m4.2.2.2.2.2.2.3"><mtext mathsize="70%" id="S4.SS2.p6.4.m4.2.2.2.2.2.2.3.cmml" xref="S4.SS2.p6.4.m4.2.2.2.2.2.2.3">adv</mtext></ci></apply></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p6.4.m4.2c">-s\Sigma\nabla_{{\bm{x}}^{t}}\mathcal{D}\left({\bm{x}}^{t},{\bm{x}}^{t}_{\text{adv}}\right)</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p6.4.m4.2d">- italic_s roman_Σ ∇ start_POSTSUBSCRIPT bold_italic_x start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT end_POSTSUBSCRIPT caligraphic_D ( bold_italic_x start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT , bold_italic_x start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT )</annotation></semantics></math>, where <math id="S4.SS2.p6.5.m5.1" class="ltx_Math" alttext="\Sigma" display="inline"><semantics id="S4.SS2.p6.5.m5.1a"><mi mathvariant="normal" id="S4.SS2.p6.5.m5.1.1" xref="S4.SS2.p6.5.m5.1.1.cmml">Σ</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p6.5.m5.1b"><ci id="S4.SS2.p6.5.m5.1.1.cmml" xref="S4.SS2.p6.5.m5.1.1">Σ</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p6.5.m5.1c">\Sigma</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p6.5.m5.1d">roman_Σ</annotation></semantics></math> is the variance of <math id="S4.SS2.p6.6.m6.1" class="ltx_Math" alttext="{\bm{x}}^{t}" display="inline"><semantics id="S4.SS2.p6.6.m6.1a"><msup id="S4.SS2.p6.6.m6.1.1" xref="S4.SS2.p6.6.m6.1.1.cmml"><mi id="S4.SS2.p6.6.m6.1.1.2" xref="S4.SS2.p6.6.m6.1.1.2.cmml">𝒙</mi><mi id="S4.SS2.p6.6.m6.1.1.3" xref="S4.SS2.p6.6.m6.1.1.3.cmml">t</mi></msup><annotation-xml encoding="MathML-Content" id="S4.SS2.p6.6.m6.1b"><apply id="S4.SS2.p6.6.m6.1.1.cmml" xref="S4.SS2.p6.6.m6.1.1"><csymbol cd="ambiguous" id="S4.SS2.p6.6.m6.1.1.1.cmml" xref="S4.SS2.p6.6.m6.1.1">superscript</csymbol><ci id="S4.SS2.p6.6.m6.1.1.2.cmml" xref="S4.SS2.p6.6.m6.1.1.2">𝒙</ci><ci id="S4.SS2.p6.6.m6.1.1.3.cmml" xref="S4.SS2.p6.6.m6.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p6.6.m6.1c">{\bm{x}}^{t}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p6.6.m6.1d">bold_italic_x start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT</annotation></semantics></math>.
The resulting purification algorithm with the adversarial image as guidance is described in algorithm <a href="#alg2" title="Algorithm 2 ‣ 4.2 Guided DDPM ‣ 4 Methodology ‣ Guided Diffusion Model for Adversarial Purification" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>.
</p>
</div>
<figure id="alg2" class="ltx_float ltx_float_algorithm ltx_framed_top">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_float"><span id="alg2.4.1.1" class="ltx_text ltx_font_bold">Algorithm 2</span> </span> Distance Metric guided diffusion sampling, given a DDPM <math id="alg2.2.m1.2" class="ltx_Math" alttext="\left(\mu_{\theta}\left(x_{t}\right),\Sigma_{\theta}\left(x_{t}\right)\right)" display="inline"><semantics id="alg2.2.m1.2b"><mrow id="alg2.2.m1.2.2.2" xref="alg2.2.m1.2.2.3.cmml"><mo id="alg2.2.m1.2.2.2.3" xref="alg2.2.m1.2.2.3.cmml">(</mo><mrow id="alg2.2.m1.1.1.1.1" xref="alg2.2.m1.1.1.1.1.cmml"><msub id="alg2.2.m1.1.1.1.1.3" xref="alg2.2.m1.1.1.1.1.3.cmml"><mi id="alg2.2.m1.1.1.1.1.3.2" xref="alg2.2.m1.1.1.1.1.3.2.cmml">μ</mi><mi id="alg2.2.m1.1.1.1.1.3.3" xref="alg2.2.m1.1.1.1.1.3.3.cmml">θ</mi></msub><mo id="alg2.2.m1.1.1.1.1.2" xref="alg2.2.m1.1.1.1.1.2.cmml">⁢</mo><mrow id="alg2.2.m1.1.1.1.1.1.1" xref="alg2.2.m1.1.1.1.1.1.1.1.cmml"><mo id="alg2.2.m1.1.1.1.1.1.1.2" xref="alg2.2.m1.1.1.1.1.1.1.1.cmml">(</mo><msub id="alg2.2.m1.1.1.1.1.1.1.1" xref="alg2.2.m1.1.1.1.1.1.1.1.cmml"><mi id="alg2.2.m1.1.1.1.1.1.1.1.2" xref="alg2.2.m1.1.1.1.1.1.1.1.2.cmml">x</mi><mi id="alg2.2.m1.1.1.1.1.1.1.1.3" xref="alg2.2.m1.1.1.1.1.1.1.1.3.cmml">t</mi></msub><mo id="alg2.2.m1.1.1.1.1.1.1.3" xref="alg2.2.m1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="alg2.2.m1.2.2.2.4" xref="alg2.2.m1.2.2.3.cmml">,</mo><mrow id="alg2.2.m1.2.2.2.2" xref="alg2.2.m1.2.2.2.2.cmml"><msub id="alg2.2.m1.2.2.2.2.3" xref="alg2.2.m1.2.2.2.2.3.cmml"><mi mathvariant="normal" id="alg2.2.m1.2.2.2.2.3.2" xref="alg2.2.m1.2.2.2.2.3.2.cmml">Σ</mi><mi id="alg2.2.m1.2.2.2.2.3.3" xref="alg2.2.m1.2.2.2.2.3.3.cmml">θ</mi></msub><mo id="alg2.2.m1.2.2.2.2.2" xref="alg2.2.m1.2.2.2.2.2.cmml">⁢</mo><mrow id="alg2.2.m1.2.2.2.2.1.1" xref="alg2.2.m1.2.2.2.2.1.1.1.cmml"><mo id="alg2.2.m1.2.2.2.2.1.1.2" xref="alg2.2.m1.2.2.2.2.1.1.1.cmml">(</mo><msub id="alg2.2.m1.2.2.2.2.1.1.1" xref="alg2.2.m1.2.2.2.2.1.1.1.cmml"><mi id="alg2.2.m1.2.2.2.2.1.1.1.2" xref="alg2.2.m1.2.2.2.2.1.1.1.2.cmml">x</mi><mi id="alg2.2.m1.2.2.2.2.1.1.1.3" xref="alg2.2.m1.2.2.2.2.1.1.1.3.cmml">t</mi></msub><mo id="alg2.2.m1.2.2.2.2.1.1.3" xref="alg2.2.m1.2.2.2.2.1.1.1.cmml">)</mo></mrow></mrow><mo id="alg2.2.m1.2.2.2.5" xref="alg2.2.m1.2.2.3.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="alg2.2.m1.2c"><interval closure="open" id="alg2.2.m1.2.2.3.cmml" xref="alg2.2.m1.2.2.2"><apply id="alg2.2.m1.1.1.1.1.cmml" xref="alg2.2.m1.1.1.1.1"><times id="alg2.2.m1.1.1.1.1.2.cmml" xref="alg2.2.m1.1.1.1.1.2"></times><apply id="alg2.2.m1.1.1.1.1.3.cmml" xref="alg2.2.m1.1.1.1.1.3"><csymbol cd="ambiguous" id="alg2.2.m1.1.1.1.1.3.1.cmml" xref="alg2.2.m1.1.1.1.1.3">subscript</csymbol><ci id="alg2.2.m1.1.1.1.1.3.2.cmml" xref="alg2.2.m1.1.1.1.1.3.2">𝜇</ci><ci id="alg2.2.m1.1.1.1.1.3.3.cmml" xref="alg2.2.m1.1.1.1.1.3.3">𝜃</ci></apply><apply id="alg2.2.m1.1.1.1.1.1.1.1.cmml" xref="alg2.2.m1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="alg2.2.m1.1.1.1.1.1.1.1.1.cmml" xref="alg2.2.m1.1.1.1.1.1.1">subscript</csymbol><ci id="alg2.2.m1.1.1.1.1.1.1.1.2.cmml" xref="alg2.2.m1.1.1.1.1.1.1.1.2">𝑥</ci><ci id="alg2.2.m1.1.1.1.1.1.1.1.3.cmml" xref="alg2.2.m1.1.1.1.1.1.1.1.3">𝑡</ci></apply></apply><apply id="alg2.2.m1.2.2.2.2.cmml" xref="alg2.2.m1.2.2.2.2"><times id="alg2.2.m1.2.2.2.2.2.cmml" xref="alg2.2.m1.2.2.2.2.2"></times><apply id="alg2.2.m1.2.2.2.2.3.cmml" xref="alg2.2.m1.2.2.2.2.3"><csymbol cd="ambiguous" id="alg2.2.m1.2.2.2.2.3.1.cmml" xref="alg2.2.m1.2.2.2.2.3">subscript</csymbol><ci id="alg2.2.m1.2.2.2.2.3.2.cmml" xref="alg2.2.m1.2.2.2.2.3.2">Σ</ci><ci id="alg2.2.m1.2.2.2.2.3.3.cmml" xref="alg2.2.m1.2.2.2.2.3.3">𝜃</ci></apply><apply id="alg2.2.m1.2.2.2.2.1.1.1.cmml" xref="alg2.2.m1.2.2.2.2.1.1"><csymbol cd="ambiguous" id="alg2.2.m1.2.2.2.2.1.1.1.1.cmml" xref="alg2.2.m1.2.2.2.2.1.1">subscript</csymbol><ci id="alg2.2.m1.2.2.2.2.1.1.1.2.cmml" xref="alg2.2.m1.2.2.2.2.1.1.1.2">𝑥</ci><ci id="alg2.2.m1.2.2.2.2.1.1.1.3.cmml" xref="alg2.2.m1.2.2.2.2.1.1.1.3">𝑡</ci></apply></apply></interval></annotation-xml><annotation encoding="application/x-tex" id="alg2.2.m1.2d">\left(\mu_{\theta}\left(x_{t}\right),\Sigma_{\theta}\left(x_{t}\right)\right)</annotation><annotation encoding="application/x-llamapun" id="alg2.2.m1.2e">( italic_μ start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT ( italic_x start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT ) , roman_Σ start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT ( italic_x start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT ) )</annotation></semantics></math>, gradient scale s </figcaption>
<div id="alg2.5" class="ltx_listing ltx_listing">
<div id="alg2.l0" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg2.l0.1.1.1" class="ltx_text" style="font-size:80%;">0:</span></span>  Distance Metric gradient, gradient scale <math id="alg2.l0.m1.1" class="ltx_Math" alttext="s" display="inline"><semantics id="alg2.l0.m1.1a"><mi id="alg2.l0.m1.1.1" xref="alg2.l0.m1.1.1.cmml">s</mi><annotation-xml encoding="MathML-Content" id="alg2.l0.m1.1b"><ci id="alg2.l0.m1.1.1.cmml" xref="alg2.l0.m1.1.1">𝑠</ci></annotation-xml><annotation encoding="application/x-tex" id="alg2.l0.m1.1c">s</annotation><annotation encoding="application/x-llamapun" id="alg2.l0.m1.1d">italic_s</annotation></semantics></math>

</div>
<div id="alg2.l1" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg2.l1.1.1.1" class="ltx_text" style="font-size:80%;">1:</span></span>  <span id="alg2.l1.2" class="ltx_text ltx_font_bold">for</span> <math id="alg2.l1.m1.1" class="ltx_Math" alttext="i" display="inline"><semantics id="alg2.l1.m1.1a"><mi id="alg2.l1.m1.1.1" xref="alg2.l1.m1.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="alg2.l1.m1.1b"><ci id="alg2.l1.m1.1.1.cmml" xref="alg2.l1.m1.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="alg2.l1.m1.1c">i</annotation><annotation encoding="application/x-llamapun" id="alg2.l1.m1.1d">italic_i</annotation></semantics></math> <math id="alg2.l1.m2.1" class="ltx_Math" alttext="\leftarrow 1" display="inline"><semantics id="alg2.l1.m2.1a"><mrow id="alg2.l1.m2.1.1" xref="alg2.l1.m2.1.1.cmml"><mi id="alg2.l1.m2.1.1.2" xref="alg2.l1.m2.1.1.2.cmml"></mi><mo stretchy="false" id="alg2.l1.m2.1.1.1" xref="alg2.l1.m2.1.1.1.cmml">←</mo><mn id="alg2.l1.m2.1.1.3" xref="alg2.l1.m2.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="alg2.l1.m2.1b"><apply id="alg2.l1.m2.1.1.cmml" xref="alg2.l1.m2.1.1"><ci id="alg2.l1.m2.1.1.1.cmml" xref="alg2.l1.m2.1.1.1">←</ci><csymbol cd="latexml" id="alg2.l1.m2.1.1.2.cmml" xref="alg2.l1.m2.1.1.2">absent</csymbol><cn type="integer" id="alg2.l1.m2.1.1.3.cmml" xref="alg2.l1.m2.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l1.m2.1c">\leftarrow 1</annotation><annotation encoding="application/x-llamapun" id="alg2.l1.m2.1d">← 1</annotation></semantics></math> to <math id="alg2.l1.m3.1" class="ltx_Math" alttext="M" display="inline"><semantics id="alg2.l1.m3.1a"><mi id="alg2.l1.m3.1.1" xref="alg2.l1.m3.1.1.cmml">M</mi><annotation-xml encoding="MathML-Content" id="alg2.l1.m3.1b"><ci id="alg2.l1.m3.1.1.cmml" xref="alg2.l1.m3.1.1">𝑀</ci></annotation-xml><annotation encoding="application/x-tex" id="alg2.l1.m3.1c">M</annotation><annotation encoding="application/x-llamapun" id="alg2.l1.m3.1d">italic_M</annotation></semantics></math> <span id="alg2.l1.3" class="ltx_text ltx_font_bold">do</span>



</div>
<div id="alg2.l2" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg2.l2.1.1.1" class="ltx_text" style="font-size:80%;">2:</span></span>     The diffusion process: <math id="alg2.l2.m1.1" class="ltx_Math" alttext="{\bm{x}}^{t}=\sqrt{\bar{\alpha}_{t}}(x+v_{perb})+\sqrt{1-\bar{\alpha}_{t}}\bm{\epsilon}," display="inline"><semantics id="alg2.l2.m1.1a"><mrow id="alg2.l2.m1.1.1.1" xref="alg2.l2.m1.1.1.1.1.cmml"><mrow id="alg2.l2.m1.1.1.1.1" xref="alg2.l2.m1.1.1.1.1.cmml"><msup id="alg2.l2.m1.1.1.1.1.3" xref="alg2.l2.m1.1.1.1.1.3.cmml"><mi id="alg2.l2.m1.1.1.1.1.3.2" xref="alg2.l2.m1.1.1.1.1.3.2.cmml">𝒙</mi><mi id="alg2.l2.m1.1.1.1.1.3.3" xref="alg2.l2.m1.1.1.1.1.3.3.cmml">t</mi></msup><mo id="alg2.l2.m1.1.1.1.1.2" xref="alg2.l2.m1.1.1.1.1.2.cmml">=</mo><mrow id="alg2.l2.m1.1.1.1.1.1" xref="alg2.l2.m1.1.1.1.1.1.cmml"><mrow id="alg2.l2.m1.1.1.1.1.1.1" xref="alg2.l2.m1.1.1.1.1.1.1.cmml"><msqrt id="alg2.l2.m1.1.1.1.1.1.1.3" xref="alg2.l2.m1.1.1.1.1.1.1.3.cmml"><msub id="alg2.l2.m1.1.1.1.1.1.1.3.2" xref="alg2.l2.m1.1.1.1.1.1.1.3.2.cmml"><mover accent="true" id="alg2.l2.m1.1.1.1.1.1.1.3.2.2" xref="alg2.l2.m1.1.1.1.1.1.1.3.2.2.cmml"><mi id="alg2.l2.m1.1.1.1.1.1.1.3.2.2.2" xref="alg2.l2.m1.1.1.1.1.1.1.3.2.2.2.cmml">α</mi><mo id="alg2.l2.m1.1.1.1.1.1.1.3.2.2.1" xref="alg2.l2.m1.1.1.1.1.1.1.3.2.2.1.cmml">¯</mo></mover><mi id="alg2.l2.m1.1.1.1.1.1.1.3.2.3" xref="alg2.l2.m1.1.1.1.1.1.1.3.2.3.cmml">t</mi></msub></msqrt><mo id="alg2.l2.m1.1.1.1.1.1.1.2" xref="alg2.l2.m1.1.1.1.1.1.1.2.cmml">⁢</mo><mrow id="alg2.l2.m1.1.1.1.1.1.1.1.1" xref="alg2.l2.m1.1.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="alg2.l2.m1.1.1.1.1.1.1.1.1.2" xref="alg2.l2.m1.1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="alg2.l2.m1.1.1.1.1.1.1.1.1.1" xref="alg2.l2.m1.1.1.1.1.1.1.1.1.1.cmml"><mi id="alg2.l2.m1.1.1.1.1.1.1.1.1.1.2" xref="alg2.l2.m1.1.1.1.1.1.1.1.1.1.2.cmml">x</mi><mo id="alg2.l2.m1.1.1.1.1.1.1.1.1.1.1" xref="alg2.l2.m1.1.1.1.1.1.1.1.1.1.1.cmml">+</mo><msub id="alg2.l2.m1.1.1.1.1.1.1.1.1.1.3" xref="alg2.l2.m1.1.1.1.1.1.1.1.1.1.3.cmml"><mi id="alg2.l2.m1.1.1.1.1.1.1.1.1.1.3.2" xref="alg2.l2.m1.1.1.1.1.1.1.1.1.1.3.2.cmml">v</mi><mrow id="alg2.l2.m1.1.1.1.1.1.1.1.1.1.3.3" xref="alg2.l2.m1.1.1.1.1.1.1.1.1.1.3.3.cmml"><mi id="alg2.l2.m1.1.1.1.1.1.1.1.1.1.3.3.2" xref="alg2.l2.m1.1.1.1.1.1.1.1.1.1.3.3.2.cmml">p</mi><mo id="alg2.l2.m1.1.1.1.1.1.1.1.1.1.3.3.1" xref="alg2.l2.m1.1.1.1.1.1.1.1.1.1.3.3.1.cmml">⁢</mo><mi id="alg2.l2.m1.1.1.1.1.1.1.1.1.1.3.3.3" xref="alg2.l2.m1.1.1.1.1.1.1.1.1.1.3.3.3.cmml">e</mi><mo id="alg2.l2.m1.1.1.1.1.1.1.1.1.1.3.3.1a" xref="alg2.l2.m1.1.1.1.1.1.1.1.1.1.3.3.1.cmml">⁢</mo><mi id="alg2.l2.m1.1.1.1.1.1.1.1.1.1.3.3.4" xref="alg2.l2.m1.1.1.1.1.1.1.1.1.1.3.3.4.cmml">r</mi><mo id="alg2.l2.m1.1.1.1.1.1.1.1.1.1.3.3.1b" xref="alg2.l2.m1.1.1.1.1.1.1.1.1.1.3.3.1.cmml">⁢</mo><mi id="alg2.l2.m1.1.1.1.1.1.1.1.1.1.3.3.5" xref="alg2.l2.m1.1.1.1.1.1.1.1.1.1.3.3.5.cmml">b</mi></mrow></msub></mrow><mo stretchy="false" id="alg2.l2.m1.1.1.1.1.1.1.1.1.3" xref="alg2.l2.m1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="alg2.l2.m1.1.1.1.1.1.2" xref="alg2.l2.m1.1.1.1.1.1.2.cmml">+</mo><mrow id="alg2.l2.m1.1.1.1.1.1.3" xref="alg2.l2.m1.1.1.1.1.1.3.cmml"><msqrt id="alg2.l2.m1.1.1.1.1.1.3.2" xref="alg2.l2.m1.1.1.1.1.1.3.2.cmml"><mrow id="alg2.l2.m1.1.1.1.1.1.3.2.2" xref="alg2.l2.m1.1.1.1.1.1.3.2.2.cmml"><mn id="alg2.l2.m1.1.1.1.1.1.3.2.2.2" xref="alg2.l2.m1.1.1.1.1.1.3.2.2.2.cmml">1</mn><mo id="alg2.l2.m1.1.1.1.1.1.3.2.2.1" xref="alg2.l2.m1.1.1.1.1.1.3.2.2.1.cmml">−</mo><msub id="alg2.l2.m1.1.1.1.1.1.3.2.2.3" xref="alg2.l2.m1.1.1.1.1.1.3.2.2.3.cmml"><mover accent="true" id="alg2.l2.m1.1.1.1.1.1.3.2.2.3.2" xref="alg2.l2.m1.1.1.1.1.1.3.2.2.3.2.cmml"><mi id="alg2.l2.m1.1.1.1.1.1.3.2.2.3.2.2" xref="alg2.l2.m1.1.1.1.1.1.3.2.2.3.2.2.cmml">α</mi><mo id="alg2.l2.m1.1.1.1.1.1.3.2.2.3.2.1" xref="alg2.l2.m1.1.1.1.1.1.3.2.2.3.2.1.cmml">¯</mo></mover><mi id="alg2.l2.m1.1.1.1.1.1.3.2.2.3.3" xref="alg2.l2.m1.1.1.1.1.1.3.2.2.3.3.cmml">t</mi></msub></mrow></msqrt><mo id="alg2.l2.m1.1.1.1.1.1.3.1" xref="alg2.l2.m1.1.1.1.1.1.3.1.cmml">⁢</mo><mi mathvariant="bold-italic" id="alg2.l2.m1.1.1.1.1.1.3.3" xref="alg2.l2.m1.1.1.1.1.1.3.3.cmml">ϵ</mi></mrow></mrow></mrow><mo id="alg2.l2.m1.1.1.1.2" xref="alg2.l2.m1.1.1.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="alg2.l2.m1.1b"><apply id="alg2.l2.m1.1.1.1.1.cmml" xref="alg2.l2.m1.1.1.1"><eq id="alg2.l2.m1.1.1.1.1.2.cmml" xref="alg2.l2.m1.1.1.1.1.2"></eq><apply id="alg2.l2.m1.1.1.1.1.3.cmml" xref="alg2.l2.m1.1.1.1.1.3"><csymbol cd="ambiguous" id="alg2.l2.m1.1.1.1.1.3.1.cmml" xref="alg2.l2.m1.1.1.1.1.3">superscript</csymbol><ci id="alg2.l2.m1.1.1.1.1.3.2.cmml" xref="alg2.l2.m1.1.1.1.1.3.2">𝒙</ci><ci id="alg2.l2.m1.1.1.1.1.3.3.cmml" xref="alg2.l2.m1.1.1.1.1.3.3">𝑡</ci></apply><apply id="alg2.l2.m1.1.1.1.1.1.cmml" xref="alg2.l2.m1.1.1.1.1.1"><plus id="alg2.l2.m1.1.1.1.1.1.2.cmml" xref="alg2.l2.m1.1.1.1.1.1.2"></plus><apply id="alg2.l2.m1.1.1.1.1.1.1.cmml" xref="alg2.l2.m1.1.1.1.1.1.1"><times id="alg2.l2.m1.1.1.1.1.1.1.2.cmml" xref="alg2.l2.m1.1.1.1.1.1.1.2"></times><apply id="alg2.l2.m1.1.1.1.1.1.1.3.cmml" xref="alg2.l2.m1.1.1.1.1.1.1.3"><root id="alg2.l2.m1.1.1.1.1.1.1.3a.cmml" xref="alg2.l2.m1.1.1.1.1.1.1.3"></root><apply id="alg2.l2.m1.1.1.1.1.1.1.3.2.cmml" xref="alg2.l2.m1.1.1.1.1.1.1.3.2"><csymbol cd="ambiguous" id="alg2.l2.m1.1.1.1.1.1.1.3.2.1.cmml" xref="alg2.l2.m1.1.1.1.1.1.1.3.2">subscript</csymbol><apply id="alg2.l2.m1.1.1.1.1.1.1.3.2.2.cmml" xref="alg2.l2.m1.1.1.1.1.1.1.3.2.2"><ci id="alg2.l2.m1.1.1.1.1.1.1.3.2.2.1.cmml" xref="alg2.l2.m1.1.1.1.1.1.1.3.2.2.1">¯</ci><ci id="alg2.l2.m1.1.1.1.1.1.1.3.2.2.2.cmml" xref="alg2.l2.m1.1.1.1.1.1.1.3.2.2.2">𝛼</ci></apply><ci id="alg2.l2.m1.1.1.1.1.1.1.3.2.3.cmml" xref="alg2.l2.m1.1.1.1.1.1.1.3.2.3">𝑡</ci></apply></apply><apply id="alg2.l2.m1.1.1.1.1.1.1.1.1.1.cmml" xref="alg2.l2.m1.1.1.1.1.1.1.1.1"><plus id="alg2.l2.m1.1.1.1.1.1.1.1.1.1.1.cmml" xref="alg2.l2.m1.1.1.1.1.1.1.1.1.1.1"></plus><ci id="alg2.l2.m1.1.1.1.1.1.1.1.1.1.2.cmml" xref="alg2.l2.m1.1.1.1.1.1.1.1.1.1.2">𝑥</ci><apply id="alg2.l2.m1.1.1.1.1.1.1.1.1.1.3.cmml" xref="alg2.l2.m1.1.1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="alg2.l2.m1.1.1.1.1.1.1.1.1.1.3.1.cmml" xref="alg2.l2.m1.1.1.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="alg2.l2.m1.1.1.1.1.1.1.1.1.1.3.2.cmml" xref="alg2.l2.m1.1.1.1.1.1.1.1.1.1.3.2">𝑣</ci><apply id="alg2.l2.m1.1.1.1.1.1.1.1.1.1.3.3.cmml" xref="alg2.l2.m1.1.1.1.1.1.1.1.1.1.3.3"><times id="alg2.l2.m1.1.1.1.1.1.1.1.1.1.3.3.1.cmml" xref="alg2.l2.m1.1.1.1.1.1.1.1.1.1.3.3.1"></times><ci id="alg2.l2.m1.1.1.1.1.1.1.1.1.1.3.3.2.cmml" xref="alg2.l2.m1.1.1.1.1.1.1.1.1.1.3.3.2">𝑝</ci><ci id="alg2.l2.m1.1.1.1.1.1.1.1.1.1.3.3.3.cmml" xref="alg2.l2.m1.1.1.1.1.1.1.1.1.1.3.3.3">𝑒</ci><ci id="alg2.l2.m1.1.1.1.1.1.1.1.1.1.3.3.4.cmml" xref="alg2.l2.m1.1.1.1.1.1.1.1.1.1.3.3.4">𝑟</ci><ci id="alg2.l2.m1.1.1.1.1.1.1.1.1.1.3.3.5.cmml" xref="alg2.l2.m1.1.1.1.1.1.1.1.1.1.3.3.5">𝑏</ci></apply></apply></apply></apply><apply id="alg2.l2.m1.1.1.1.1.1.3.cmml" xref="alg2.l2.m1.1.1.1.1.1.3"><times id="alg2.l2.m1.1.1.1.1.1.3.1.cmml" xref="alg2.l2.m1.1.1.1.1.1.3.1"></times><apply id="alg2.l2.m1.1.1.1.1.1.3.2.cmml" xref="alg2.l2.m1.1.1.1.1.1.3.2"><root id="alg2.l2.m1.1.1.1.1.1.3.2a.cmml" xref="alg2.l2.m1.1.1.1.1.1.3.2"></root><apply id="alg2.l2.m1.1.1.1.1.1.3.2.2.cmml" xref="alg2.l2.m1.1.1.1.1.1.3.2.2"><minus id="alg2.l2.m1.1.1.1.1.1.3.2.2.1.cmml" xref="alg2.l2.m1.1.1.1.1.1.3.2.2.1"></minus><cn type="integer" id="alg2.l2.m1.1.1.1.1.1.3.2.2.2.cmml" xref="alg2.l2.m1.1.1.1.1.1.3.2.2.2">1</cn><apply id="alg2.l2.m1.1.1.1.1.1.3.2.2.3.cmml" xref="alg2.l2.m1.1.1.1.1.1.3.2.2.3"><csymbol cd="ambiguous" id="alg2.l2.m1.1.1.1.1.1.3.2.2.3.1.cmml" xref="alg2.l2.m1.1.1.1.1.1.3.2.2.3">subscript</csymbol><apply id="alg2.l2.m1.1.1.1.1.1.3.2.2.3.2.cmml" xref="alg2.l2.m1.1.1.1.1.1.3.2.2.3.2"><ci id="alg2.l2.m1.1.1.1.1.1.3.2.2.3.2.1.cmml" xref="alg2.l2.m1.1.1.1.1.1.3.2.2.3.2.1">¯</ci><ci id="alg2.l2.m1.1.1.1.1.1.3.2.2.3.2.2.cmml" xref="alg2.l2.m1.1.1.1.1.1.3.2.2.3.2.2">𝛼</ci></apply><ci id="alg2.l2.m1.1.1.1.1.1.3.2.2.3.3.cmml" xref="alg2.l2.m1.1.1.1.1.1.3.2.2.3.3">𝑡</ci></apply></apply></apply><ci id="alg2.l2.m1.1.1.1.1.1.3.3.cmml" xref="alg2.l2.m1.1.1.1.1.1.3.3">bold-italic-ϵ</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l2.m1.1c">{\bm{x}}^{t}=\sqrt{\bar{\alpha}_{t}}(x+v_{perb})+\sqrt{1-\bar{\alpha}_{t}}\bm{\epsilon},</annotation><annotation encoding="application/x-llamapun" id="alg2.l2.m1.1d">bold_italic_x start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT = square-root start_ARG over¯ start_ARG italic_α end_ARG start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT end_ARG ( italic_x + italic_v start_POSTSUBSCRIPT italic_p italic_e italic_r italic_b end_POSTSUBSCRIPT ) + square-root start_ARG 1 - over¯ start_ARG italic_α end_ARG start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT end_ARG bold_italic_ϵ ,</annotation></semantics></math>

</div>
<div id="alg2.l3" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg2.l3.1.1.1" class="ltx_text" style="font-size:80%;">3:</span></span>     <span id="alg2.l3.2" class="ltx_text ltx_font_bold">for</span> <math id="alg2.l3.m1.1" class="ltx_Math" alttext="t\leftarrow T_{c}" display="inline"><semantics id="alg2.l3.m1.1a"><mrow id="alg2.l3.m1.1.1" xref="alg2.l3.m1.1.1.cmml"><mi id="alg2.l3.m1.1.1.2" xref="alg2.l3.m1.1.1.2.cmml">t</mi><mo stretchy="false" id="alg2.l3.m1.1.1.1" xref="alg2.l3.m1.1.1.1.cmml">←</mo><msub id="alg2.l3.m1.1.1.3" xref="alg2.l3.m1.1.1.3.cmml"><mi id="alg2.l3.m1.1.1.3.2" xref="alg2.l3.m1.1.1.3.2.cmml">T</mi><mi id="alg2.l3.m1.1.1.3.3" xref="alg2.l3.m1.1.1.3.3.cmml">c</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="alg2.l3.m1.1b"><apply id="alg2.l3.m1.1.1.cmml" xref="alg2.l3.m1.1.1"><ci id="alg2.l3.m1.1.1.1.cmml" xref="alg2.l3.m1.1.1.1">←</ci><ci id="alg2.l3.m1.1.1.2.cmml" xref="alg2.l3.m1.1.1.2">𝑡</ci><apply id="alg2.l3.m1.1.1.3.cmml" xref="alg2.l3.m1.1.1.3"><csymbol cd="ambiguous" id="alg2.l3.m1.1.1.3.1.cmml" xref="alg2.l3.m1.1.1.3">subscript</csymbol><ci id="alg2.l3.m1.1.1.3.2.cmml" xref="alg2.l3.m1.1.1.3.2">𝑇</ci><ci id="alg2.l3.m1.1.1.3.3.cmml" xref="alg2.l3.m1.1.1.3.3">𝑐</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l3.m1.1c">t\leftarrow T_{c}</annotation><annotation encoding="application/x-llamapun" id="alg2.l3.m1.1d">italic_t ← italic_T start_POSTSUBSCRIPT italic_c end_POSTSUBSCRIPT</annotation></semantics></math> to <math id="alg2.l3.m2.1" class="ltx_Math" alttext="1" display="inline"><semantics id="alg2.l3.m2.1a"><mn id="alg2.l3.m2.1.1" xref="alg2.l3.m2.1.1.cmml">1</mn><annotation-xml encoding="MathML-Content" id="alg2.l3.m2.1b"><cn type="integer" id="alg2.l3.m2.1.1.cmml" xref="alg2.l3.m2.1.1">1</cn></annotation-xml><annotation encoding="application/x-tex" id="alg2.l3.m2.1c">1</annotation><annotation encoding="application/x-llamapun" id="alg2.l3.m2.1d">1</annotation></semantics></math> <span id="alg2.l3.3" class="ltx_text ltx_font_bold">do</span>



</div>
<div id="alg2.l4" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg2.l4.1.1.1" class="ltx_text" style="font-size:80%;">4:</span></span>        <math id="alg2.l4.m1.4" class="ltx_Math" alttext="\mu,\Sigma\leftarrow\mu_{\theta}\left(x_{t}\right),\Sigma_{\theta}\left(x_{t}\right)" display="inline"><semantics id="alg2.l4.m1.4a"><mrow id="alg2.l4.m1.4.4.2" xref="alg2.l4.m1.4.4.3.cmml"><mrow id="alg2.l4.m1.3.3.1.1" xref="alg2.l4.m1.3.3.1.1.cmml"><mrow id="alg2.l4.m1.3.3.1.1.3.2" xref="alg2.l4.m1.3.3.1.1.3.1.cmml"><mi id="alg2.l4.m1.1.1" xref="alg2.l4.m1.1.1.cmml">μ</mi><mo id="alg2.l4.m1.3.3.1.1.3.2.1" xref="alg2.l4.m1.3.3.1.1.3.1.cmml">,</mo><mi mathvariant="normal" id="alg2.l4.m1.2.2" xref="alg2.l4.m1.2.2.cmml">Σ</mi></mrow><mo stretchy="false" id="alg2.l4.m1.3.3.1.1.2" xref="alg2.l4.m1.3.3.1.1.2.cmml">←</mo><mrow id="alg2.l4.m1.3.3.1.1.1" xref="alg2.l4.m1.3.3.1.1.1.cmml"><msub id="alg2.l4.m1.3.3.1.1.1.3" xref="alg2.l4.m1.3.3.1.1.1.3.cmml"><mi id="alg2.l4.m1.3.3.1.1.1.3.2" xref="alg2.l4.m1.3.3.1.1.1.3.2.cmml">μ</mi><mi id="alg2.l4.m1.3.3.1.1.1.3.3" xref="alg2.l4.m1.3.3.1.1.1.3.3.cmml">θ</mi></msub><mo id="alg2.l4.m1.3.3.1.1.1.2" xref="alg2.l4.m1.3.3.1.1.1.2.cmml">⁢</mo><mrow id="alg2.l4.m1.3.3.1.1.1.1.1" xref="alg2.l4.m1.3.3.1.1.1.1.1.1.cmml"><mo id="alg2.l4.m1.3.3.1.1.1.1.1.2" xref="alg2.l4.m1.3.3.1.1.1.1.1.1.cmml">(</mo><msub id="alg2.l4.m1.3.3.1.1.1.1.1.1" xref="alg2.l4.m1.3.3.1.1.1.1.1.1.cmml"><mi id="alg2.l4.m1.3.3.1.1.1.1.1.1.2" xref="alg2.l4.m1.3.3.1.1.1.1.1.1.2.cmml">x</mi><mi id="alg2.l4.m1.3.3.1.1.1.1.1.1.3" xref="alg2.l4.m1.3.3.1.1.1.1.1.1.3.cmml">t</mi></msub><mo id="alg2.l4.m1.3.3.1.1.1.1.1.3" xref="alg2.l4.m1.3.3.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><mo id="alg2.l4.m1.4.4.2.3" xref="alg2.l4.m1.4.4.3a.cmml">,</mo><mrow id="alg2.l4.m1.4.4.2.2" xref="alg2.l4.m1.4.4.2.2.cmml"><msub id="alg2.l4.m1.4.4.2.2.3" xref="alg2.l4.m1.4.4.2.2.3.cmml"><mi mathvariant="normal" id="alg2.l4.m1.4.4.2.2.3.2" xref="alg2.l4.m1.4.4.2.2.3.2.cmml">Σ</mi><mi id="alg2.l4.m1.4.4.2.2.3.3" xref="alg2.l4.m1.4.4.2.2.3.3.cmml">θ</mi></msub><mo id="alg2.l4.m1.4.4.2.2.2" xref="alg2.l4.m1.4.4.2.2.2.cmml">⁢</mo><mrow id="alg2.l4.m1.4.4.2.2.1.1" xref="alg2.l4.m1.4.4.2.2.1.1.1.cmml"><mo id="alg2.l4.m1.4.4.2.2.1.1.2" xref="alg2.l4.m1.4.4.2.2.1.1.1.cmml">(</mo><msub id="alg2.l4.m1.4.4.2.2.1.1.1" xref="alg2.l4.m1.4.4.2.2.1.1.1.cmml"><mi id="alg2.l4.m1.4.4.2.2.1.1.1.2" xref="alg2.l4.m1.4.4.2.2.1.1.1.2.cmml">x</mi><mi id="alg2.l4.m1.4.4.2.2.1.1.1.3" xref="alg2.l4.m1.4.4.2.2.1.1.1.3.cmml">t</mi></msub><mo id="alg2.l4.m1.4.4.2.2.1.1.3" xref="alg2.l4.m1.4.4.2.2.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg2.l4.m1.4b"><apply id="alg2.l4.m1.4.4.3.cmml" xref="alg2.l4.m1.4.4.2"><csymbol cd="ambiguous" id="alg2.l4.m1.4.4.3a.cmml" xref="alg2.l4.m1.4.4.2.3">formulae-sequence</csymbol><apply id="alg2.l4.m1.3.3.1.1.cmml" xref="alg2.l4.m1.3.3.1.1"><ci id="alg2.l4.m1.3.3.1.1.2.cmml" xref="alg2.l4.m1.3.3.1.1.2">←</ci><list id="alg2.l4.m1.3.3.1.1.3.1.cmml" xref="alg2.l4.m1.3.3.1.1.3.2"><ci id="alg2.l4.m1.1.1.cmml" xref="alg2.l4.m1.1.1">𝜇</ci><ci id="alg2.l4.m1.2.2.cmml" xref="alg2.l4.m1.2.2">Σ</ci></list><apply id="alg2.l4.m1.3.3.1.1.1.cmml" xref="alg2.l4.m1.3.3.1.1.1"><times id="alg2.l4.m1.3.3.1.1.1.2.cmml" xref="alg2.l4.m1.3.3.1.1.1.2"></times><apply id="alg2.l4.m1.3.3.1.1.1.3.cmml" xref="alg2.l4.m1.3.3.1.1.1.3"><csymbol cd="ambiguous" id="alg2.l4.m1.3.3.1.1.1.3.1.cmml" xref="alg2.l4.m1.3.3.1.1.1.3">subscript</csymbol><ci id="alg2.l4.m1.3.3.1.1.1.3.2.cmml" xref="alg2.l4.m1.3.3.1.1.1.3.2">𝜇</ci><ci id="alg2.l4.m1.3.3.1.1.1.3.3.cmml" xref="alg2.l4.m1.3.3.1.1.1.3.3">𝜃</ci></apply><apply id="alg2.l4.m1.3.3.1.1.1.1.1.1.cmml" xref="alg2.l4.m1.3.3.1.1.1.1.1"><csymbol cd="ambiguous" id="alg2.l4.m1.3.3.1.1.1.1.1.1.1.cmml" xref="alg2.l4.m1.3.3.1.1.1.1.1">subscript</csymbol><ci id="alg2.l4.m1.3.3.1.1.1.1.1.1.2.cmml" xref="alg2.l4.m1.3.3.1.1.1.1.1.1.2">𝑥</ci><ci id="alg2.l4.m1.3.3.1.1.1.1.1.1.3.cmml" xref="alg2.l4.m1.3.3.1.1.1.1.1.1.3">𝑡</ci></apply></apply></apply><apply id="alg2.l4.m1.4.4.2.2.cmml" xref="alg2.l4.m1.4.4.2.2"><times id="alg2.l4.m1.4.4.2.2.2.cmml" xref="alg2.l4.m1.4.4.2.2.2"></times><apply id="alg2.l4.m1.4.4.2.2.3.cmml" xref="alg2.l4.m1.4.4.2.2.3"><csymbol cd="ambiguous" id="alg2.l4.m1.4.4.2.2.3.1.cmml" xref="alg2.l4.m1.4.4.2.2.3">subscript</csymbol><ci id="alg2.l4.m1.4.4.2.2.3.2.cmml" xref="alg2.l4.m1.4.4.2.2.3.2">Σ</ci><ci id="alg2.l4.m1.4.4.2.2.3.3.cmml" xref="alg2.l4.m1.4.4.2.2.3.3">𝜃</ci></apply><apply id="alg2.l4.m1.4.4.2.2.1.1.1.cmml" xref="alg2.l4.m1.4.4.2.2.1.1"><csymbol cd="ambiguous" id="alg2.l4.m1.4.4.2.2.1.1.1.1.cmml" xref="alg2.l4.m1.4.4.2.2.1.1">subscript</csymbol><ci id="alg2.l4.m1.4.4.2.2.1.1.1.2.cmml" xref="alg2.l4.m1.4.4.2.2.1.1.1.2">𝑥</ci><ci id="alg2.l4.m1.4.4.2.2.1.1.1.3.cmml" xref="alg2.l4.m1.4.4.2.2.1.1.1.3">𝑡</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l4.m1.4c">\mu,\Sigma\leftarrow\mu_{\theta}\left(x_{t}\right),\Sigma_{\theta}\left(x_{t}\right)</annotation><annotation encoding="application/x-llamapun" id="alg2.l4.m1.4d">italic_μ , roman_Σ ← italic_μ start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT ( italic_x start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT ) , roman_Σ start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT ( italic_x start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT )</annotation></semantics></math>

</div>
<div id="alg2.l5" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg2.l5.1.1.1" class="ltx_text" style="font-size:80%;">5:</span></span>        <math id="alg2.l5.m1.1" class="ltx_Math" alttext="x_{t-1}\leftarrow" display="inline"><semantics id="alg2.l5.m1.1a"><mrow id="alg2.l5.m1.1.1" xref="alg2.l5.m1.1.1.cmml"><msub id="alg2.l5.m1.1.1.2" xref="alg2.l5.m1.1.1.2.cmml"><mi id="alg2.l5.m1.1.1.2.2" xref="alg2.l5.m1.1.1.2.2.cmml">x</mi><mrow id="alg2.l5.m1.1.1.2.3" xref="alg2.l5.m1.1.1.2.3.cmml"><mi id="alg2.l5.m1.1.1.2.3.2" xref="alg2.l5.m1.1.1.2.3.2.cmml">t</mi><mo id="alg2.l5.m1.1.1.2.3.1" xref="alg2.l5.m1.1.1.2.3.1.cmml">−</mo><mn id="alg2.l5.m1.1.1.2.3.3" xref="alg2.l5.m1.1.1.2.3.3.cmml">1</mn></mrow></msub><mo stretchy="false" id="alg2.l5.m1.1.1.1" xref="alg2.l5.m1.1.1.1.cmml">←</mo><mi id="alg2.l5.m1.1.1.3" xref="alg2.l5.m1.1.1.3.cmml"></mi></mrow><annotation-xml encoding="MathML-Content" id="alg2.l5.m1.1b"><apply id="alg2.l5.m1.1.1.cmml" xref="alg2.l5.m1.1.1"><ci id="alg2.l5.m1.1.1.1.cmml" xref="alg2.l5.m1.1.1.1">←</ci><apply id="alg2.l5.m1.1.1.2.cmml" xref="alg2.l5.m1.1.1.2"><csymbol cd="ambiguous" id="alg2.l5.m1.1.1.2.1.cmml" xref="alg2.l5.m1.1.1.2">subscript</csymbol><ci id="alg2.l5.m1.1.1.2.2.cmml" xref="alg2.l5.m1.1.1.2.2">𝑥</ci><apply id="alg2.l5.m1.1.1.2.3.cmml" xref="alg2.l5.m1.1.1.2.3"><minus id="alg2.l5.m1.1.1.2.3.1.cmml" xref="alg2.l5.m1.1.1.2.3.1"></minus><ci id="alg2.l5.m1.1.1.2.3.2.cmml" xref="alg2.l5.m1.1.1.2.3.2">𝑡</ci><cn type="integer" id="alg2.l5.m1.1.1.2.3.3.cmml" xref="alg2.l5.m1.1.1.2.3.3">1</cn></apply></apply><csymbol cd="latexml" id="alg2.l5.m1.1.1.3.cmml" xref="alg2.l5.m1.1.1.3">absent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l5.m1.1c">x_{t-1}\leftarrow</annotation><annotation encoding="application/x-llamapun" id="alg2.l5.m1.1d">italic_x start_POSTSUBSCRIPT italic_t - 1 end_POSTSUBSCRIPT ←</annotation></semantics></math> sample from <math id="alg2.l5.m2.2" class="ltx_Math" alttext="\mathcal{N}\left(\mu-s\Sigma\nabla_{{\bm{x}}^{t}}\mathcal{D}\left({\bm{x}}^{t},{\bm{x}}^{t}_{\text{adv}}\right),\Sigma\right)" display="inline"><semantics id="alg2.l5.m2.2a"><mrow id="alg2.l5.m2.2.2" xref="alg2.l5.m2.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="alg2.l5.m2.2.2.3" xref="alg2.l5.m2.2.2.3.cmml">𝒩</mi><mo id="alg2.l5.m2.2.2.2" xref="alg2.l5.m2.2.2.2.cmml">⁢</mo><mrow id="alg2.l5.m2.2.2.1.1" xref="alg2.l5.m2.2.2.1.2.cmml"><mo id="alg2.l5.m2.2.2.1.1.2" xref="alg2.l5.m2.2.2.1.2.cmml">(</mo><mrow id="alg2.l5.m2.2.2.1.1.1" xref="alg2.l5.m2.2.2.1.1.1.cmml"><mi id="alg2.l5.m2.2.2.1.1.1.4" xref="alg2.l5.m2.2.2.1.1.1.4.cmml">μ</mi><mo id="alg2.l5.m2.2.2.1.1.1.3" xref="alg2.l5.m2.2.2.1.1.1.3.cmml">−</mo><mrow id="alg2.l5.m2.2.2.1.1.1.2" xref="alg2.l5.m2.2.2.1.1.1.2.cmml"><mi id="alg2.l5.m2.2.2.1.1.1.2.4" xref="alg2.l5.m2.2.2.1.1.1.2.4.cmml">s</mi><mo id="alg2.l5.m2.2.2.1.1.1.2.3" xref="alg2.l5.m2.2.2.1.1.1.2.3.cmml">⁢</mo><mi mathvariant="normal" id="alg2.l5.m2.2.2.1.1.1.2.5" xref="alg2.l5.m2.2.2.1.1.1.2.5.cmml">Σ</mi><mo lspace="0.167em" id="alg2.l5.m2.2.2.1.1.1.2.3a" xref="alg2.l5.m2.2.2.1.1.1.2.3.cmml">⁢</mo><mrow id="alg2.l5.m2.2.2.1.1.1.2.6" xref="alg2.l5.m2.2.2.1.1.1.2.6.cmml"><msub id="alg2.l5.m2.2.2.1.1.1.2.6.1" xref="alg2.l5.m2.2.2.1.1.1.2.6.1.cmml"><mo rspace="0.167em" id="alg2.l5.m2.2.2.1.1.1.2.6.1.2" xref="alg2.l5.m2.2.2.1.1.1.2.6.1.2.cmml">∇</mo><msup id="alg2.l5.m2.2.2.1.1.1.2.6.1.3" xref="alg2.l5.m2.2.2.1.1.1.2.6.1.3.cmml"><mi id="alg2.l5.m2.2.2.1.1.1.2.6.1.3.2" xref="alg2.l5.m2.2.2.1.1.1.2.6.1.3.2.cmml">𝒙</mi><mi id="alg2.l5.m2.2.2.1.1.1.2.6.1.3.3" xref="alg2.l5.m2.2.2.1.1.1.2.6.1.3.3.cmml">t</mi></msup></msub><mi class="ltx_font_mathcaligraphic" id="alg2.l5.m2.2.2.1.1.1.2.6.2" xref="alg2.l5.m2.2.2.1.1.1.2.6.2.cmml">𝒟</mi></mrow><mo id="alg2.l5.m2.2.2.1.1.1.2.3b" xref="alg2.l5.m2.2.2.1.1.1.2.3.cmml">⁢</mo><mrow id="alg2.l5.m2.2.2.1.1.1.2.2.2" xref="alg2.l5.m2.2.2.1.1.1.2.2.3.cmml"><mo id="alg2.l5.m2.2.2.1.1.1.2.2.2.3" xref="alg2.l5.m2.2.2.1.1.1.2.2.3.cmml">(</mo><msup id="alg2.l5.m2.2.2.1.1.1.1.1.1.1" xref="alg2.l5.m2.2.2.1.1.1.1.1.1.1.cmml"><mi id="alg2.l5.m2.2.2.1.1.1.1.1.1.1.2" xref="alg2.l5.m2.2.2.1.1.1.1.1.1.1.2.cmml">𝒙</mi><mi id="alg2.l5.m2.2.2.1.1.1.1.1.1.1.3" xref="alg2.l5.m2.2.2.1.1.1.1.1.1.1.3.cmml">t</mi></msup><mo id="alg2.l5.m2.2.2.1.1.1.2.2.2.4" xref="alg2.l5.m2.2.2.1.1.1.2.2.3.cmml">,</mo><msubsup id="alg2.l5.m2.2.2.1.1.1.2.2.2.2" xref="alg2.l5.m2.2.2.1.1.1.2.2.2.2.cmml"><mi id="alg2.l5.m2.2.2.1.1.1.2.2.2.2.2.2" xref="alg2.l5.m2.2.2.1.1.1.2.2.2.2.2.2.cmml">𝒙</mi><mtext id="alg2.l5.m2.2.2.1.1.1.2.2.2.2.3" xref="alg2.l5.m2.2.2.1.1.1.2.2.2.2.3a.cmml">adv</mtext><mi id="alg2.l5.m2.2.2.1.1.1.2.2.2.2.2.3" xref="alg2.l5.m2.2.2.1.1.1.2.2.2.2.2.3.cmml">t</mi></msubsup><mo id="alg2.l5.m2.2.2.1.1.1.2.2.2.5" xref="alg2.l5.m2.2.2.1.1.1.2.2.3.cmml">)</mo></mrow></mrow></mrow><mo id="alg2.l5.m2.2.2.1.1.3" xref="alg2.l5.m2.2.2.1.2.cmml">,</mo><mi mathvariant="normal" id="alg2.l5.m2.1.1" xref="alg2.l5.m2.1.1.cmml">Σ</mi><mo id="alg2.l5.m2.2.2.1.1.4" xref="alg2.l5.m2.2.2.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg2.l5.m2.2b"><apply id="alg2.l5.m2.2.2.cmml" xref="alg2.l5.m2.2.2"><times id="alg2.l5.m2.2.2.2.cmml" xref="alg2.l5.m2.2.2.2"></times><ci id="alg2.l5.m2.2.2.3.cmml" xref="alg2.l5.m2.2.2.3">𝒩</ci><interval closure="open" id="alg2.l5.m2.2.2.1.2.cmml" xref="alg2.l5.m2.2.2.1.1"><apply id="alg2.l5.m2.2.2.1.1.1.cmml" xref="alg2.l5.m2.2.2.1.1.1"><minus id="alg2.l5.m2.2.2.1.1.1.3.cmml" xref="alg2.l5.m2.2.2.1.1.1.3"></minus><ci id="alg2.l5.m2.2.2.1.1.1.4.cmml" xref="alg2.l5.m2.2.2.1.1.1.4">𝜇</ci><apply id="alg2.l5.m2.2.2.1.1.1.2.cmml" xref="alg2.l5.m2.2.2.1.1.1.2"><times id="alg2.l5.m2.2.2.1.1.1.2.3.cmml" xref="alg2.l5.m2.2.2.1.1.1.2.3"></times><ci id="alg2.l5.m2.2.2.1.1.1.2.4.cmml" xref="alg2.l5.m2.2.2.1.1.1.2.4">𝑠</ci><ci id="alg2.l5.m2.2.2.1.1.1.2.5.cmml" xref="alg2.l5.m2.2.2.1.1.1.2.5">Σ</ci><apply id="alg2.l5.m2.2.2.1.1.1.2.6.cmml" xref="alg2.l5.m2.2.2.1.1.1.2.6"><apply id="alg2.l5.m2.2.2.1.1.1.2.6.1.cmml" xref="alg2.l5.m2.2.2.1.1.1.2.6.1"><csymbol cd="ambiguous" id="alg2.l5.m2.2.2.1.1.1.2.6.1.1.cmml" xref="alg2.l5.m2.2.2.1.1.1.2.6.1">subscript</csymbol><ci id="alg2.l5.m2.2.2.1.1.1.2.6.1.2.cmml" xref="alg2.l5.m2.2.2.1.1.1.2.6.1.2">∇</ci><apply id="alg2.l5.m2.2.2.1.1.1.2.6.1.3.cmml" xref="alg2.l5.m2.2.2.1.1.1.2.6.1.3"><csymbol cd="ambiguous" id="alg2.l5.m2.2.2.1.1.1.2.6.1.3.1.cmml" xref="alg2.l5.m2.2.2.1.1.1.2.6.1.3">superscript</csymbol><ci id="alg2.l5.m2.2.2.1.1.1.2.6.1.3.2.cmml" xref="alg2.l5.m2.2.2.1.1.1.2.6.1.3.2">𝒙</ci><ci id="alg2.l5.m2.2.2.1.1.1.2.6.1.3.3.cmml" xref="alg2.l5.m2.2.2.1.1.1.2.6.1.3.3">𝑡</ci></apply></apply><ci id="alg2.l5.m2.2.2.1.1.1.2.6.2.cmml" xref="alg2.l5.m2.2.2.1.1.1.2.6.2">𝒟</ci></apply><interval closure="open" id="alg2.l5.m2.2.2.1.1.1.2.2.3.cmml" xref="alg2.l5.m2.2.2.1.1.1.2.2.2"><apply id="alg2.l5.m2.2.2.1.1.1.1.1.1.1.cmml" xref="alg2.l5.m2.2.2.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="alg2.l5.m2.2.2.1.1.1.1.1.1.1.1.cmml" xref="alg2.l5.m2.2.2.1.1.1.1.1.1.1">superscript</csymbol><ci id="alg2.l5.m2.2.2.1.1.1.1.1.1.1.2.cmml" xref="alg2.l5.m2.2.2.1.1.1.1.1.1.1.2">𝒙</ci><ci id="alg2.l5.m2.2.2.1.1.1.1.1.1.1.3.cmml" xref="alg2.l5.m2.2.2.1.1.1.1.1.1.1.3">𝑡</ci></apply><apply id="alg2.l5.m2.2.2.1.1.1.2.2.2.2.cmml" xref="alg2.l5.m2.2.2.1.1.1.2.2.2.2"><csymbol cd="ambiguous" id="alg2.l5.m2.2.2.1.1.1.2.2.2.2.1.cmml" xref="alg2.l5.m2.2.2.1.1.1.2.2.2.2">subscript</csymbol><apply id="alg2.l5.m2.2.2.1.1.1.2.2.2.2.2.cmml" xref="alg2.l5.m2.2.2.1.1.1.2.2.2.2"><csymbol cd="ambiguous" id="alg2.l5.m2.2.2.1.1.1.2.2.2.2.2.1.cmml" xref="alg2.l5.m2.2.2.1.1.1.2.2.2.2">superscript</csymbol><ci id="alg2.l5.m2.2.2.1.1.1.2.2.2.2.2.2.cmml" xref="alg2.l5.m2.2.2.1.1.1.2.2.2.2.2.2">𝒙</ci><ci id="alg2.l5.m2.2.2.1.1.1.2.2.2.2.2.3.cmml" xref="alg2.l5.m2.2.2.1.1.1.2.2.2.2.2.3">𝑡</ci></apply><ci id="alg2.l5.m2.2.2.1.1.1.2.2.2.2.3a.cmml" xref="alg2.l5.m2.2.2.1.1.1.2.2.2.2.3"><mtext mathsize="70%" id="alg2.l5.m2.2.2.1.1.1.2.2.2.2.3.cmml" xref="alg2.l5.m2.2.2.1.1.1.2.2.2.2.3">adv</mtext></ci></apply></interval></apply></apply><ci id="alg2.l5.m2.1.1.cmml" xref="alg2.l5.m2.1.1">Σ</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l5.m2.2c">\mathcal{N}\left(\mu-s\Sigma\nabla_{{\bm{x}}^{t}}\mathcal{D}\left({\bm{x}}^{t},{\bm{x}}^{t}_{\text{adv}}\right),\Sigma\right)</annotation><annotation encoding="application/x-llamapun" id="alg2.l5.m2.2d">caligraphic_N ( italic_μ - italic_s roman_Σ ∇ start_POSTSUBSCRIPT bold_italic_x start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT end_POSTSUBSCRIPT caligraphic_D ( bold_italic_x start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT , bold_italic_x start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT ) , roman_Σ )</annotation></semantics></math>

</div>
<div id="alg2.l6" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg2.l6.1.1.1" class="ltx_text" style="font-size:80%;">6:</span></span>     <span id="alg2.l6.2" class="ltx_text ltx_font_bold">end</span> <span id="alg2.l6.3" class="ltx_text ltx_font_bold">for</span>
</div>
<div id="alg2.l7" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg2.l7.1.1.1" class="ltx_text" style="font-size:80%;">7:</span></span>  <span id="alg2.l7.2" class="ltx_text ltx_font_bold">end</span> <span id="alg2.l7.3" class="ltx_text ltx_font_bold">for</span>
</div>
<div id="alg2.l8" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg2.l8.1.1.1" class="ltx_text" style="font-size:80%;">8:</span></span>  <span id="alg2.l8.2" class="ltx_text ltx_font_bold">return</span>  <math id="alg2.l8.m1.1" class="ltx_Math" alttext="x_{0}" display="inline"><semantics id="alg2.l8.m1.1a"><msub id="alg2.l8.m1.1.1" xref="alg2.l8.m1.1.1.cmml"><mi id="alg2.l8.m1.1.1.2" xref="alg2.l8.m1.1.1.2.cmml">x</mi><mn id="alg2.l8.m1.1.1.3" xref="alg2.l8.m1.1.1.3.cmml">0</mn></msub><annotation-xml encoding="MathML-Content" id="alg2.l8.m1.1b"><apply id="alg2.l8.m1.1.1.cmml" xref="alg2.l8.m1.1.1"><csymbol cd="ambiguous" id="alg2.l8.m1.1.1.1.cmml" xref="alg2.l8.m1.1.1">subscript</csymbol><ci id="alg2.l8.m1.1.1.2.cmml" xref="alg2.l8.m1.1.1.2">𝑥</ci><cn type="integer" id="alg2.l8.m1.1.1.3.cmml" xref="alg2.l8.m1.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l8.m1.1c">x_{0}</annotation><annotation encoding="application/x-llamapun" id="alg2.l8.m1.1d">italic_x start_POSTSUBSCRIPT 0 end_POSTSUBSCRIPT</annotation></semantics></math>

</div>
</div>
</figure>
</section>
<section id="S4.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.3 </span>Guidance Scale</h3>

<div id="S4.SS3.p1" class="ltx_para">
<p id="S4.SS3.p1.20" class="ltx_p">The guidance scale <math id="S4.SS3.p1.1.m1.1" class="ltx_Math" alttext="s" display="inline"><semantics id="S4.SS3.p1.1.m1.1a"><mi id="S4.SS3.p1.1.m1.1.1" xref="S4.SS3.p1.1.m1.1.1.cmml">s</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p1.1.m1.1b"><ci id="S4.SS3.p1.1.m1.1.1.cmml" xref="S4.SS3.p1.1.m1.1.1">𝑠</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p1.1.m1.1c">s</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p1.1.m1.1d">italic_s</annotation></semantics></math> is a critical hyper-parameter that influences purification performance.
We need it to be large enough to guide the purified image to be close to the adversarial image, and thus the original clean image,
but at the same time, it should not be too large, otherwise the purified image will be too close to the adversarial image such that even the adversarial perturbation is preserved in the purified image.
We propose to set <math id="S4.SS3.p1.2.m2.1" class="ltx_Math" alttext="s" display="inline"><semantics id="S4.SS3.p1.2.m2.1a"><mi id="S4.SS3.p1.2.m2.1.1" xref="S4.SS3.p1.2.m2.1.1.cmml">s</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p1.2.m2.1b"><ci id="S4.SS3.p1.2.m2.1.1.cmml" xref="S4.SS3.p1.2.m2.1.1">𝑠</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p1.2.m2.1c">s</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p1.2.m2.1d">italic_s</annotation></semantics></math> as time step <math id="S4.SS3.p1.3.m3.1" class="ltx_Math" alttext="t" display="inline"><semantics id="S4.SS3.p1.3.m3.1a"><mi id="S4.SS3.p1.3.m3.1.1" xref="S4.SS3.p1.3.m3.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p1.3.m3.1b"><ci id="S4.SS3.p1.3.m3.1.1.cmml" xref="S4.SS3.p1.3.m3.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p1.3.m3.1c">t</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p1.3.m3.1d">italic_t</annotation></semantics></math>-dependent factors <math id="S4.SS3.p1.4.m4.1" class="ltx_Math" alttext="s_{t}" display="inline"><semantics id="S4.SS3.p1.4.m4.1a"><msub id="S4.SS3.p1.4.m4.1.1" xref="S4.SS3.p1.4.m4.1.1.cmml"><mi id="S4.SS3.p1.4.m4.1.1.2" xref="S4.SS3.p1.4.m4.1.1.2.cmml">s</mi><mi id="S4.SS3.p1.4.m4.1.1.3" xref="S4.SS3.p1.4.m4.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.p1.4.m4.1b"><apply id="S4.SS3.p1.4.m4.1.1.cmml" xref="S4.SS3.p1.4.m4.1.1"><csymbol cd="ambiguous" id="S4.SS3.p1.4.m4.1.1.1.cmml" xref="S4.SS3.p1.4.m4.1.1">subscript</csymbol><ci id="S4.SS3.p1.4.m4.1.1.2.cmml" xref="S4.SS3.p1.4.m4.1.1.2">𝑠</ci><ci id="S4.SS3.p1.4.m4.1.1.3.cmml" xref="S4.SS3.p1.4.m4.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p1.4.m4.1c">s_{t}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p1.4.m4.1d">italic_s start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math>.
Observing the Equation <a href="#S4.E11" title="11 ‣ 4.2 Guided DDPM ‣ 4 Methodology ‣ Guided Diffusion Model for Adversarial Purification" class="ltx_ref"><span class="ltx_text ltx_ref_tag">11</span></a>, we are using <math id="S4.SS3.p1.5.m5.1" class="ltx_Math" alttext="x_{\text{adv}}^{t}" display="inline"><semantics id="S4.SS3.p1.5.m5.1a"><msubsup id="S4.SS3.p1.5.m5.1.1" xref="S4.SS3.p1.5.m5.1.1.cmml"><mi id="S4.SS3.p1.5.m5.1.1.2.2" xref="S4.SS3.p1.5.m5.1.1.2.2.cmml">x</mi><mtext id="S4.SS3.p1.5.m5.1.1.2.3" xref="S4.SS3.p1.5.m5.1.1.2.3a.cmml">adv</mtext><mi id="S4.SS3.p1.5.m5.1.1.3" xref="S4.SS3.p1.5.m5.1.1.3.cmml">t</mi></msubsup><annotation-xml encoding="MathML-Content" id="S4.SS3.p1.5.m5.1b"><apply id="S4.SS3.p1.5.m5.1.1.cmml" xref="S4.SS3.p1.5.m5.1.1"><csymbol cd="ambiguous" id="S4.SS3.p1.5.m5.1.1.1.cmml" xref="S4.SS3.p1.5.m5.1.1">superscript</csymbol><apply id="S4.SS3.p1.5.m5.1.1.2.cmml" xref="S4.SS3.p1.5.m5.1.1"><csymbol cd="ambiguous" id="S4.SS3.p1.5.m5.1.1.2.1.cmml" xref="S4.SS3.p1.5.m5.1.1">subscript</csymbol><ci id="S4.SS3.p1.5.m5.1.1.2.2.cmml" xref="S4.SS3.p1.5.m5.1.1.2.2">𝑥</ci><ci id="S4.SS3.p1.5.m5.1.1.2.3a.cmml" xref="S4.SS3.p1.5.m5.1.1.2.3"><mtext mathsize="70%" id="S4.SS3.p1.5.m5.1.1.2.3.cmml" xref="S4.SS3.p1.5.m5.1.1.2.3">adv</mtext></ci></apply><ci id="S4.SS3.p1.5.m5.1.1.3.cmml" xref="S4.SS3.p1.5.m5.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p1.5.m5.1c">x_{\text{adv}}^{t}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p1.5.m5.1d">italic_x start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT</annotation></semantics></math> as guidance at step <math id="S4.SS3.p1.6.m6.1" class="ltx_Math" alttext="t" display="inline"><semantics id="S4.SS3.p1.6.m6.1a"><mi id="S4.SS3.p1.6.m6.1.1" xref="S4.SS3.p1.6.m6.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p1.6.m6.1b"><ci id="S4.SS3.p1.6.m6.1.1.cmml" xref="S4.SS3.p1.6.m6.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p1.6.m6.1c">t</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p1.6.m6.1d">italic_t</annotation></semantics></math>, where <math id="S4.SS3.p1.7.m7.1" class="ltx_Math" alttext="{\bm{x}}^{t}_{\text{adv}}" display="inline"><semantics id="S4.SS3.p1.7.m7.1a"><msubsup id="S4.SS3.p1.7.m7.1.1" xref="S4.SS3.p1.7.m7.1.1.cmml"><mi id="S4.SS3.p1.7.m7.1.1.2.2" xref="S4.SS3.p1.7.m7.1.1.2.2.cmml">𝒙</mi><mtext id="S4.SS3.p1.7.m7.1.1.3" xref="S4.SS3.p1.7.m7.1.1.3a.cmml">adv</mtext><mi id="S4.SS3.p1.7.m7.1.1.2.3" xref="S4.SS3.p1.7.m7.1.1.2.3.cmml">t</mi></msubsup><annotation-xml encoding="MathML-Content" id="S4.SS3.p1.7.m7.1b"><apply id="S4.SS3.p1.7.m7.1.1.cmml" xref="S4.SS3.p1.7.m7.1.1"><csymbol cd="ambiguous" id="S4.SS3.p1.7.m7.1.1.1.cmml" xref="S4.SS3.p1.7.m7.1.1">subscript</csymbol><apply id="S4.SS3.p1.7.m7.1.1.2.cmml" xref="S4.SS3.p1.7.m7.1.1"><csymbol cd="ambiguous" id="S4.SS3.p1.7.m7.1.1.2.1.cmml" xref="S4.SS3.p1.7.m7.1.1">superscript</csymbol><ci id="S4.SS3.p1.7.m7.1.1.2.2.cmml" xref="S4.SS3.p1.7.m7.1.1.2.2">𝒙</ci><ci id="S4.SS3.p1.7.m7.1.1.2.3.cmml" xref="S4.SS3.p1.7.m7.1.1.2.3">𝑡</ci></apply><ci id="S4.SS3.p1.7.m7.1.1.3a.cmml" xref="S4.SS3.p1.7.m7.1.1.3"><mtext mathsize="70%" id="S4.SS3.p1.7.m7.1.1.3.cmml" xref="S4.SS3.p1.7.m7.1.1.3">adv</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p1.7.m7.1c">{\bm{x}}^{t}_{\text{adv}}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p1.7.m7.1d">bold_italic_x start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT</annotation></semantics></math> is obtained by diffusing <math id="S4.SS3.p1.8.m8.1" class="ltx_Math" alttext="{\bm{x}}_{\text{adv}}" display="inline"><semantics id="S4.SS3.p1.8.m8.1a"><msub id="S4.SS3.p1.8.m8.1.1" xref="S4.SS3.p1.8.m8.1.1.cmml"><mi id="S4.SS3.p1.8.m8.1.1.2" xref="S4.SS3.p1.8.m8.1.1.2.cmml">𝒙</mi><mtext id="S4.SS3.p1.8.m8.1.1.3" xref="S4.SS3.p1.8.m8.1.1.3a.cmml">adv</mtext></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.p1.8.m8.1b"><apply id="S4.SS3.p1.8.m8.1.1.cmml" xref="S4.SS3.p1.8.m8.1.1"><csymbol cd="ambiguous" id="S4.SS3.p1.8.m8.1.1.1.cmml" xref="S4.SS3.p1.8.m8.1.1">subscript</csymbol><ci id="S4.SS3.p1.8.m8.1.1.2.cmml" xref="S4.SS3.p1.8.m8.1.1.2">𝒙</ci><ci id="S4.SS3.p1.8.m8.1.1.3a.cmml" xref="S4.SS3.p1.8.m8.1.1.3"><mtext mathsize="70%" id="S4.SS3.p1.8.m8.1.1.3.cmml" xref="S4.SS3.p1.8.m8.1.1.3">adv</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p1.8.m8.1c">{\bm{x}}_{\text{adv}}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p1.8.m8.1d">bold_italic_x start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT</annotation></semantics></math> <math id="S4.SS3.p1.9.m9.1" class="ltx_Math" alttext="t" display="inline"><semantics id="S4.SS3.p1.9.m9.1a"><mi id="S4.SS3.p1.9.m9.1.1" xref="S4.SS3.p1.9.m9.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p1.9.m9.1b"><ci id="S4.SS3.p1.9.m9.1.1.cmml" xref="S4.SS3.p1.9.m9.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p1.9.m9.1c">t</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p1.9.m9.1d">italic_t</annotation></semantics></math> steps according to Equation <a href="#S3.E5" title="5 ‣ The Diffusion Process. ‣ 3.1 DDPM ‣ 3 Background of DDPM ‣ Guided Diffusion Model for Adversarial Purification" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a>.
Adversarial perturbation in <math id="S4.SS3.p1.10.m10.1" class="ltx_Math" alttext="x_{\text{adv}}^{t}" display="inline"><semantics id="S4.SS3.p1.10.m10.1a"><msubsup id="S4.SS3.p1.10.m10.1.1" xref="S4.SS3.p1.10.m10.1.1.cmml"><mi id="S4.SS3.p1.10.m10.1.1.2.2" xref="S4.SS3.p1.10.m10.1.1.2.2.cmml">x</mi><mtext id="S4.SS3.p1.10.m10.1.1.2.3" xref="S4.SS3.p1.10.m10.1.1.2.3a.cmml">adv</mtext><mi id="S4.SS3.p1.10.m10.1.1.3" xref="S4.SS3.p1.10.m10.1.1.3.cmml">t</mi></msubsup><annotation-xml encoding="MathML-Content" id="S4.SS3.p1.10.m10.1b"><apply id="S4.SS3.p1.10.m10.1.1.cmml" xref="S4.SS3.p1.10.m10.1.1"><csymbol cd="ambiguous" id="S4.SS3.p1.10.m10.1.1.1.cmml" xref="S4.SS3.p1.10.m10.1.1">superscript</csymbol><apply id="S4.SS3.p1.10.m10.1.1.2.cmml" xref="S4.SS3.p1.10.m10.1.1"><csymbol cd="ambiguous" id="S4.SS3.p1.10.m10.1.1.2.1.cmml" xref="S4.SS3.p1.10.m10.1.1">subscript</csymbol><ci id="S4.SS3.p1.10.m10.1.1.2.2.cmml" xref="S4.SS3.p1.10.m10.1.1.2.2">𝑥</ci><ci id="S4.SS3.p1.10.m10.1.1.2.3a.cmml" xref="S4.SS3.p1.10.m10.1.1.2.3"><mtext mathsize="70%" id="S4.SS3.p1.10.m10.1.1.2.3.cmml" xref="S4.SS3.p1.10.m10.1.1.2.3">adv</mtext></ci></apply><ci id="S4.SS3.p1.10.m10.1.1.3.cmml" xref="S4.SS3.p1.10.m10.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p1.10.m10.1c">x_{\text{adv}}^{t}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p1.10.m10.1d">italic_x start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT</annotation></semantics></math> is largely submerged and destroyed for large <math id="S4.SS3.p1.11.m11.1" class="ltx_Math" alttext="t" display="inline"><semantics id="S4.SS3.p1.11.m11.1a"><mi id="S4.SS3.p1.11.m11.1.1" xref="S4.SS3.p1.11.m11.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p1.11.m11.1b"><ci id="S4.SS3.p1.11.m11.1.1.cmml" xref="S4.SS3.p1.11.m11.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p1.11.m11.1c">t</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p1.11.m11.1d">italic_t</annotation></semantics></math>’s, therefore we can bear larger guidance scale <math id="S4.SS3.p1.12.m12.1" class="ltx_Math" alttext="s_{t}" display="inline"><semantics id="S4.SS3.p1.12.m12.1a"><msub id="S4.SS3.p1.12.m12.1.1" xref="S4.SS3.p1.12.m12.1.1.cmml"><mi id="S4.SS3.p1.12.m12.1.1.2" xref="S4.SS3.p1.12.m12.1.1.2.cmml">s</mi><mi id="S4.SS3.p1.12.m12.1.1.3" xref="S4.SS3.p1.12.m12.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.p1.12.m12.1b"><apply id="S4.SS3.p1.12.m12.1.1.cmml" xref="S4.SS3.p1.12.m12.1.1"><csymbol cd="ambiguous" id="S4.SS3.p1.12.m12.1.1.1.cmml" xref="S4.SS3.p1.12.m12.1.1">subscript</csymbol><ci id="S4.SS3.p1.12.m12.1.1.2.cmml" xref="S4.SS3.p1.12.m12.1.1.2">𝑠</ci><ci id="S4.SS3.p1.12.m12.1.1.3.cmml" xref="S4.SS3.p1.12.m12.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p1.12.m12.1c">s_{t}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p1.12.m12.1d">italic_s start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math> without worrying that the purified image will preserve adversarial perturbation from <math id="S4.SS3.p1.13.m13.1" class="ltx_Math" alttext="x_{\text{adv}}^{t}" display="inline"><semantics id="S4.SS3.p1.13.m13.1a"><msubsup id="S4.SS3.p1.13.m13.1.1" xref="S4.SS3.p1.13.m13.1.1.cmml"><mi id="S4.SS3.p1.13.m13.1.1.2.2" xref="S4.SS3.p1.13.m13.1.1.2.2.cmml">x</mi><mtext id="S4.SS3.p1.13.m13.1.1.2.3" xref="S4.SS3.p1.13.m13.1.1.2.3a.cmml">adv</mtext><mi id="S4.SS3.p1.13.m13.1.1.3" xref="S4.SS3.p1.13.m13.1.1.3.cmml">t</mi></msubsup><annotation-xml encoding="MathML-Content" id="S4.SS3.p1.13.m13.1b"><apply id="S4.SS3.p1.13.m13.1.1.cmml" xref="S4.SS3.p1.13.m13.1.1"><csymbol cd="ambiguous" id="S4.SS3.p1.13.m13.1.1.1.cmml" xref="S4.SS3.p1.13.m13.1.1">superscript</csymbol><apply id="S4.SS3.p1.13.m13.1.1.2.cmml" xref="S4.SS3.p1.13.m13.1.1"><csymbol cd="ambiguous" id="S4.SS3.p1.13.m13.1.1.2.1.cmml" xref="S4.SS3.p1.13.m13.1.1">subscript</csymbol><ci id="S4.SS3.p1.13.m13.1.1.2.2.cmml" xref="S4.SS3.p1.13.m13.1.1.2.2">𝑥</ci><ci id="S4.SS3.p1.13.m13.1.1.2.3a.cmml" xref="S4.SS3.p1.13.m13.1.1.2.3"><mtext mathsize="70%" id="S4.SS3.p1.13.m13.1.1.2.3.cmml" xref="S4.SS3.p1.13.m13.1.1.2.3">adv</mtext></ci></apply><ci id="S4.SS3.p1.13.m13.1.1.3.cmml" xref="S4.SS3.p1.13.m13.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p1.13.m13.1c">x_{\text{adv}}^{t}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p1.13.m13.1d">italic_x start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT</annotation></semantics></math>.
On the other hand, adversarial perturbation in <math id="S4.SS3.p1.14.m14.1" class="ltx_Math" alttext="x_{\text{adv}}^{t}" display="inline"><semantics id="S4.SS3.p1.14.m14.1a"><msubsup id="S4.SS3.p1.14.m14.1.1" xref="S4.SS3.p1.14.m14.1.1.cmml"><mi id="S4.SS3.p1.14.m14.1.1.2.2" xref="S4.SS3.p1.14.m14.1.1.2.2.cmml">x</mi><mtext id="S4.SS3.p1.14.m14.1.1.2.3" xref="S4.SS3.p1.14.m14.1.1.2.3a.cmml">adv</mtext><mi id="S4.SS3.p1.14.m14.1.1.3" xref="S4.SS3.p1.14.m14.1.1.3.cmml">t</mi></msubsup><annotation-xml encoding="MathML-Content" id="S4.SS3.p1.14.m14.1b"><apply id="S4.SS3.p1.14.m14.1.1.cmml" xref="S4.SS3.p1.14.m14.1.1"><csymbol cd="ambiguous" id="S4.SS3.p1.14.m14.1.1.1.cmml" xref="S4.SS3.p1.14.m14.1.1">superscript</csymbol><apply id="S4.SS3.p1.14.m14.1.1.2.cmml" xref="S4.SS3.p1.14.m14.1.1"><csymbol cd="ambiguous" id="S4.SS3.p1.14.m14.1.1.2.1.cmml" xref="S4.SS3.p1.14.m14.1.1">subscript</csymbol><ci id="S4.SS3.p1.14.m14.1.1.2.2.cmml" xref="S4.SS3.p1.14.m14.1.1.2.2">𝑥</ci><ci id="S4.SS3.p1.14.m14.1.1.2.3a.cmml" xref="S4.SS3.p1.14.m14.1.1.2.3"><mtext mathsize="70%" id="S4.SS3.p1.14.m14.1.1.2.3.cmml" xref="S4.SS3.p1.14.m14.1.1.2.3">adv</mtext></ci></apply><ci id="S4.SS3.p1.14.m14.1.1.3.cmml" xref="S4.SS3.p1.14.m14.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p1.14.m14.1c">x_{\text{adv}}^{t}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p1.14.m14.1d">italic_x start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT</annotation></semantics></math> is largely retained for small <math id="S4.SS3.p1.15.m15.1" class="ltx_Math" alttext="t" display="inline"><semantics id="S4.SS3.p1.15.m15.1a"><mi id="S4.SS3.p1.15.m15.1.1" xref="S4.SS3.p1.15.m15.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p1.15.m15.1b"><ci id="S4.SS3.p1.15.m15.1.1.cmml" xref="S4.SS3.p1.15.m15.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p1.15.m15.1c">t</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p1.15.m15.1d">italic_t</annotation></semantics></math>’s, therefore we should use small guidance scale <math id="S4.SS3.p1.16.m16.1" class="ltx_Math" alttext="s_{t}" display="inline"><semantics id="S4.SS3.p1.16.m16.1a"><msub id="S4.SS3.p1.16.m16.1.1" xref="S4.SS3.p1.16.m16.1.1.cmml"><mi id="S4.SS3.p1.16.m16.1.1.2" xref="S4.SS3.p1.16.m16.1.1.2.cmml">s</mi><mi id="S4.SS3.p1.16.m16.1.1.3" xref="S4.SS3.p1.16.m16.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.p1.16.m16.1b"><apply id="S4.SS3.p1.16.m16.1.1.cmml" xref="S4.SS3.p1.16.m16.1.1"><csymbol cd="ambiguous" id="S4.SS3.p1.16.m16.1.1.1.cmml" xref="S4.SS3.p1.16.m16.1.1">subscript</csymbol><ci id="S4.SS3.p1.16.m16.1.1.2.cmml" xref="S4.SS3.p1.16.m16.1.1.2">𝑠</ci><ci id="S4.SS3.p1.16.m16.1.1.3.cmml" xref="S4.SS3.p1.16.m16.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p1.16.m16.1c">s_{t}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p1.16.m16.1d">italic_s start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math> to prevent preserving adversarial perturbation in <math id="S4.SS3.p1.17.m17.1" class="ltx_Math" alttext="x_{\text{adv}}^{t}" display="inline"><semantics id="S4.SS3.p1.17.m17.1a"><msubsup id="S4.SS3.p1.17.m17.1.1" xref="S4.SS3.p1.17.m17.1.1.cmml"><mi id="S4.SS3.p1.17.m17.1.1.2.2" xref="S4.SS3.p1.17.m17.1.1.2.2.cmml">x</mi><mtext id="S4.SS3.p1.17.m17.1.1.2.3" xref="S4.SS3.p1.17.m17.1.1.2.3a.cmml">adv</mtext><mi id="S4.SS3.p1.17.m17.1.1.3" xref="S4.SS3.p1.17.m17.1.1.3.cmml">t</mi></msubsup><annotation-xml encoding="MathML-Content" id="S4.SS3.p1.17.m17.1b"><apply id="S4.SS3.p1.17.m17.1.1.cmml" xref="S4.SS3.p1.17.m17.1.1"><csymbol cd="ambiguous" id="S4.SS3.p1.17.m17.1.1.1.cmml" xref="S4.SS3.p1.17.m17.1.1">superscript</csymbol><apply id="S4.SS3.p1.17.m17.1.1.2.cmml" xref="S4.SS3.p1.17.m17.1.1"><csymbol cd="ambiguous" id="S4.SS3.p1.17.m17.1.1.2.1.cmml" xref="S4.SS3.p1.17.m17.1.1">subscript</csymbol><ci id="S4.SS3.p1.17.m17.1.1.2.2.cmml" xref="S4.SS3.p1.17.m17.1.1.2.2">𝑥</ci><ci id="S4.SS3.p1.17.m17.1.1.2.3a.cmml" xref="S4.SS3.p1.17.m17.1.1.2.3"><mtext mathsize="70%" id="S4.SS3.p1.17.m17.1.1.2.3.cmml" xref="S4.SS3.p1.17.m17.1.1.2.3">adv</mtext></ci></apply><ci id="S4.SS3.p1.17.m17.1.1.3.cmml" xref="S4.SS3.p1.17.m17.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p1.17.m17.1c">x_{\text{adv}}^{t}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p1.17.m17.1d">italic_x start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT</annotation></semantics></math>.
Therefore, we choose to set <math id="S4.SS3.p1.18.m18.1" class="ltx_Math" alttext="s_{t}" display="inline"><semantics id="S4.SS3.p1.18.m18.1a"><msub id="S4.SS3.p1.18.m18.1.1" xref="S4.SS3.p1.18.m18.1.1.cmml"><mi id="S4.SS3.p1.18.m18.1.1.2" xref="S4.SS3.p1.18.m18.1.1.2.cmml">s</mi><mi id="S4.SS3.p1.18.m18.1.1.3" xref="S4.SS3.p1.18.m18.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.p1.18.m18.1b"><apply id="S4.SS3.p1.18.m18.1.1.cmml" xref="S4.SS3.p1.18.m18.1.1"><csymbol cd="ambiguous" id="S4.SS3.p1.18.m18.1.1.1.cmml" xref="S4.SS3.p1.18.m18.1.1">subscript</csymbol><ci id="S4.SS3.p1.18.m18.1.1.2.cmml" xref="S4.SS3.p1.18.m18.1.1.2">𝑠</ci><ci id="S4.SS3.p1.18.m18.1.1.3.cmml" xref="S4.SS3.p1.18.m18.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p1.18.m18.1c">s_{t}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p1.18.m18.1d">italic_s start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math> proportional to the Gaussian noise magnitude in <math id="S4.SS3.p1.19.m19.1" class="ltx_Math" alttext="x_{\text{adv}}^{t}" display="inline"><semantics id="S4.SS3.p1.19.m19.1a"><msubsup id="S4.SS3.p1.19.m19.1.1" xref="S4.SS3.p1.19.m19.1.1.cmml"><mi id="S4.SS3.p1.19.m19.1.1.2.2" xref="S4.SS3.p1.19.m19.1.1.2.2.cmml">x</mi><mtext id="S4.SS3.p1.19.m19.1.1.2.3" xref="S4.SS3.p1.19.m19.1.1.2.3a.cmml">adv</mtext><mi id="S4.SS3.p1.19.m19.1.1.3" xref="S4.SS3.p1.19.m19.1.1.3.cmml">t</mi></msubsup><annotation-xml encoding="MathML-Content" id="S4.SS3.p1.19.m19.1b"><apply id="S4.SS3.p1.19.m19.1.1.cmml" xref="S4.SS3.p1.19.m19.1.1"><csymbol cd="ambiguous" id="S4.SS3.p1.19.m19.1.1.1.cmml" xref="S4.SS3.p1.19.m19.1.1">superscript</csymbol><apply id="S4.SS3.p1.19.m19.1.1.2.cmml" xref="S4.SS3.p1.19.m19.1.1"><csymbol cd="ambiguous" id="S4.SS3.p1.19.m19.1.1.2.1.cmml" xref="S4.SS3.p1.19.m19.1.1">subscript</csymbol><ci id="S4.SS3.p1.19.m19.1.1.2.2.cmml" xref="S4.SS3.p1.19.m19.1.1.2.2">𝑥</ci><ci id="S4.SS3.p1.19.m19.1.1.2.3a.cmml" xref="S4.SS3.p1.19.m19.1.1.2.3"><mtext mathsize="70%" id="S4.SS3.p1.19.m19.1.1.2.3.cmml" xref="S4.SS3.p1.19.m19.1.1.2.3">adv</mtext></ci></apply><ci id="S4.SS3.p1.19.m19.1.1.3.cmml" xref="S4.SS3.p1.19.m19.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p1.19.m19.1c">x_{\text{adv}}^{t}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p1.19.m19.1d">italic_x start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT</annotation></semantics></math>, while disproportional to the adversarial perturbation magnitude in <math id="S4.SS3.p1.20.m20.1" class="ltx_Math" alttext="x_{\text{adv}}^{t}" display="inline"><semantics id="S4.SS3.p1.20.m20.1a"><msubsup id="S4.SS3.p1.20.m20.1.1" xref="S4.SS3.p1.20.m20.1.1.cmml"><mi id="S4.SS3.p1.20.m20.1.1.2.2" xref="S4.SS3.p1.20.m20.1.1.2.2.cmml">x</mi><mtext id="S4.SS3.p1.20.m20.1.1.2.3" xref="S4.SS3.p1.20.m20.1.1.2.3a.cmml">adv</mtext><mi id="S4.SS3.p1.20.m20.1.1.3" xref="S4.SS3.p1.20.m20.1.1.3.cmml">t</mi></msubsup><annotation-xml encoding="MathML-Content" id="S4.SS3.p1.20.m20.1b"><apply id="S4.SS3.p1.20.m20.1.1.cmml" xref="S4.SS3.p1.20.m20.1.1"><csymbol cd="ambiguous" id="S4.SS3.p1.20.m20.1.1.1.cmml" xref="S4.SS3.p1.20.m20.1.1">superscript</csymbol><apply id="S4.SS3.p1.20.m20.1.1.2.cmml" xref="S4.SS3.p1.20.m20.1.1"><csymbol cd="ambiguous" id="S4.SS3.p1.20.m20.1.1.2.1.cmml" xref="S4.SS3.p1.20.m20.1.1">subscript</csymbol><ci id="S4.SS3.p1.20.m20.1.1.2.2.cmml" xref="S4.SS3.p1.20.m20.1.1.2.2">𝑥</ci><ci id="S4.SS3.p1.20.m20.1.1.2.3a.cmml" xref="S4.SS3.p1.20.m20.1.1.2.3"><mtext mathsize="70%" id="S4.SS3.p1.20.m20.1.1.2.3.cmml" xref="S4.SS3.p1.20.m20.1.1.2.3">adv</mtext></ci></apply><ci id="S4.SS3.p1.20.m20.1.1.3.cmml" xref="S4.SS3.p1.20.m20.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p1.20.m20.1c">x_{\text{adv}}^{t}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p1.20.m20.1d">italic_x start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT</annotation></semantics></math>.</p>
</div>
<div id="S4.SS3.p2" class="ltx_para">
<p id="S4.SS3.p2.11" class="ltx_p">We know that</p>
<table id="S4.E12" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S4.E12.m1.1" class="ltx_Math" alttext="{\bm{x}}_{\text{adv}}^{t}=\sqrt{\bar{\alpha}_{t}}({\bm{x}}+\bm{\delta})+\sqrt{1-\bar{\alpha}_{t}}\bm{\epsilon}=\sqrt{\bar{\alpha}_{t}}{\bm{x}}+\sqrt{\bar{\alpha}_{t}}\bm{\delta}+\sqrt{1-\bar{\alpha}_{t}}\bm{\epsilon}." display="block"><semantics id="S4.E12.m1.1a"><mrow id="S4.E12.m1.1.1.1" xref="S4.E12.m1.1.1.1.1.cmml"><mrow id="S4.E12.m1.1.1.1.1" xref="S4.E12.m1.1.1.1.1.cmml"><msubsup id="S4.E12.m1.1.1.1.1.3" xref="S4.E12.m1.1.1.1.1.3.cmml"><mi id="S4.E12.m1.1.1.1.1.3.2.2" xref="S4.E12.m1.1.1.1.1.3.2.2.cmml">𝒙</mi><mtext id="S4.E12.m1.1.1.1.1.3.2.3" xref="S4.E12.m1.1.1.1.1.3.2.3a.cmml">adv</mtext><mi id="S4.E12.m1.1.1.1.1.3.3" xref="S4.E12.m1.1.1.1.1.3.3.cmml">t</mi></msubsup><mo id="S4.E12.m1.1.1.1.1.4" xref="S4.E12.m1.1.1.1.1.4.cmml">=</mo><mrow id="S4.E12.m1.1.1.1.1.1" xref="S4.E12.m1.1.1.1.1.1.cmml"><mrow id="S4.E12.m1.1.1.1.1.1.1" xref="S4.E12.m1.1.1.1.1.1.1.cmml"><msqrt id="S4.E12.m1.1.1.1.1.1.1.3" xref="S4.E12.m1.1.1.1.1.1.1.3.cmml"><msub id="S4.E12.m1.1.1.1.1.1.1.3.2" xref="S4.E12.m1.1.1.1.1.1.1.3.2.cmml"><mover accent="true" id="S4.E12.m1.1.1.1.1.1.1.3.2.2" xref="S4.E12.m1.1.1.1.1.1.1.3.2.2.cmml"><mi id="S4.E12.m1.1.1.1.1.1.1.3.2.2.2" xref="S4.E12.m1.1.1.1.1.1.1.3.2.2.2.cmml">α</mi><mo id="S4.E12.m1.1.1.1.1.1.1.3.2.2.1" xref="S4.E12.m1.1.1.1.1.1.1.3.2.2.1.cmml">¯</mo></mover><mi id="S4.E12.m1.1.1.1.1.1.1.3.2.3" xref="S4.E12.m1.1.1.1.1.1.1.3.2.3.cmml">t</mi></msub></msqrt><mo id="S4.E12.m1.1.1.1.1.1.1.2" xref="S4.E12.m1.1.1.1.1.1.1.2.cmml">⁢</mo><mrow id="S4.E12.m1.1.1.1.1.1.1.1.1" xref="S4.E12.m1.1.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S4.E12.m1.1.1.1.1.1.1.1.1.2" xref="S4.E12.m1.1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S4.E12.m1.1.1.1.1.1.1.1.1.1" xref="S4.E12.m1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S4.E12.m1.1.1.1.1.1.1.1.1.1.2" xref="S4.E12.m1.1.1.1.1.1.1.1.1.1.2.cmml">𝒙</mi><mo id="S4.E12.m1.1.1.1.1.1.1.1.1.1.1" xref="S4.E12.m1.1.1.1.1.1.1.1.1.1.1.cmml">+</mo><mi id="S4.E12.m1.1.1.1.1.1.1.1.1.1.3" xref="S4.E12.m1.1.1.1.1.1.1.1.1.1.3.cmml">𝜹</mi></mrow><mo stretchy="false" id="S4.E12.m1.1.1.1.1.1.1.1.1.3" xref="S4.E12.m1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S4.E12.m1.1.1.1.1.1.2" xref="S4.E12.m1.1.1.1.1.1.2.cmml">+</mo><mrow id="S4.E12.m1.1.1.1.1.1.3" xref="S4.E12.m1.1.1.1.1.1.3.cmml"><msqrt id="S4.E12.m1.1.1.1.1.1.3.2" xref="S4.E12.m1.1.1.1.1.1.3.2.cmml"><mrow id="S4.E12.m1.1.1.1.1.1.3.2.2" xref="S4.E12.m1.1.1.1.1.1.3.2.2.cmml"><mn id="S4.E12.m1.1.1.1.1.1.3.2.2.2" xref="S4.E12.m1.1.1.1.1.1.3.2.2.2.cmml">1</mn><mo id="S4.E12.m1.1.1.1.1.1.3.2.2.1" xref="S4.E12.m1.1.1.1.1.1.3.2.2.1.cmml">−</mo><msub id="S4.E12.m1.1.1.1.1.1.3.2.2.3" xref="S4.E12.m1.1.1.1.1.1.3.2.2.3.cmml"><mover accent="true" id="S4.E12.m1.1.1.1.1.1.3.2.2.3.2" xref="S4.E12.m1.1.1.1.1.1.3.2.2.3.2.cmml"><mi id="S4.E12.m1.1.1.1.1.1.3.2.2.3.2.2" xref="S4.E12.m1.1.1.1.1.1.3.2.2.3.2.2.cmml">α</mi><mo id="S4.E12.m1.1.1.1.1.1.3.2.2.3.2.1" xref="S4.E12.m1.1.1.1.1.1.3.2.2.3.2.1.cmml">¯</mo></mover><mi id="S4.E12.m1.1.1.1.1.1.3.2.2.3.3" xref="S4.E12.m1.1.1.1.1.1.3.2.2.3.3.cmml">t</mi></msub></mrow></msqrt><mo id="S4.E12.m1.1.1.1.1.1.3.1" xref="S4.E12.m1.1.1.1.1.1.3.1.cmml">⁢</mo><mi mathvariant="bold-italic" id="S4.E12.m1.1.1.1.1.1.3.3" xref="S4.E12.m1.1.1.1.1.1.3.3.cmml">ϵ</mi></mrow></mrow><mo id="S4.E12.m1.1.1.1.1.5" xref="S4.E12.m1.1.1.1.1.5.cmml">=</mo><mrow id="S4.E12.m1.1.1.1.1.6" xref="S4.E12.m1.1.1.1.1.6.cmml"><mrow id="S4.E12.m1.1.1.1.1.6.2" xref="S4.E12.m1.1.1.1.1.6.2.cmml"><msqrt id="S4.E12.m1.1.1.1.1.6.2.2" xref="S4.E12.m1.1.1.1.1.6.2.2.cmml"><msub id="S4.E12.m1.1.1.1.1.6.2.2.2" xref="S4.E12.m1.1.1.1.1.6.2.2.2.cmml"><mover accent="true" id="S4.E12.m1.1.1.1.1.6.2.2.2.2" xref="S4.E12.m1.1.1.1.1.6.2.2.2.2.cmml"><mi id="S4.E12.m1.1.1.1.1.6.2.2.2.2.2" xref="S4.E12.m1.1.1.1.1.6.2.2.2.2.2.cmml">α</mi><mo id="S4.E12.m1.1.1.1.1.6.2.2.2.2.1" xref="S4.E12.m1.1.1.1.1.6.2.2.2.2.1.cmml">¯</mo></mover><mi id="S4.E12.m1.1.1.1.1.6.2.2.2.3" xref="S4.E12.m1.1.1.1.1.6.2.2.2.3.cmml">t</mi></msub></msqrt><mo id="S4.E12.m1.1.1.1.1.6.2.1" xref="S4.E12.m1.1.1.1.1.6.2.1.cmml">⁢</mo><mi id="S4.E12.m1.1.1.1.1.6.2.3" xref="S4.E12.m1.1.1.1.1.6.2.3.cmml">𝒙</mi></mrow><mo id="S4.E12.m1.1.1.1.1.6.1" xref="S4.E12.m1.1.1.1.1.6.1.cmml">+</mo><mrow id="S4.E12.m1.1.1.1.1.6.3" xref="S4.E12.m1.1.1.1.1.6.3.cmml"><msqrt id="S4.E12.m1.1.1.1.1.6.3.2" xref="S4.E12.m1.1.1.1.1.6.3.2.cmml"><msub id="S4.E12.m1.1.1.1.1.6.3.2.2" xref="S4.E12.m1.1.1.1.1.6.3.2.2.cmml"><mover accent="true" id="S4.E12.m1.1.1.1.1.6.3.2.2.2" xref="S4.E12.m1.1.1.1.1.6.3.2.2.2.cmml"><mi id="S4.E12.m1.1.1.1.1.6.3.2.2.2.2" xref="S4.E12.m1.1.1.1.1.6.3.2.2.2.2.cmml">α</mi><mo id="S4.E12.m1.1.1.1.1.6.3.2.2.2.1" xref="S4.E12.m1.1.1.1.1.6.3.2.2.2.1.cmml">¯</mo></mover><mi id="S4.E12.m1.1.1.1.1.6.3.2.2.3" xref="S4.E12.m1.1.1.1.1.6.3.2.2.3.cmml">t</mi></msub></msqrt><mo id="S4.E12.m1.1.1.1.1.6.3.1" xref="S4.E12.m1.1.1.1.1.6.3.1.cmml">⁢</mo><mi id="S4.E12.m1.1.1.1.1.6.3.3" xref="S4.E12.m1.1.1.1.1.6.3.3.cmml">𝜹</mi></mrow><mo id="S4.E12.m1.1.1.1.1.6.1a" xref="S4.E12.m1.1.1.1.1.6.1.cmml">+</mo><mrow id="S4.E12.m1.1.1.1.1.6.4" xref="S4.E12.m1.1.1.1.1.6.4.cmml"><msqrt id="S4.E12.m1.1.1.1.1.6.4.2" xref="S4.E12.m1.1.1.1.1.6.4.2.cmml"><mrow id="S4.E12.m1.1.1.1.1.6.4.2.2" xref="S4.E12.m1.1.1.1.1.6.4.2.2.cmml"><mn id="S4.E12.m1.1.1.1.1.6.4.2.2.2" xref="S4.E12.m1.1.1.1.1.6.4.2.2.2.cmml">1</mn><mo id="S4.E12.m1.1.1.1.1.6.4.2.2.1" xref="S4.E12.m1.1.1.1.1.6.4.2.2.1.cmml">−</mo><msub id="S4.E12.m1.1.1.1.1.6.4.2.2.3" xref="S4.E12.m1.1.1.1.1.6.4.2.2.3.cmml"><mover accent="true" id="S4.E12.m1.1.1.1.1.6.4.2.2.3.2" xref="S4.E12.m1.1.1.1.1.6.4.2.2.3.2.cmml"><mi id="S4.E12.m1.1.1.1.1.6.4.2.2.3.2.2" xref="S4.E12.m1.1.1.1.1.6.4.2.2.3.2.2.cmml">α</mi><mo id="S4.E12.m1.1.1.1.1.6.4.2.2.3.2.1" xref="S4.E12.m1.1.1.1.1.6.4.2.2.3.2.1.cmml">¯</mo></mover><mi id="S4.E12.m1.1.1.1.1.6.4.2.2.3.3" xref="S4.E12.m1.1.1.1.1.6.4.2.2.3.3.cmml">t</mi></msub></mrow></msqrt><mo id="S4.E12.m1.1.1.1.1.6.4.1" xref="S4.E12.m1.1.1.1.1.6.4.1.cmml">⁢</mo><mi mathvariant="bold-italic" id="S4.E12.m1.1.1.1.1.6.4.3" xref="S4.E12.m1.1.1.1.1.6.4.3.cmml">ϵ</mi></mrow></mrow></mrow><mo lspace="0em" id="S4.E12.m1.1.1.1.2" xref="S4.E12.m1.1.1.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.E12.m1.1b"><apply id="S4.E12.m1.1.1.1.1.cmml" xref="S4.E12.m1.1.1.1"><and id="S4.E12.m1.1.1.1.1a.cmml" xref="S4.E12.m1.1.1.1"></and><apply id="S4.E12.m1.1.1.1.1b.cmml" xref="S4.E12.m1.1.1.1"><eq id="S4.E12.m1.1.1.1.1.4.cmml" xref="S4.E12.m1.1.1.1.1.4"></eq><apply id="S4.E12.m1.1.1.1.1.3.cmml" xref="S4.E12.m1.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.E12.m1.1.1.1.1.3.1.cmml" xref="S4.E12.m1.1.1.1.1.3">superscript</csymbol><apply id="S4.E12.m1.1.1.1.1.3.2.cmml" xref="S4.E12.m1.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.E12.m1.1.1.1.1.3.2.1.cmml" xref="S4.E12.m1.1.1.1.1.3">subscript</csymbol><ci id="S4.E12.m1.1.1.1.1.3.2.2.cmml" xref="S4.E12.m1.1.1.1.1.3.2.2">𝒙</ci><ci id="S4.E12.m1.1.1.1.1.3.2.3a.cmml" xref="S4.E12.m1.1.1.1.1.3.2.3"><mtext mathsize="70%" id="S4.E12.m1.1.1.1.1.3.2.3.cmml" xref="S4.E12.m1.1.1.1.1.3.2.3">adv</mtext></ci></apply><ci id="S4.E12.m1.1.1.1.1.3.3.cmml" xref="S4.E12.m1.1.1.1.1.3.3">𝑡</ci></apply><apply id="S4.E12.m1.1.1.1.1.1.cmml" xref="S4.E12.m1.1.1.1.1.1"><plus id="S4.E12.m1.1.1.1.1.1.2.cmml" xref="S4.E12.m1.1.1.1.1.1.2"></plus><apply id="S4.E12.m1.1.1.1.1.1.1.cmml" xref="S4.E12.m1.1.1.1.1.1.1"><times id="S4.E12.m1.1.1.1.1.1.1.2.cmml" xref="S4.E12.m1.1.1.1.1.1.1.2"></times><apply id="S4.E12.m1.1.1.1.1.1.1.3.cmml" xref="S4.E12.m1.1.1.1.1.1.1.3"><root id="S4.E12.m1.1.1.1.1.1.1.3a.cmml" xref="S4.E12.m1.1.1.1.1.1.1.3"></root><apply id="S4.E12.m1.1.1.1.1.1.1.3.2.cmml" xref="S4.E12.m1.1.1.1.1.1.1.3.2"><csymbol cd="ambiguous" id="S4.E12.m1.1.1.1.1.1.1.3.2.1.cmml" xref="S4.E12.m1.1.1.1.1.1.1.3.2">subscript</csymbol><apply id="S4.E12.m1.1.1.1.1.1.1.3.2.2.cmml" xref="S4.E12.m1.1.1.1.1.1.1.3.2.2"><ci id="S4.E12.m1.1.1.1.1.1.1.3.2.2.1.cmml" xref="S4.E12.m1.1.1.1.1.1.1.3.2.2.1">¯</ci><ci id="S4.E12.m1.1.1.1.1.1.1.3.2.2.2.cmml" xref="S4.E12.m1.1.1.1.1.1.1.3.2.2.2">𝛼</ci></apply><ci id="S4.E12.m1.1.1.1.1.1.1.3.2.3.cmml" xref="S4.E12.m1.1.1.1.1.1.1.3.2.3">𝑡</ci></apply></apply><apply id="S4.E12.m1.1.1.1.1.1.1.1.1.1.cmml" xref="S4.E12.m1.1.1.1.1.1.1.1.1"><plus id="S4.E12.m1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S4.E12.m1.1.1.1.1.1.1.1.1.1.1"></plus><ci id="S4.E12.m1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S4.E12.m1.1.1.1.1.1.1.1.1.1.2">𝒙</ci><ci id="S4.E12.m1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S4.E12.m1.1.1.1.1.1.1.1.1.1.3">𝜹</ci></apply></apply><apply id="S4.E12.m1.1.1.1.1.1.3.cmml" xref="S4.E12.m1.1.1.1.1.1.3"><times id="S4.E12.m1.1.1.1.1.1.3.1.cmml" xref="S4.E12.m1.1.1.1.1.1.3.1"></times><apply id="S4.E12.m1.1.1.1.1.1.3.2.cmml" xref="S4.E12.m1.1.1.1.1.1.3.2"><root id="S4.E12.m1.1.1.1.1.1.3.2a.cmml" xref="S4.E12.m1.1.1.1.1.1.3.2"></root><apply id="S4.E12.m1.1.1.1.1.1.3.2.2.cmml" xref="S4.E12.m1.1.1.1.1.1.3.2.2"><minus id="S4.E12.m1.1.1.1.1.1.3.2.2.1.cmml" xref="S4.E12.m1.1.1.1.1.1.3.2.2.1"></minus><cn type="integer" id="S4.E12.m1.1.1.1.1.1.3.2.2.2.cmml" xref="S4.E12.m1.1.1.1.1.1.3.2.2.2">1</cn><apply id="S4.E12.m1.1.1.1.1.1.3.2.2.3.cmml" xref="S4.E12.m1.1.1.1.1.1.3.2.2.3"><csymbol cd="ambiguous" id="S4.E12.m1.1.1.1.1.1.3.2.2.3.1.cmml" xref="S4.E12.m1.1.1.1.1.1.3.2.2.3">subscript</csymbol><apply id="S4.E12.m1.1.1.1.1.1.3.2.2.3.2.cmml" xref="S4.E12.m1.1.1.1.1.1.3.2.2.3.2"><ci id="S4.E12.m1.1.1.1.1.1.3.2.2.3.2.1.cmml" xref="S4.E12.m1.1.1.1.1.1.3.2.2.3.2.1">¯</ci><ci id="S4.E12.m1.1.1.1.1.1.3.2.2.3.2.2.cmml" xref="S4.E12.m1.1.1.1.1.1.3.2.2.3.2.2">𝛼</ci></apply><ci id="S4.E12.m1.1.1.1.1.1.3.2.2.3.3.cmml" xref="S4.E12.m1.1.1.1.1.1.3.2.2.3.3">𝑡</ci></apply></apply></apply><ci id="S4.E12.m1.1.1.1.1.1.3.3.cmml" xref="S4.E12.m1.1.1.1.1.1.3.3">bold-italic-ϵ</ci></apply></apply></apply><apply id="S4.E12.m1.1.1.1.1c.cmml" xref="S4.E12.m1.1.1.1"><eq id="S4.E12.m1.1.1.1.1.5.cmml" xref="S4.E12.m1.1.1.1.1.5"></eq><share href="#S4.E12.m1.1.1.1.1.1.cmml" id="S4.E12.m1.1.1.1.1d.cmml" xref="S4.E12.m1.1.1.1"></share><apply id="S4.E12.m1.1.1.1.1.6.cmml" xref="S4.E12.m1.1.1.1.1.6"><plus id="S4.E12.m1.1.1.1.1.6.1.cmml" xref="S4.E12.m1.1.1.1.1.6.1"></plus><apply id="S4.E12.m1.1.1.1.1.6.2.cmml" xref="S4.E12.m1.1.1.1.1.6.2"><times id="S4.E12.m1.1.1.1.1.6.2.1.cmml" xref="S4.E12.m1.1.1.1.1.6.2.1"></times><apply id="S4.E12.m1.1.1.1.1.6.2.2.cmml" xref="S4.E12.m1.1.1.1.1.6.2.2"><root id="S4.E12.m1.1.1.1.1.6.2.2a.cmml" xref="S4.E12.m1.1.1.1.1.6.2.2"></root><apply id="S4.E12.m1.1.1.1.1.6.2.2.2.cmml" xref="S4.E12.m1.1.1.1.1.6.2.2.2"><csymbol cd="ambiguous" id="S4.E12.m1.1.1.1.1.6.2.2.2.1.cmml" xref="S4.E12.m1.1.1.1.1.6.2.2.2">subscript</csymbol><apply id="S4.E12.m1.1.1.1.1.6.2.2.2.2.cmml" xref="S4.E12.m1.1.1.1.1.6.2.2.2.2"><ci id="S4.E12.m1.1.1.1.1.6.2.2.2.2.1.cmml" xref="S4.E12.m1.1.1.1.1.6.2.2.2.2.1">¯</ci><ci id="S4.E12.m1.1.1.1.1.6.2.2.2.2.2.cmml" xref="S4.E12.m1.1.1.1.1.6.2.2.2.2.2">𝛼</ci></apply><ci id="S4.E12.m1.1.1.1.1.6.2.2.2.3.cmml" xref="S4.E12.m1.1.1.1.1.6.2.2.2.3">𝑡</ci></apply></apply><ci id="S4.E12.m1.1.1.1.1.6.2.3.cmml" xref="S4.E12.m1.1.1.1.1.6.2.3">𝒙</ci></apply><apply id="S4.E12.m1.1.1.1.1.6.3.cmml" xref="S4.E12.m1.1.1.1.1.6.3"><times id="S4.E12.m1.1.1.1.1.6.3.1.cmml" xref="S4.E12.m1.1.1.1.1.6.3.1"></times><apply id="S4.E12.m1.1.1.1.1.6.3.2.cmml" xref="S4.E12.m1.1.1.1.1.6.3.2"><root id="S4.E12.m1.1.1.1.1.6.3.2a.cmml" xref="S4.E12.m1.1.1.1.1.6.3.2"></root><apply id="S4.E12.m1.1.1.1.1.6.3.2.2.cmml" xref="S4.E12.m1.1.1.1.1.6.3.2.2"><csymbol cd="ambiguous" id="S4.E12.m1.1.1.1.1.6.3.2.2.1.cmml" xref="S4.E12.m1.1.1.1.1.6.3.2.2">subscript</csymbol><apply id="S4.E12.m1.1.1.1.1.6.3.2.2.2.cmml" xref="S4.E12.m1.1.1.1.1.6.3.2.2.2"><ci id="S4.E12.m1.1.1.1.1.6.3.2.2.2.1.cmml" xref="S4.E12.m1.1.1.1.1.6.3.2.2.2.1">¯</ci><ci id="S4.E12.m1.1.1.1.1.6.3.2.2.2.2.cmml" xref="S4.E12.m1.1.1.1.1.6.3.2.2.2.2">𝛼</ci></apply><ci id="S4.E12.m1.1.1.1.1.6.3.2.2.3.cmml" xref="S4.E12.m1.1.1.1.1.6.3.2.2.3">𝑡</ci></apply></apply><ci id="S4.E12.m1.1.1.1.1.6.3.3.cmml" xref="S4.E12.m1.1.1.1.1.6.3.3">𝜹</ci></apply><apply id="S4.E12.m1.1.1.1.1.6.4.cmml" xref="S4.E12.m1.1.1.1.1.6.4"><times id="S4.E12.m1.1.1.1.1.6.4.1.cmml" xref="S4.E12.m1.1.1.1.1.6.4.1"></times><apply id="S4.E12.m1.1.1.1.1.6.4.2.cmml" xref="S4.E12.m1.1.1.1.1.6.4.2"><root id="S4.E12.m1.1.1.1.1.6.4.2a.cmml" xref="S4.E12.m1.1.1.1.1.6.4.2"></root><apply id="S4.E12.m1.1.1.1.1.6.4.2.2.cmml" xref="S4.E12.m1.1.1.1.1.6.4.2.2"><minus id="S4.E12.m1.1.1.1.1.6.4.2.2.1.cmml" xref="S4.E12.m1.1.1.1.1.6.4.2.2.1"></minus><cn type="integer" id="S4.E12.m1.1.1.1.1.6.4.2.2.2.cmml" xref="S4.E12.m1.1.1.1.1.6.4.2.2.2">1</cn><apply id="S4.E12.m1.1.1.1.1.6.4.2.2.3.cmml" xref="S4.E12.m1.1.1.1.1.6.4.2.2.3"><csymbol cd="ambiguous" id="S4.E12.m1.1.1.1.1.6.4.2.2.3.1.cmml" xref="S4.E12.m1.1.1.1.1.6.4.2.2.3">subscript</csymbol><apply id="S4.E12.m1.1.1.1.1.6.4.2.2.3.2.cmml" xref="S4.E12.m1.1.1.1.1.6.4.2.2.3.2"><ci id="S4.E12.m1.1.1.1.1.6.4.2.2.3.2.1.cmml" xref="S4.E12.m1.1.1.1.1.6.4.2.2.3.2.1">¯</ci><ci id="S4.E12.m1.1.1.1.1.6.4.2.2.3.2.2.cmml" xref="S4.E12.m1.1.1.1.1.6.4.2.2.3.2.2">𝛼</ci></apply><ci id="S4.E12.m1.1.1.1.1.6.4.2.2.3.3.cmml" xref="S4.E12.m1.1.1.1.1.6.4.2.2.3.3">𝑡</ci></apply></apply></apply><ci id="S4.E12.m1.1.1.1.1.6.4.3.cmml" xref="S4.E12.m1.1.1.1.1.6.4.3">bold-italic-ϵ</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E12.m1.1c">{\bm{x}}_{\text{adv}}^{t}=\sqrt{\bar{\alpha}_{t}}({\bm{x}}+\bm{\delta})+\sqrt{1-\bar{\alpha}_{t}}\bm{\epsilon}=\sqrt{\bar{\alpha}_{t}}{\bm{x}}+\sqrt{\bar{\alpha}_{t}}\bm{\delta}+\sqrt{1-\bar{\alpha}_{t}}\bm{\epsilon}.</annotation><annotation encoding="application/x-llamapun" id="S4.E12.m1.1d">bold_italic_x start_POSTSUBSCRIPT adv end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT = square-root start_ARG over¯ start_ARG italic_α end_ARG start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT end_ARG ( bold_italic_x + bold_italic_δ ) + square-root start_ARG 1 - over¯ start_ARG italic_α end_ARG start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT end_ARG bold_italic_ϵ = square-root start_ARG over¯ start_ARG italic_α end_ARG start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT end_ARG bold_italic_x + square-root start_ARG over¯ start_ARG italic_α end_ARG start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT end_ARG bold_italic_δ + square-root start_ARG 1 - over¯ start_ARG italic_α end_ARG start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT end_ARG bold_italic_ϵ .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(12)</span></td>
</tr></tbody>
</table>
<p id="S4.SS3.p2.8" class="ltx_p">Each dimension of the adversarial perturbation <math id="S4.SS3.p2.1.m1.1" class="ltx_Math" alttext="\sqrt{\bar{\alpha}_{t}}\bm{\delta}" display="inline"><semantics id="S4.SS3.p2.1.m1.1a"><mrow id="S4.SS3.p2.1.m1.1.1" xref="S4.SS3.p2.1.m1.1.1.cmml"><msqrt id="S4.SS3.p2.1.m1.1.1.2" xref="S4.SS3.p2.1.m1.1.1.2.cmml"><msub id="S4.SS3.p2.1.m1.1.1.2.2" xref="S4.SS3.p2.1.m1.1.1.2.2.cmml"><mover accent="true" id="S4.SS3.p2.1.m1.1.1.2.2.2" xref="S4.SS3.p2.1.m1.1.1.2.2.2.cmml"><mi id="S4.SS3.p2.1.m1.1.1.2.2.2.2" xref="S4.SS3.p2.1.m1.1.1.2.2.2.2.cmml">α</mi><mo id="S4.SS3.p2.1.m1.1.1.2.2.2.1" xref="S4.SS3.p2.1.m1.1.1.2.2.2.1.cmml">¯</mo></mover><mi id="S4.SS3.p2.1.m1.1.1.2.2.3" xref="S4.SS3.p2.1.m1.1.1.2.2.3.cmml">t</mi></msub></msqrt><mo id="S4.SS3.p2.1.m1.1.1.1" xref="S4.SS3.p2.1.m1.1.1.1.cmml">⁢</mo><mi id="S4.SS3.p2.1.m1.1.1.3" xref="S4.SS3.p2.1.m1.1.1.3.cmml">𝜹</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.1.m1.1b"><apply id="S4.SS3.p2.1.m1.1.1.cmml" xref="S4.SS3.p2.1.m1.1.1"><times id="S4.SS3.p2.1.m1.1.1.1.cmml" xref="S4.SS3.p2.1.m1.1.1.1"></times><apply id="S4.SS3.p2.1.m1.1.1.2.cmml" xref="S4.SS3.p2.1.m1.1.1.2"><root id="S4.SS3.p2.1.m1.1.1.2a.cmml" xref="S4.SS3.p2.1.m1.1.1.2"></root><apply id="S4.SS3.p2.1.m1.1.1.2.2.cmml" xref="S4.SS3.p2.1.m1.1.1.2.2"><csymbol cd="ambiguous" id="S4.SS3.p2.1.m1.1.1.2.2.1.cmml" xref="S4.SS3.p2.1.m1.1.1.2.2">subscript</csymbol><apply id="S4.SS3.p2.1.m1.1.1.2.2.2.cmml" xref="S4.SS3.p2.1.m1.1.1.2.2.2"><ci id="S4.SS3.p2.1.m1.1.1.2.2.2.1.cmml" xref="S4.SS3.p2.1.m1.1.1.2.2.2.1">¯</ci><ci id="S4.SS3.p2.1.m1.1.1.2.2.2.2.cmml" xref="S4.SS3.p2.1.m1.1.1.2.2.2.2">𝛼</ci></apply><ci id="S4.SS3.p2.1.m1.1.1.2.2.3.cmml" xref="S4.SS3.p2.1.m1.1.1.2.2.3">𝑡</ci></apply></apply><ci id="S4.SS3.p2.1.m1.1.1.3.cmml" xref="S4.SS3.p2.1.m1.1.1.3">𝜹</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.1.m1.1c">\sqrt{\bar{\alpha}_{t}}\bm{\delta}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p2.1.m1.1d">square-root start_ARG over¯ start_ARG italic_α end_ARG start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT end_ARG bold_italic_δ</annotation></semantics></math> is bounded to <math id="S4.SS3.p2.2.m2.1" class="ltx_math_unparsed" alttext="[-\sqrt{\bar{\alpha}_{t}}\gamma,+\sqrt{\bar{\alpha}_{t}}\gamma,]" display="inline"><semantics id="S4.SS3.p2.2.m2.1a"><mrow id="S4.SS3.p2.2.m2.1b"><mo stretchy="false" id="S4.SS3.p2.2.m2.1.1">[</mo><mo lspace="0em" id="S4.SS3.p2.2.m2.1.2">−</mo><msqrt id="S4.SS3.p2.2.m2.1.3"><msub id="S4.SS3.p2.2.m2.1.3.2"><mover accent="true" id="S4.SS3.p2.2.m2.1.3.2.2"><mi id="S4.SS3.p2.2.m2.1.3.2.2.2">α</mi><mo id="S4.SS3.p2.2.m2.1.3.2.2.1">¯</mo></mover><mi id="S4.SS3.p2.2.m2.1.3.2.3">t</mi></msub></msqrt><mi id="S4.SS3.p2.2.m2.1.4">γ</mi><mo rspace="0em" id="S4.SS3.p2.2.m2.1.5">,</mo><mo lspace="0em" id="S4.SS3.p2.2.m2.1.6">+</mo><msqrt id="S4.SS3.p2.2.m2.1.7"><msub id="S4.SS3.p2.2.m2.1.7.2"><mover accent="true" id="S4.SS3.p2.2.m2.1.7.2.2"><mi id="S4.SS3.p2.2.m2.1.7.2.2.2">α</mi><mo id="S4.SS3.p2.2.m2.1.7.2.2.1">¯</mo></mover><mi id="S4.SS3.p2.2.m2.1.7.2.3">t</mi></msub></msqrt><mi id="S4.SS3.p2.2.m2.1.8">γ</mi><mo id="S4.SS3.p2.2.m2.1.9">,</mo><mo stretchy="false" id="S4.SS3.p2.2.m2.1.10">]</mo></mrow><annotation encoding="application/x-tex" id="S4.SS3.p2.2.m2.1c">[-\sqrt{\bar{\alpha}_{t}}\gamma,+\sqrt{\bar{\alpha}_{t}}\gamma,]</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p2.2.m2.1d">[ - square-root start_ARG over¯ start_ARG italic_α end_ARG start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT end_ARG italic_γ , + square-root start_ARG over¯ start_ARG italic_α end_ARG start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT end_ARG italic_γ , ]</annotation></semantics></math>, since we bound the <math id="S4.SS3.p2.3.m3.1" class="ltx_Math" alttext="l_{\infty}" display="inline"><semantics id="S4.SS3.p2.3.m3.1a"><msub id="S4.SS3.p2.3.m3.1.1" xref="S4.SS3.p2.3.m3.1.1.cmml"><mi id="S4.SS3.p2.3.m3.1.1.2" xref="S4.SS3.p2.3.m3.1.1.2.cmml">l</mi><mi mathvariant="normal" id="S4.SS3.p2.3.m3.1.1.3" xref="S4.SS3.p2.3.m3.1.1.3.cmml">∞</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.3.m3.1b"><apply id="S4.SS3.p2.3.m3.1.1.cmml" xref="S4.SS3.p2.3.m3.1.1"><csymbol cd="ambiguous" id="S4.SS3.p2.3.m3.1.1.1.cmml" xref="S4.SS3.p2.3.m3.1.1">subscript</csymbol><ci id="S4.SS3.p2.3.m3.1.1.2.cmml" xref="S4.SS3.p2.3.m3.1.1.2">𝑙</ci><infinity id="S4.SS3.p2.3.m3.1.1.3.cmml" xref="S4.SS3.p2.3.m3.1.1.3"></infinity></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.3.m3.1c">l_{\infty}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p2.3.m3.1d">italic_l start_POSTSUBSCRIPT ∞ end_POSTSUBSCRIPT</annotation></semantics></math> norm of <math id="S4.SS3.p2.4.m4.1" class="ltx_Math" alttext="\bm{\delta}" display="inline"><semantics id="S4.SS3.p2.4.m4.1a"><mi id="S4.SS3.p2.4.m4.1.1" xref="S4.SS3.p2.4.m4.1.1.cmml">𝜹</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.4.m4.1b"><ci id="S4.SS3.p2.4.m4.1.1.cmml" xref="S4.SS3.p2.4.m4.1.1">𝜹</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.4.m4.1c">\bm{\delta}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p2.4.m4.1d">bold_italic_δ</annotation></semantics></math> to <math id="S4.SS3.p2.5.m5.1" class="ltx_Math" alttext="\gamma" display="inline"><semantics id="S4.SS3.p2.5.m5.1a"><mi id="S4.SS3.p2.5.m5.1.1" xref="S4.SS3.p2.5.m5.1.1.cmml">γ</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.5.m5.1b"><ci id="S4.SS3.p2.5.m5.1.1.cmml" xref="S4.SS3.p2.5.m5.1.1">𝛾</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.5.m5.1c">\gamma</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p2.5.m5.1d">italic_γ</annotation></semantics></math>.
Each dimension of the Gaussian noise <math id="S4.SS3.p2.6.m6.1" class="ltx_Math" alttext="\sqrt{1-\bar{\alpha}_{t}}\bm{\epsilon}" display="inline"><semantics id="S4.SS3.p2.6.m6.1a"><mrow id="S4.SS3.p2.6.m6.1.1" xref="S4.SS3.p2.6.m6.1.1.cmml"><msqrt id="S4.SS3.p2.6.m6.1.1.2" xref="S4.SS3.p2.6.m6.1.1.2.cmml"><mrow id="S4.SS3.p2.6.m6.1.1.2.2" xref="S4.SS3.p2.6.m6.1.1.2.2.cmml"><mn id="S4.SS3.p2.6.m6.1.1.2.2.2" xref="S4.SS3.p2.6.m6.1.1.2.2.2.cmml">1</mn><mo id="S4.SS3.p2.6.m6.1.1.2.2.1" xref="S4.SS3.p2.6.m6.1.1.2.2.1.cmml">−</mo><msub id="S4.SS3.p2.6.m6.1.1.2.2.3" xref="S4.SS3.p2.6.m6.1.1.2.2.3.cmml"><mover accent="true" id="S4.SS3.p2.6.m6.1.1.2.2.3.2" xref="S4.SS3.p2.6.m6.1.1.2.2.3.2.cmml"><mi id="S4.SS3.p2.6.m6.1.1.2.2.3.2.2" xref="S4.SS3.p2.6.m6.1.1.2.2.3.2.2.cmml">α</mi><mo id="S4.SS3.p2.6.m6.1.1.2.2.3.2.1" xref="S4.SS3.p2.6.m6.1.1.2.2.3.2.1.cmml">¯</mo></mover><mi id="S4.SS3.p2.6.m6.1.1.2.2.3.3" xref="S4.SS3.p2.6.m6.1.1.2.2.3.3.cmml">t</mi></msub></mrow></msqrt><mo id="S4.SS3.p2.6.m6.1.1.1" xref="S4.SS3.p2.6.m6.1.1.1.cmml">⁢</mo><mi mathvariant="bold-italic" id="S4.SS3.p2.6.m6.1.1.3" xref="S4.SS3.p2.6.m6.1.1.3.cmml">ϵ</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.6.m6.1b"><apply id="S4.SS3.p2.6.m6.1.1.cmml" xref="S4.SS3.p2.6.m6.1.1"><times id="S4.SS3.p2.6.m6.1.1.1.cmml" xref="S4.SS3.p2.6.m6.1.1.1"></times><apply id="S4.SS3.p2.6.m6.1.1.2.cmml" xref="S4.SS3.p2.6.m6.1.1.2"><root id="S4.SS3.p2.6.m6.1.1.2a.cmml" xref="S4.SS3.p2.6.m6.1.1.2"></root><apply id="S4.SS3.p2.6.m6.1.1.2.2.cmml" xref="S4.SS3.p2.6.m6.1.1.2.2"><minus id="S4.SS3.p2.6.m6.1.1.2.2.1.cmml" xref="S4.SS3.p2.6.m6.1.1.2.2.1"></minus><cn type="integer" id="S4.SS3.p2.6.m6.1.1.2.2.2.cmml" xref="S4.SS3.p2.6.m6.1.1.2.2.2">1</cn><apply id="S4.SS3.p2.6.m6.1.1.2.2.3.cmml" xref="S4.SS3.p2.6.m6.1.1.2.2.3"><csymbol cd="ambiguous" id="S4.SS3.p2.6.m6.1.1.2.2.3.1.cmml" xref="S4.SS3.p2.6.m6.1.1.2.2.3">subscript</csymbol><apply id="S4.SS3.p2.6.m6.1.1.2.2.3.2.cmml" xref="S4.SS3.p2.6.m6.1.1.2.2.3.2"><ci id="S4.SS3.p2.6.m6.1.1.2.2.3.2.1.cmml" xref="S4.SS3.p2.6.m6.1.1.2.2.3.2.1">¯</ci><ci id="S4.SS3.p2.6.m6.1.1.2.2.3.2.2.cmml" xref="S4.SS3.p2.6.m6.1.1.2.2.3.2.2">𝛼</ci></apply><ci id="S4.SS3.p2.6.m6.1.1.2.2.3.3.cmml" xref="S4.SS3.p2.6.m6.1.1.2.2.3.3">𝑡</ci></apply></apply></apply><ci id="S4.SS3.p2.6.m6.1.1.3.cmml" xref="S4.SS3.p2.6.m6.1.1.3">bold-italic-ϵ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.6.m6.1c">\sqrt{1-\bar{\alpha}_{t}}\bm{\epsilon}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p2.6.m6.1d">square-root start_ARG 1 - over¯ start_ARG italic_α end_ARG start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT end_ARG bold_italic_ϵ</annotation></semantics></math> is roughly bounded by <math id="S4.SS3.p2.7.m7.1" class="ltx_math_unparsed" alttext="[-3\sqrt{1-\bar{\alpha}_{t}},+3\sqrt{1-\bar{\alpha}_{t}},]" display="inline"><semantics id="S4.SS3.p2.7.m7.1a"><mrow id="S4.SS3.p2.7.m7.1b"><mo stretchy="false" id="S4.SS3.p2.7.m7.1.1">[</mo><mo lspace="0em" id="S4.SS3.p2.7.m7.1.2">−</mo><mn id="S4.SS3.p2.7.m7.1.3">3</mn><msqrt id="S4.SS3.p2.7.m7.1.4"><mrow id="S4.SS3.p2.7.m7.1.4.2"><mn id="S4.SS3.p2.7.m7.1.4.2.2">1</mn><mo id="S4.SS3.p2.7.m7.1.4.2.1">−</mo><msub id="S4.SS3.p2.7.m7.1.4.2.3"><mover accent="true" id="S4.SS3.p2.7.m7.1.4.2.3.2"><mi id="S4.SS3.p2.7.m7.1.4.2.3.2.2">α</mi><mo id="S4.SS3.p2.7.m7.1.4.2.3.2.1">¯</mo></mover><mi id="S4.SS3.p2.7.m7.1.4.2.3.3">t</mi></msub></mrow></msqrt><mo rspace="0em" id="S4.SS3.p2.7.m7.1.5">,</mo><mo lspace="0em" id="S4.SS3.p2.7.m7.1.6">+</mo><mn id="S4.SS3.p2.7.m7.1.7">3</mn><msqrt id="S4.SS3.p2.7.m7.1.8"><mrow id="S4.SS3.p2.7.m7.1.8.2"><mn id="S4.SS3.p2.7.m7.1.8.2.2">1</mn><mo id="S4.SS3.p2.7.m7.1.8.2.1">−</mo><msub id="S4.SS3.p2.7.m7.1.8.2.3"><mover accent="true" id="S4.SS3.p2.7.m7.1.8.2.3.2"><mi id="S4.SS3.p2.7.m7.1.8.2.3.2.2">α</mi><mo id="S4.SS3.p2.7.m7.1.8.2.3.2.1">¯</mo></mover><mi id="S4.SS3.p2.7.m7.1.8.2.3.3">t</mi></msub></mrow></msqrt><mo id="S4.SS3.p2.7.m7.1.9">,</mo><mo stretchy="false" id="S4.SS3.p2.7.m7.1.10">]</mo></mrow><annotation encoding="application/x-tex" id="S4.SS3.p2.7.m7.1c">[-3\sqrt{1-\bar{\alpha}_{t}},+3\sqrt{1-\bar{\alpha}_{t}},]</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p2.7.m7.1d">[ - 3 square-root start_ARG 1 - over¯ start_ARG italic_α end_ARG start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT end_ARG , + 3 square-root start_ARG 1 - over¯ start_ARG italic_α end_ARG start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT end_ARG , ]</annotation></semantics></math>,
since most samples from the standard Gaussian distribution fall in <math id="S4.SS3.p2.8.m8.2" class="ltx_Math" alttext="[-3,+3]" display="inline"><semantics id="S4.SS3.p2.8.m8.2a"><mrow id="S4.SS3.p2.8.m8.2.2.2" xref="S4.SS3.p2.8.m8.2.2.3.cmml"><mo stretchy="false" id="S4.SS3.p2.8.m8.2.2.2.3" xref="S4.SS3.p2.8.m8.2.2.3.cmml">[</mo><mrow id="S4.SS3.p2.8.m8.1.1.1.1" xref="S4.SS3.p2.8.m8.1.1.1.1.cmml"><mo id="S4.SS3.p2.8.m8.1.1.1.1a" xref="S4.SS3.p2.8.m8.1.1.1.1.cmml">−</mo><mn id="S4.SS3.p2.8.m8.1.1.1.1.2" xref="S4.SS3.p2.8.m8.1.1.1.1.2.cmml">3</mn></mrow><mo id="S4.SS3.p2.8.m8.2.2.2.4" xref="S4.SS3.p2.8.m8.2.2.3.cmml">,</mo><mrow id="S4.SS3.p2.8.m8.2.2.2.2" xref="S4.SS3.p2.8.m8.2.2.2.2.cmml"><mo id="S4.SS3.p2.8.m8.2.2.2.2a" xref="S4.SS3.p2.8.m8.2.2.2.2.cmml">+</mo><mn id="S4.SS3.p2.8.m8.2.2.2.2.2" xref="S4.SS3.p2.8.m8.2.2.2.2.2.cmml">3</mn></mrow><mo stretchy="false" id="S4.SS3.p2.8.m8.2.2.2.5" xref="S4.SS3.p2.8.m8.2.2.3.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.8.m8.2b"><interval closure="closed" id="S4.SS3.p2.8.m8.2.2.3.cmml" xref="S4.SS3.p2.8.m8.2.2.2"><apply id="S4.SS3.p2.8.m8.1.1.1.1.cmml" xref="S4.SS3.p2.8.m8.1.1.1.1"><minus id="S4.SS3.p2.8.m8.1.1.1.1.1.cmml" xref="S4.SS3.p2.8.m8.1.1.1.1"></minus><cn type="integer" id="S4.SS3.p2.8.m8.1.1.1.1.2.cmml" xref="S4.SS3.p2.8.m8.1.1.1.1.2">3</cn></apply><apply id="S4.SS3.p2.8.m8.2.2.2.2.cmml" xref="S4.SS3.p2.8.m8.2.2.2.2"><plus id="S4.SS3.p2.8.m8.2.2.2.2.1.cmml" xref="S4.SS3.p2.8.m8.2.2.2.2"></plus><cn type="integer" id="S4.SS3.p2.8.m8.2.2.2.2.2.cmml" xref="S4.SS3.p2.8.m8.2.2.2.2.2">3</cn></apply></interval></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.8.m8.2c">[-3,+3]</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p2.8.m8.2d">[ - 3 , + 3 ]</annotation></semantics></math>.
Therefore, we set</p>
<table id="A1.EGx4" class="ltx_equationgroup ltx_eqn_align ltx_eqn_table">

<tbody id="S4.E13"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S4.E13.m1.1" class="ltx_Math" alttext="\displaystyle s_{t}=\frac{3\sqrt{1-\bar{\alpha}_{t}}}{\gamma\sqrt{\bar{\alpha}_{t}}}\cdot a," display="inline"><semantics id="S4.E13.m1.1a"><mrow id="S4.E13.m1.1.1.1" xref="S4.E13.m1.1.1.1.1.cmml"><mrow id="S4.E13.m1.1.1.1.1" xref="S4.E13.m1.1.1.1.1.cmml"><msub id="S4.E13.m1.1.1.1.1.2" xref="S4.E13.m1.1.1.1.1.2.cmml"><mi id="S4.E13.m1.1.1.1.1.2.2" xref="S4.E13.m1.1.1.1.1.2.2.cmml">s</mi><mi id="S4.E13.m1.1.1.1.1.2.3" xref="S4.E13.m1.1.1.1.1.2.3.cmml">t</mi></msub><mo id="S4.E13.m1.1.1.1.1.1" xref="S4.E13.m1.1.1.1.1.1.cmml">=</mo><mrow id="S4.E13.m1.1.1.1.1.3" xref="S4.E13.m1.1.1.1.1.3.cmml"><mstyle displaystyle="true" id="S4.E13.m1.1.1.1.1.3.2" xref="S4.E13.m1.1.1.1.1.3.2.cmml"><mfrac id="S4.E13.m1.1.1.1.1.3.2a" xref="S4.E13.m1.1.1.1.1.3.2.cmml"><mrow id="S4.E13.m1.1.1.1.1.3.2.2" xref="S4.E13.m1.1.1.1.1.3.2.2.cmml"><mn id="S4.E13.m1.1.1.1.1.3.2.2.2" xref="S4.E13.m1.1.1.1.1.3.2.2.2.cmml">3</mn><mo id="S4.E13.m1.1.1.1.1.3.2.2.1" xref="S4.E13.m1.1.1.1.1.3.2.2.1.cmml">⁢</mo><msqrt id="S4.E13.m1.1.1.1.1.3.2.2.3" xref="S4.E13.m1.1.1.1.1.3.2.2.3.cmml"><mrow id="S4.E13.m1.1.1.1.1.3.2.2.3.2" xref="S4.E13.m1.1.1.1.1.3.2.2.3.2.cmml"><mn id="S4.E13.m1.1.1.1.1.3.2.2.3.2.2" xref="S4.E13.m1.1.1.1.1.3.2.2.3.2.2.cmml">1</mn><mo id="S4.E13.m1.1.1.1.1.3.2.2.3.2.1" xref="S4.E13.m1.1.1.1.1.3.2.2.3.2.1.cmml">−</mo><msub id="S4.E13.m1.1.1.1.1.3.2.2.3.2.3" xref="S4.E13.m1.1.1.1.1.3.2.2.3.2.3.cmml"><mover accent="true" id="S4.E13.m1.1.1.1.1.3.2.2.3.2.3.2" xref="S4.E13.m1.1.1.1.1.3.2.2.3.2.3.2.cmml"><mi id="S4.E13.m1.1.1.1.1.3.2.2.3.2.3.2.2" xref="S4.E13.m1.1.1.1.1.3.2.2.3.2.3.2.2.cmml">α</mi><mo id="S4.E13.m1.1.1.1.1.3.2.2.3.2.3.2.1" xref="S4.E13.m1.1.1.1.1.3.2.2.3.2.3.2.1.cmml">¯</mo></mover><mi id="S4.E13.m1.1.1.1.1.3.2.2.3.2.3.3" xref="S4.E13.m1.1.1.1.1.3.2.2.3.2.3.3.cmml">t</mi></msub></mrow></msqrt></mrow><mrow id="S4.E13.m1.1.1.1.1.3.2.3" xref="S4.E13.m1.1.1.1.1.3.2.3.cmml"><mi id="S4.E13.m1.1.1.1.1.3.2.3.2" xref="S4.E13.m1.1.1.1.1.3.2.3.2.cmml">γ</mi><mo id="S4.E13.m1.1.1.1.1.3.2.3.1" xref="S4.E13.m1.1.1.1.1.3.2.3.1.cmml">⁢</mo><msqrt id="S4.E13.m1.1.1.1.1.3.2.3.3" xref="S4.E13.m1.1.1.1.1.3.2.3.3.cmml"><msub id="S4.E13.m1.1.1.1.1.3.2.3.3.2" xref="S4.E13.m1.1.1.1.1.3.2.3.3.2.cmml"><mover accent="true" id="S4.E13.m1.1.1.1.1.3.2.3.3.2.2" xref="S4.E13.m1.1.1.1.1.3.2.3.3.2.2.cmml"><mi id="S4.E13.m1.1.1.1.1.3.2.3.3.2.2.2" xref="S4.E13.m1.1.1.1.1.3.2.3.3.2.2.2.cmml">α</mi><mo id="S4.E13.m1.1.1.1.1.3.2.3.3.2.2.1" xref="S4.E13.m1.1.1.1.1.3.2.3.3.2.2.1.cmml">¯</mo></mover><mi id="S4.E13.m1.1.1.1.1.3.2.3.3.2.3" xref="S4.E13.m1.1.1.1.1.3.2.3.3.2.3.cmml">t</mi></msub></msqrt></mrow></mfrac></mstyle><mo lspace="0.222em" rspace="0.222em" id="S4.E13.m1.1.1.1.1.3.1" xref="S4.E13.m1.1.1.1.1.3.1.cmml">⋅</mo><mi id="S4.E13.m1.1.1.1.1.3.3" xref="S4.E13.m1.1.1.1.1.3.3.cmml">a</mi></mrow></mrow><mo id="S4.E13.m1.1.1.1.2" xref="S4.E13.m1.1.1.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.E13.m1.1b"><apply id="S4.E13.m1.1.1.1.1.cmml" xref="S4.E13.m1.1.1.1"><eq id="S4.E13.m1.1.1.1.1.1.cmml" xref="S4.E13.m1.1.1.1.1.1"></eq><apply id="S4.E13.m1.1.1.1.1.2.cmml" xref="S4.E13.m1.1.1.1.1.2"><csymbol cd="ambiguous" id="S4.E13.m1.1.1.1.1.2.1.cmml" xref="S4.E13.m1.1.1.1.1.2">subscript</csymbol><ci id="S4.E13.m1.1.1.1.1.2.2.cmml" xref="S4.E13.m1.1.1.1.1.2.2">𝑠</ci><ci id="S4.E13.m1.1.1.1.1.2.3.cmml" xref="S4.E13.m1.1.1.1.1.2.3">𝑡</ci></apply><apply id="S4.E13.m1.1.1.1.1.3.cmml" xref="S4.E13.m1.1.1.1.1.3"><ci id="S4.E13.m1.1.1.1.1.3.1.cmml" xref="S4.E13.m1.1.1.1.1.3.1">⋅</ci><apply id="S4.E13.m1.1.1.1.1.3.2.cmml" xref="S4.E13.m1.1.1.1.1.3.2"><divide id="S4.E13.m1.1.1.1.1.3.2.1.cmml" xref="S4.E13.m1.1.1.1.1.3.2"></divide><apply id="S4.E13.m1.1.1.1.1.3.2.2.cmml" xref="S4.E13.m1.1.1.1.1.3.2.2"><times id="S4.E13.m1.1.1.1.1.3.2.2.1.cmml" xref="S4.E13.m1.1.1.1.1.3.2.2.1"></times><cn type="integer" id="S4.E13.m1.1.1.1.1.3.2.2.2.cmml" xref="S4.E13.m1.1.1.1.1.3.2.2.2">3</cn><apply id="S4.E13.m1.1.1.1.1.3.2.2.3.cmml" xref="S4.E13.m1.1.1.1.1.3.2.2.3"><root id="S4.E13.m1.1.1.1.1.3.2.2.3a.cmml" xref="S4.E13.m1.1.1.1.1.3.2.2.3"></root><apply id="S4.E13.m1.1.1.1.1.3.2.2.3.2.cmml" xref="S4.E13.m1.1.1.1.1.3.2.2.3.2"><minus id="S4.E13.m1.1.1.1.1.3.2.2.3.2.1.cmml" xref="S4.E13.m1.1.1.1.1.3.2.2.3.2.1"></minus><cn type="integer" id="S4.E13.m1.1.1.1.1.3.2.2.3.2.2.cmml" xref="S4.E13.m1.1.1.1.1.3.2.2.3.2.2">1</cn><apply id="S4.E13.m1.1.1.1.1.3.2.2.3.2.3.cmml" xref="S4.E13.m1.1.1.1.1.3.2.2.3.2.3"><csymbol cd="ambiguous" id="S4.E13.m1.1.1.1.1.3.2.2.3.2.3.1.cmml" xref="S4.E13.m1.1.1.1.1.3.2.2.3.2.3">subscript</csymbol><apply id="S4.E13.m1.1.1.1.1.3.2.2.3.2.3.2.cmml" xref="S4.E13.m1.1.1.1.1.3.2.2.3.2.3.2"><ci id="S4.E13.m1.1.1.1.1.3.2.2.3.2.3.2.1.cmml" xref="S4.E13.m1.1.1.1.1.3.2.2.3.2.3.2.1">¯</ci><ci id="S4.E13.m1.1.1.1.1.3.2.2.3.2.3.2.2.cmml" xref="S4.E13.m1.1.1.1.1.3.2.2.3.2.3.2.2">𝛼</ci></apply><ci id="S4.E13.m1.1.1.1.1.3.2.2.3.2.3.3.cmml" xref="S4.E13.m1.1.1.1.1.3.2.2.3.2.3.3">𝑡</ci></apply></apply></apply></apply><apply id="S4.E13.m1.1.1.1.1.3.2.3.cmml" xref="S4.E13.m1.1.1.1.1.3.2.3"><times id="S4.E13.m1.1.1.1.1.3.2.3.1.cmml" xref="S4.E13.m1.1.1.1.1.3.2.3.1"></times><ci id="S4.E13.m1.1.1.1.1.3.2.3.2.cmml" xref="S4.E13.m1.1.1.1.1.3.2.3.2">𝛾</ci><apply id="S4.E13.m1.1.1.1.1.3.2.3.3.cmml" xref="S4.E13.m1.1.1.1.1.3.2.3.3"><root id="S4.E13.m1.1.1.1.1.3.2.3.3a.cmml" xref="S4.E13.m1.1.1.1.1.3.2.3.3"></root><apply id="S4.E13.m1.1.1.1.1.3.2.3.3.2.cmml" xref="S4.E13.m1.1.1.1.1.3.2.3.3.2"><csymbol cd="ambiguous" id="S4.E13.m1.1.1.1.1.3.2.3.3.2.1.cmml" xref="S4.E13.m1.1.1.1.1.3.2.3.3.2">subscript</csymbol><apply id="S4.E13.m1.1.1.1.1.3.2.3.3.2.2.cmml" xref="S4.E13.m1.1.1.1.1.3.2.3.3.2.2"><ci id="S4.E13.m1.1.1.1.1.3.2.3.3.2.2.1.cmml" xref="S4.E13.m1.1.1.1.1.3.2.3.3.2.2.1">¯</ci><ci id="S4.E13.m1.1.1.1.1.3.2.3.3.2.2.2.cmml" xref="S4.E13.m1.1.1.1.1.3.2.3.3.2.2.2">𝛼</ci></apply><ci id="S4.E13.m1.1.1.1.1.3.2.3.3.2.3.cmml" xref="S4.E13.m1.1.1.1.1.3.2.3.3.2.3">𝑡</ci></apply></apply></apply></apply><ci id="S4.E13.m1.1.1.1.1.3.3.cmml" xref="S4.E13.m1.1.1.1.1.3.3">𝑎</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E13.m1.1c">\displaystyle s_{t}=\frac{3\sqrt{1-\bar{\alpha}_{t}}}{\gamma\sqrt{\bar{\alpha}_{t}}}\cdot a,</annotation><annotation encoding="application/x-llamapun" id="S4.E13.m1.1d">italic_s start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT = divide start_ARG 3 square-root start_ARG 1 - over¯ start_ARG italic_α end_ARG start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT end_ARG end_ARG start_ARG italic_γ square-root start_ARG over¯ start_ARG italic_α end_ARG start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT end_ARG end_ARG ⋅ italic_a ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(13)</span></td>
</tr></tbody>
</table>
<p id="S4.SS3.p2.10" class="ltx_p">where <math id="S4.SS3.p2.9.m1.1" class="ltx_Math" alttext="a" display="inline"><semantics id="S4.SS3.p2.9.m1.1a"><mi id="S4.SS3.p2.9.m1.1.1" xref="S4.SS3.p2.9.m1.1.1.cmml">a</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.9.m1.1b"><ci id="S4.SS3.p2.9.m1.1.1.cmml" xref="S4.SS3.p2.9.m1.1.1">𝑎</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.9.m1.1c">a</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p2.9.m1.1d">italic_a</annotation></semantics></math> is an empirically chosen hyper-parameter that depend on the image resolution and the specific distance metric <math id="S4.SS3.p2.10.m2.1" class="ltx_Math" alttext="\mathcal{D}" display="inline"><semantics id="S4.SS3.p2.10.m2.1a"><mi class="ltx_font_mathcaligraphic" id="S4.SS3.p2.10.m2.1.1" xref="S4.SS3.p2.10.m2.1.1.cmml">𝒟</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.10.m2.1b"><ci id="S4.SS3.p2.10.m2.1.1.cmml" xref="S4.SS3.p2.10.m2.1.1">𝒟</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.10.m2.1c">\mathcal{D}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p2.10.m2.1d">caligraphic_D</annotation></semantics></math>.</p>
</div>
</section>
<section id="S4.SS4" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.4 </span>DDPM acceleration</h3>

<div id="S4.SS4.p1" class="ltx_para">
<p id="S4.SS4.p1.1" class="ltx_p"><cite class="ltx_cite ltx_citemacro_citet">Nichol &amp; Dhariwal (<a href="#bib.bib22" title="" class="ltx_ref">2021</a>)</cite> propose skipping steps in the reverse process to speed up the DDPM generating process. The DDPM does not need to be retrained for this procedure. Their technology is successfully added to our adversarial purification network. We apply this method to the ImageNet dataset purification process, which could accelerate four times faster when we respace T=1000 steps to 250 steps. More experiment data will be attached in supplemental material.
</p>
</div>
</section>
</section>
<section id="S5" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5 </span>Experiments</h2>

<div id="S5.p1" class="ltx_para">
<p id="S5.p1.1" class="ltx_p">The proposed defense method GDMP was evaluated under the strongest existing attacks on bounded threat models and compared with other state-of-the-art defense methods, including adversarial purification and adversarial training.
As the purification methods, the Diffusion model and classifier are trained independently on the same dataset. No adversarial training or other training modifications are used for either model.
For the pre-trained diffusion model, we use models from <cite class="ltx_cite ltx_citemacro_citet">Ho et al. (<a href="#bib.bib16" title="" class="ltx_ref">2020a</a>)</cite> and <cite class="ltx_cite ltx_citemacro_citet">Dhariwal &amp; Nichol (<a href="#bib.bib6" title="" class="ltx_ref">2021</a>)</cite>. We set T=1000 in this paper. For classifiers, three most used architectures is chosen in the following datasets evalutaions: ResNet(<cite class="ltx_cite ltx_citemacro_citet">He et al. (<a href="#bib.bib14" title="" class="ltx_ref">2016</a>)</cite>)50 and ResNet 152, WideResNet(<cite class="ltx_cite ltx_citemacro_citet">Zagoruyko &amp; Komodakis (<a href="#bib.bib39" title="" class="ltx_ref">2016</a>)</cite>)28<math id="S5.p1.1.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S5.p1.1.m1.1a"><mo id="S5.p1.1.m1.1.1" xref="S5.p1.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S5.p1.1.m1.1b"><times id="S5.p1.1.m1.1.1.cmml" xref="S5.p1.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S5.p1.1.m1.1c">\times</annotation><annotation encoding="application/x-llamapun" id="S5.p1.1.m1.1d">×</annotation></semantics></math>10. The datasets we consider in the evaluation are CIFAR10 and ImageNet.</p>
</div>
<div id="S5.p2" class="ltx_para">
<p id="S5.p2.3" class="ltx_p">In this study, adversarial perturbation is considered under <math id="S5.p2.1.m1.1" class="ltx_Math" alttext="\ell_{\infty}" display="inline"><semantics id="S5.p2.1.m1.1a"><msub id="S5.p2.1.m1.1.1" xref="S5.p2.1.m1.1.1.cmml"><mi mathvariant="normal" id="S5.p2.1.m1.1.1.2" xref="S5.p2.1.m1.1.1.2.cmml">ℓ</mi><mi mathvariant="normal" id="S5.p2.1.m1.1.1.3" xref="S5.p2.1.m1.1.1.3.cmml">∞</mi></msub><annotation-xml encoding="MathML-Content" id="S5.p2.1.m1.1b"><apply id="S5.p2.1.m1.1.1.cmml" xref="S5.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S5.p2.1.m1.1.1.1.cmml" xref="S5.p2.1.m1.1.1">subscript</csymbol><ci id="S5.p2.1.m1.1.1.2.cmml" xref="S5.p2.1.m1.1.1.2">ℓ</ci><infinity id="S5.p2.1.m1.1.1.3.cmml" xref="S5.p2.1.m1.1.1.3"></infinity></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.p2.1.m1.1c">\ell_{\infty}</annotation><annotation encoding="application/x-llamapun" id="S5.p2.1.m1.1d">roman_ℓ start_POSTSUBSCRIPT ∞ end_POSTSUBSCRIPT</annotation></semantics></math> norm (i.e., maximum difference for each pixel), with an allowed maximum value of <math id="S5.p2.2.m2.1" class="ltx_Math" alttext="\gamma" display="inline"><semantics id="S5.p2.2.m2.1a"><mi id="S5.p2.2.m2.1.1" xref="S5.p2.2.m2.1.1.cmml">γ</mi><annotation-xml encoding="MathML-Content" id="S5.p2.2.m2.1b"><ci id="S5.p2.2.m2.1.1.cmml" xref="S5.p2.2.m2.1.1">𝛾</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.p2.2.m2.1c">\gamma</annotation><annotation encoding="application/x-llamapun" id="S5.p2.2.m2.1d">italic_γ</annotation></semantics></math>. The value of <math id="S5.p2.3.m3.1" class="ltx_Math" alttext="\gamma" display="inline"><semantics id="S5.p2.3.m3.1a"><mi id="S5.p2.3.m3.1.1" xref="S5.p2.3.m3.1.1.cmml">γ</mi><annotation-xml encoding="MathML-Content" id="S5.p2.3.m3.1b"><ci id="S5.p2.3.m3.1.1.cmml" xref="S5.p2.3.m3.1.1">𝛾</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.p2.3.m3.1c">\gamma</annotation><annotation encoding="application/x-llamapun" id="S5.p2.3.m3.1d">italic_γ</annotation></semantics></math> is relative to the pixel intensity scale of 255.</p>
</div>
<div id="S5.p3" class="ltx_para">
<p id="S5.p3.1" class="ltx_p">To assess the effectiveness of defense strategies, we use two metrics: <span id="S5.p3.1.1" class="ltx_text ltx_font_italic">standard accuracy</span> and <span id="S5.p3.1.2" class="ltx_text ltx_font_italic">robust accuracy</span>. The standard accuracy evaluates the defense method’s performance on clean data over the whole test set in each dataset. The robust accuracy metric assesses how well the defense method performs on adversarial examples.</p>
</div>
<div id="S5.p4" class="ltx_para">
<p id="S5.p4.1" class="ltx_p">As shown in the Figure <a href="#S4.F4" title="Figure 4 ‣ 4.2 Guided DDPM ‣ 4 Methodology ‣ Guided Diffusion Model for Adversarial Purification" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>, adding guidance can still maintain the classification accuracy when the number of steps increases and has an obvious increase compared to unguided results. Meanwhile, purifying the adversarial images multiple times is shown to be better than just running for one iteration according to Figure <a href="#S4.F4" title="Figure 4 ‣ 4.2 Guided DDPM ‣ 4 Methodology ‣ Guided Diffusion Model for Adversarial Purification" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>.
</p>
</div>
<figure id="S5.T1" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 1: </span>CIFAR-10 results for Preprocessor-blind attacks. The PGD attacks to the classifier is performed at <math id="S5.T1.6.m1.1" class="ltx_Math" alttext="\ell_{\infty}\gamma" display="inline"><semantics id="S5.T1.6.m1.1b"><mrow id="S5.T1.6.m1.1.1" xref="S5.T1.6.m1.1.1.cmml"><msub id="S5.T1.6.m1.1.1.2" xref="S5.T1.6.m1.1.1.2.cmml"><mi mathvariant="normal" id="S5.T1.6.m1.1.1.2.2" xref="S5.T1.6.m1.1.1.2.2.cmml">ℓ</mi><mi mathvariant="normal" id="S5.T1.6.m1.1.1.2.3" xref="S5.T1.6.m1.1.1.2.3.cmml">∞</mi></msub><mo id="S5.T1.6.m1.1.1.1" xref="S5.T1.6.m1.1.1.1.cmml">⁢</mo><mi id="S5.T1.6.m1.1.1.3" xref="S5.T1.6.m1.1.1.3.cmml">γ</mi></mrow><annotation-xml encoding="MathML-Content" id="S5.T1.6.m1.1c"><apply id="S5.T1.6.m1.1.1.cmml" xref="S5.T1.6.m1.1.1"><times id="S5.T1.6.m1.1.1.1.cmml" xref="S5.T1.6.m1.1.1.1"></times><apply id="S5.T1.6.m1.1.1.2.cmml" xref="S5.T1.6.m1.1.1.2"><csymbol cd="ambiguous" id="S5.T1.6.m1.1.1.2.1.cmml" xref="S5.T1.6.m1.1.1.2">subscript</csymbol><ci id="S5.T1.6.m1.1.1.2.2.cmml" xref="S5.T1.6.m1.1.1.2.2">ℓ</ci><infinity id="S5.T1.6.m1.1.1.2.3.cmml" xref="S5.T1.6.m1.1.1.2.3"></infinity></apply><ci id="S5.T1.6.m1.1.1.3.cmml" xref="S5.T1.6.m1.1.1.3">𝛾</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T1.6.m1.1d">\ell_{\infty}\gamma</annotation><annotation encoding="application/x-llamapun" id="S5.T1.6.m1.1e">roman_ℓ start_POSTSUBSCRIPT ∞ end_POSTSUBSCRIPT italic_γ</annotation></semantics></math>-ball with <math id="S5.T1.7.m2.1" class="ltx_Math" alttext="\gamma" display="inline"><semantics id="S5.T1.7.m2.1b"><mi id="S5.T1.7.m2.1.1" xref="S5.T1.7.m2.1.1.cmml">γ</mi><annotation-xml encoding="MathML-Content" id="S5.T1.7.m2.1c"><ci id="S5.T1.7.m2.1.1.cmml" xref="S5.T1.7.m2.1.1">𝛾</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.T1.7.m2.1d">\gamma</annotation><annotation encoding="application/x-llamapun" id="S5.T1.7.m2.1e">italic_γ</annotation></semantics></math>= 8/255. The diffusion length <math id="S5.T1.8.m3.1" class="ltx_Math" alttext="T_{c}=36" display="inline"><semantics id="S5.T1.8.m3.1b"><mrow id="S5.T1.8.m3.1.1" xref="S5.T1.8.m3.1.1.cmml"><msub id="S5.T1.8.m3.1.1.2" xref="S5.T1.8.m3.1.1.2.cmml"><mi id="S5.T1.8.m3.1.1.2.2" xref="S5.T1.8.m3.1.1.2.2.cmml">T</mi><mi id="S5.T1.8.m3.1.1.2.3" xref="S5.T1.8.m3.1.1.2.3.cmml">c</mi></msub><mo id="S5.T1.8.m3.1.1.1" xref="S5.T1.8.m3.1.1.1.cmml">=</mo><mn id="S5.T1.8.m3.1.1.3" xref="S5.T1.8.m3.1.1.3.cmml">36</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.T1.8.m3.1c"><apply id="S5.T1.8.m3.1.1.cmml" xref="S5.T1.8.m3.1.1"><eq id="S5.T1.8.m3.1.1.1.cmml" xref="S5.T1.8.m3.1.1.1"></eq><apply id="S5.T1.8.m3.1.1.2.cmml" xref="S5.T1.8.m3.1.1.2"><csymbol cd="ambiguous" id="S5.T1.8.m3.1.1.2.1.cmml" xref="S5.T1.8.m3.1.1.2">subscript</csymbol><ci id="S5.T1.8.m3.1.1.2.2.cmml" xref="S5.T1.8.m3.1.1.2.2">𝑇</ci><ci id="S5.T1.8.m3.1.1.2.3.cmml" xref="S5.T1.8.m3.1.1.2.3">𝑐</ci></apply><cn type="integer" id="S5.T1.8.m3.1.1.3.cmml" xref="S5.T1.8.m3.1.1.3">36</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T1.8.m3.1d">T_{c}=36</annotation><annotation encoding="application/x-llamapun" id="S5.T1.8.m3.1e">italic_T start_POSTSUBSCRIPT italic_c end_POSTSUBSCRIPT = 36</annotation></semantics></math> and the iteration number <math id="S5.T1.9.m4.1" class="ltx_Math" alttext="M=4" display="inline"><semantics id="S5.T1.9.m4.1b"><mrow id="S5.T1.9.m4.1.1" xref="S5.T1.9.m4.1.1.cmml"><mi id="S5.T1.9.m4.1.1.2" xref="S5.T1.9.m4.1.1.2.cmml">M</mi><mo id="S5.T1.9.m4.1.1.1" xref="S5.T1.9.m4.1.1.1.cmml">=</mo><mn id="S5.T1.9.m4.1.1.3" xref="S5.T1.9.m4.1.1.3.cmml">4</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.T1.9.m4.1c"><apply id="S5.T1.9.m4.1.1.cmml" xref="S5.T1.9.m4.1.1"><eq id="S5.T1.9.m4.1.1.1.cmml" xref="S5.T1.9.m4.1.1.1"></eq><ci id="S5.T1.9.m4.1.1.2.cmml" xref="S5.T1.9.m4.1.1.2">𝑀</ci><cn type="integer" id="S5.T1.9.m4.1.1.3.cmml" xref="S5.T1.9.m4.1.1.3">4</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T1.9.m4.1d">M=4</annotation><annotation encoding="application/x-llamapun" id="S5.T1.9.m4.1e">italic_M = 4</annotation></semantics></math>. The results borrowed from the references are marked with <math id="S5.T1.10.m5.1" class="ltx_Math" alttext="\ast" display="inline"><semantics id="S5.T1.10.m5.1b"><mo id="S5.T1.10.m5.1.1" xref="S5.T1.10.m5.1.1.cmml">∗</mo><annotation-xml encoding="MathML-Content" id="S5.T1.10.m5.1c"><ci id="S5.T1.10.m5.1.1.cmml" xref="S5.T1.10.m5.1.1">∗</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.T1.10.m5.1d">\ast</annotation><annotation encoding="application/x-llamapun" id="S5.T1.10.m5.1e">∗</annotation></semantics></math>.</figcaption>
<table id="S5.T1.20" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<tbody class="ltx_tbody">
<tr id="S5.T1.20.11.1" class="ltx_tr">
<th id="S5.T1.20.11.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_t" rowspan="2">
<span id="S5.T1.20.11.1.1.1" class="ltx_text">Models</span></th>
<td id="S5.T1.20.11.1.2" class="ltx_td ltx_align_left ltx_border_t" colspan="2">Accuracy(%)</td>
<td id="S5.T1.20.11.1.3" class="ltx_td ltx_align_left ltx_border_t" rowspan="2"><span id="S5.T1.20.11.1.3.1" class="ltx_text">Architrcture</span></td>
</tr>
<tr id="S5.T1.20.12.2" class="ltx_tr">
<td id="S5.T1.20.12.2.1" class="ltx_td ltx_align_left">Standard</td>
<td id="S5.T1.20.12.2.2" class="ltx_td ltx_align_left">Robust</td>
</tr>
<tr id="S5.T1.20.13.3" class="ltx_tr">
<th id="S5.T1.20.13.3.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t"><span id="S5.T1.20.13.3.1.1" class="ltx_text ltx_font_bold">Raw WideResNet</span></th>
<td id="S5.T1.20.13.3.2" class="ltx_td ltx_align_left ltx_border_t">95.10</td>
<td id="S5.T1.20.13.3.3" class="ltx_td ltx_align_left ltx_border_t">0.00</td>
<td id="S5.T1.20.13.3.4" class="ltx_td ltx_align_left ltx_border_t">WRN-28-10</td>
</tr>
<tr id="S5.T1.20.14.4" class="ltx_tr">
<th id="S5.T1.20.14.4.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">GDMP(Witout Guidance)</th>
<td id="S5.T1.20.14.4.2" class="ltx_td ltx_align_left">93.5</td>
<td id="S5.T1.20.14.4.3" class="ltx_td ltx_align_left">88.74</td>
<td id="S5.T1.20.14.4.4" class="ltx_td ltx_align_left">WRN-28-10</td>
</tr>
<tr id="S5.T1.20.15.5" class="ltx_tr">
<th id="S5.T1.20.15.5.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">GDMP(Guidance metric: SSIM)</th>
<td id="S5.T1.20.15.5.2" class="ltx_td ltx_align_left">93.5</td>
<td id="S5.T1.20.15.5.3" class="ltx_td ltx_align_left"><span id="S5.T1.20.15.5.3.1" class="ltx_text ltx_font_bold">90.10</span></td>
<td id="S5.T1.20.15.5.4" class="ltx_td ltx_align_left">WRN-28-10</td>
</tr>
<tr id="S5.T1.20.16.6" class="ltx_tr">
<th id="S5.T1.20.16.6.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">GDMP(Guidance metric: MSE)</th>
<td id="S5.T1.20.16.6.2" class="ltx_td ltx_align_left">93.5</td>
<td id="S5.T1.20.16.6.3" class="ltx_td ltx_align_left"><span id="S5.T1.20.16.6.3.1" class="ltx_text ltx_font_bold">90.06</span></td>
<td id="S5.T1.20.16.6.4" class="ltx_td ltx_align_left">WRN-28-10</td>
</tr>
<tr id="S5.T1.20.17.7" class="ltx_tr">
<th id="S5.T1.20.17.7.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" colspan="4">Adversarial purication models</th>
</tr>
<tr id="S5.T1.11.1" class="ltx_tr">
<th id="S5.T1.11.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">
<cite class="ltx_cite ltx_citemacro_citet">Yoon et al. (<a href="#bib.bib38" title="" class="ltx_ref">2021</a>)</cite> <math id="S5.T1.11.1.1.m1.1" class="ltx_Math" alttext="{}^{\ast}" display="inline"><semantics id="S5.T1.11.1.1.m1.1a"><msup id="S5.T1.11.1.1.m1.1.1" xref="S5.T1.11.1.1.m1.1.1.cmml"><mi id="S5.T1.11.1.1.m1.1.1a" xref="S5.T1.11.1.1.m1.1.1.cmml"></mi><mo id="S5.T1.11.1.1.m1.1.1.1" xref="S5.T1.11.1.1.m1.1.1.1.cmml">∗</mo></msup><annotation-xml encoding="MathML-Content" id="S5.T1.11.1.1.m1.1b"><apply id="S5.T1.11.1.1.m1.1.1.cmml" xref="S5.T1.11.1.1.m1.1.1"><ci id="S5.T1.11.1.1.m1.1.1.1.cmml" xref="S5.T1.11.1.1.m1.1.1.1">∗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T1.11.1.1.m1.1c">{}^{\ast}</annotation><annotation encoding="application/x-llamapun" id="S5.T1.11.1.1.m1.1d">start_FLOATSUPERSCRIPT ∗ end_FLOATSUPERSCRIPT</annotation></semantics></math>
</th>
<td id="S5.T1.11.1.2" class="ltx_td"></td>
<td id="S5.T1.11.1.3" class="ltx_td"></td>
<td id="S5.T1.11.1.4" class="ltx_td"></td>
</tr>
<tr id="S5.T1.12.2" class="ltx_tr">
<th id="S5.T1.12.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">    ADP(<math id="S5.T1.12.2.1.m1.1" class="ltx_Math" alttext="\sigma" display="inline"><semantics id="S5.T1.12.2.1.m1.1a"><mi id="S5.T1.12.2.1.m1.1.1" xref="S5.T1.12.2.1.m1.1.1.cmml">σ</mi><annotation-xml encoding="MathML-Content" id="S5.T1.12.2.1.m1.1b"><ci id="S5.T1.12.2.1.m1.1.1.cmml" xref="S5.T1.12.2.1.m1.1.1">𝜎</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.T1.12.2.1.m1.1c">\sigma</annotation><annotation encoding="application/x-llamapun" id="S5.T1.12.2.1.m1.1d">italic_σ</annotation></semantics></math> = 0.1)</th>
<td id="S5.T1.12.2.2" class="ltx_td ltx_align_left">93.09</td>
<td id="S5.T1.12.2.3" class="ltx_td ltx_align_left">85.45</td>
<td id="S5.T1.12.2.4" class="ltx_td ltx_align_left">WRN-28-10</td>
</tr>
<tr id="S5.T1.13.3" class="ltx_tr">
<th id="S5.T1.13.3.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">    ADP(<math id="S5.T1.13.3.1.m1.1" class="ltx_Math" alttext="\sigma" display="inline"><semantics id="S5.T1.13.3.1.m1.1a"><mi id="S5.T1.13.3.1.m1.1.1" xref="S5.T1.13.3.1.m1.1.1.cmml">σ</mi><annotation-xml encoding="MathML-Content" id="S5.T1.13.3.1.m1.1b"><ci id="S5.T1.13.3.1.m1.1.1.cmml" xref="S5.T1.13.3.1.m1.1.1">𝜎</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.T1.13.3.1.m1.1c">\sigma</annotation><annotation encoding="application/x-llamapun" id="S5.T1.13.3.1.m1.1d">italic_σ</annotation></semantics></math> = 0.25)</th>
<td id="S5.T1.13.3.2" class="ltx_td ltx_align_left">86.14</td>
<td id="S5.T1.13.3.3" class="ltx_td ltx_align_left">80.24</td>
<td id="S5.T1.13.3.4" class="ltx_td ltx_align_left">WRN-28-10</td>
</tr>
<tr id="S5.T1.14.4" class="ltx_tr">
<th id="S5.T1.14.4.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">
<cite class="ltx_cite ltx_citemacro_citet">Hill et al. (<a href="#bib.bib15" title="" class="ltx_ref">2021</a>)</cite> <math id="S5.T1.14.4.1.m1.1" class="ltx_Math" alttext="{}^{\ast}" display="inline"><semantics id="S5.T1.14.4.1.m1.1a"><msup id="S5.T1.14.4.1.m1.1.1" xref="S5.T1.14.4.1.m1.1.1.cmml"><mi id="S5.T1.14.4.1.m1.1.1a" xref="S5.T1.14.4.1.m1.1.1.cmml"></mi><mo id="S5.T1.14.4.1.m1.1.1.1" xref="S5.T1.14.4.1.m1.1.1.1.cmml">∗</mo></msup><annotation-xml encoding="MathML-Content" id="S5.T1.14.4.1.m1.1b"><apply id="S5.T1.14.4.1.m1.1.1.cmml" xref="S5.T1.14.4.1.m1.1.1"><ci id="S5.T1.14.4.1.m1.1.1.1.cmml" xref="S5.T1.14.4.1.m1.1.1.1">∗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T1.14.4.1.m1.1c">{}^{\ast}</annotation><annotation encoding="application/x-llamapun" id="S5.T1.14.4.1.m1.1d">start_FLOATSUPERSCRIPT ∗ end_FLOATSUPERSCRIPT</annotation></semantics></math>
</th>
<td id="S5.T1.14.4.2" class="ltx_td ltx_align_left">84.12</td>
<td id="S5.T1.14.4.3" class="ltx_td ltx_align_left">78.91</td>
<td id="S5.T1.14.4.4" class="ltx_td ltx_align_left">WRN-28-10</td>
</tr>
<tr id="S5.T1.15.5" class="ltx_tr">
<th id="S5.T1.15.5.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">
<cite class="ltx_cite ltx_citemacro_citet">Shi et al. (<a href="#bib.bib26" title="" class="ltx_ref">2021</a>)</cite> <math id="S5.T1.15.5.1.m1.1" class="ltx_Math" alttext="{}^{\ast}" display="inline"><semantics id="S5.T1.15.5.1.m1.1a"><msup id="S5.T1.15.5.1.m1.1.1" xref="S5.T1.15.5.1.m1.1.1.cmml"><mi id="S5.T1.15.5.1.m1.1.1a" xref="S5.T1.15.5.1.m1.1.1.cmml"></mi><mo id="S5.T1.15.5.1.m1.1.1.1" xref="S5.T1.15.5.1.m1.1.1.1.cmml">∗</mo></msup><annotation-xml encoding="MathML-Content" id="S5.T1.15.5.1.m1.1b"><apply id="S5.T1.15.5.1.m1.1.1.cmml" xref="S5.T1.15.5.1.m1.1.1"><ci id="S5.T1.15.5.1.m1.1.1.1.cmml" xref="S5.T1.15.5.1.m1.1.1.1">∗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T1.15.5.1.m1.1c">{}^{\ast}</annotation><annotation encoding="application/x-llamapun" id="S5.T1.15.5.1.m1.1d">start_FLOATSUPERSCRIPT ∗ end_FLOATSUPERSCRIPT</annotation></semantics></math>
</th>
<td id="S5.T1.15.5.2" class="ltx_td ltx_align_left">96.93</td>
<td id="S5.T1.15.5.3" class="ltx_td ltx_align_left">63.10</td>
<td id="S5.T1.15.5.4" class="ltx_td ltx_align_left">WRN-28-10</td>
</tr>
<tr id="S5.T1.16.6" class="ltx_tr">
<th id="S5.T1.16.6.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">
<cite class="ltx_cite ltx_citemacro_citet">Du &amp; Mordatch (<a href="#bib.bib8" title="" class="ltx_ref">2019</a>)</cite> <math id="S5.T1.16.6.1.m1.1" class="ltx_Math" alttext="{}^{\ast}" display="inline"><semantics id="S5.T1.16.6.1.m1.1a"><msup id="S5.T1.16.6.1.m1.1.1" xref="S5.T1.16.6.1.m1.1.1.cmml"><mi id="S5.T1.16.6.1.m1.1.1a" xref="S5.T1.16.6.1.m1.1.1.cmml"></mi><mo id="S5.T1.16.6.1.m1.1.1.1" xref="S5.T1.16.6.1.m1.1.1.1.cmml">∗</mo></msup><annotation-xml encoding="MathML-Content" id="S5.T1.16.6.1.m1.1b"><apply id="S5.T1.16.6.1.m1.1.1.cmml" xref="S5.T1.16.6.1.m1.1.1"><ci id="S5.T1.16.6.1.m1.1.1.1.cmml" xref="S5.T1.16.6.1.m1.1.1.1">∗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T1.16.6.1.m1.1c">{}^{\ast}</annotation><annotation encoding="application/x-llamapun" id="S5.T1.16.6.1.m1.1d">start_FLOATSUPERSCRIPT ∗ end_FLOATSUPERSCRIPT</annotation></semantics></math>
</th>
<td id="S5.T1.16.6.2" class="ltx_td ltx_align_left">48.7</td>
<td id="S5.T1.16.6.3" class="ltx_td ltx_align_left">37.5</td>
<td id="S5.T1.16.6.4" class="ltx_td ltx_align_left">WRN-28-10</td>
</tr>
<tr id="S5.T1.17.7" class="ltx_tr">
<th id="S5.T1.17.7.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">
<cite class="ltx_cite ltx_citemacro_citet">Grathwohl et al. (<a href="#bib.bib12" title="" class="ltx_ref">2020</a>)</cite> <math id="S5.T1.17.7.1.m1.1" class="ltx_Math" alttext="{}^{\ast}" display="inline"><semantics id="S5.T1.17.7.1.m1.1a"><msup id="S5.T1.17.7.1.m1.1.1" xref="S5.T1.17.7.1.m1.1.1.cmml"><mi id="S5.T1.17.7.1.m1.1.1a" xref="S5.T1.17.7.1.m1.1.1.cmml"></mi><mo id="S5.T1.17.7.1.m1.1.1.1" xref="S5.T1.17.7.1.m1.1.1.1.cmml">∗</mo></msup><annotation-xml encoding="MathML-Content" id="S5.T1.17.7.1.m1.1b"><apply id="S5.T1.17.7.1.m1.1.1.cmml" xref="S5.T1.17.7.1.m1.1.1"><ci id="S5.T1.17.7.1.m1.1.1.1.cmml" xref="S5.T1.17.7.1.m1.1.1.1">∗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T1.17.7.1.m1.1c">{}^{\ast}</annotation><annotation encoding="application/x-llamapun" id="S5.T1.17.7.1.m1.1d">start_FLOATSUPERSCRIPT ∗ end_FLOATSUPERSCRIPT</annotation></semantics></math>
</th>
<td id="S5.T1.17.7.2" class="ltx_td ltx_align_left">75.5</td>
<td id="S5.T1.17.7.3" class="ltx_td ltx_align_left">23.8</td>
<td id="S5.T1.17.7.4" class="ltx_td ltx_align_left">WRN-28-10</td>
</tr>
<tr id="S5.T1.18.8" class="ltx_tr">
<th id="S5.T1.18.8.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">
<cite class="ltx_cite ltx_citemacro_citet">Song et al. (<a href="#bib.bib30" title="" class="ltx_ref">2018</a>)</cite> <math id="S5.T1.18.8.1.m1.1" class="ltx_Math" alttext="{}^{\ast}" display="inline"><semantics id="S5.T1.18.8.1.m1.1a"><msup id="S5.T1.18.8.1.m1.1.1" xref="S5.T1.18.8.1.m1.1.1.cmml"><mi id="S5.T1.18.8.1.m1.1.1a" xref="S5.T1.18.8.1.m1.1.1.cmml"></mi><mo id="S5.T1.18.8.1.m1.1.1.1" xref="S5.T1.18.8.1.m1.1.1.1.cmml">∗</mo></msup><annotation-xml encoding="MathML-Content" id="S5.T1.18.8.1.m1.1b"><apply id="S5.T1.18.8.1.m1.1.1.cmml" xref="S5.T1.18.8.1.m1.1.1"><ci id="S5.T1.18.8.1.m1.1.1.1.cmml" xref="S5.T1.18.8.1.m1.1.1.1">∗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T1.18.8.1.m1.1c">{}^{\ast}</annotation><annotation encoding="application/x-llamapun" id="S5.T1.18.8.1.m1.1d">start_FLOATSUPERSCRIPT ∗ end_FLOATSUPERSCRIPT</annotation></semantics></math>
</th>
<td id="S5.T1.18.8.2" class="ltx_td"></td>
<td id="S5.T1.18.8.3" class="ltx_td"></td>
<td id="S5.T1.18.8.4" class="ltx_td"></td>
</tr>
<tr id="S5.T1.20.18.8" class="ltx_tr">
<th id="S5.T1.20.18.8.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">    Natural + PixelCNN</th>
<td id="S5.T1.20.18.8.2" class="ltx_td ltx_align_left">82</td>
<td id="S5.T1.20.18.8.3" class="ltx_td ltx_align_left">61</td>
<td id="S5.T1.20.18.8.4" class="ltx_td ltx_align_left">ResNet-62</td>
</tr>
<tr id="S5.T1.20.19.9" class="ltx_tr">
<th id="S5.T1.20.19.9.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">    AT + PixelCNN</th>
<td id="S5.T1.20.19.9.2" class="ltx_td ltx_align_left">90</td>
<td id="S5.T1.20.19.9.3" class="ltx_td ltx_align_left">70</td>
<td id="S5.T1.20.19.9.4" class="ltx_td ltx_align_left">ResNet-62</td>
</tr>
<tr id="S5.T1.20.20.10" class="ltx_tr">
<th id="S5.T1.20.20.10.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" colspan="4">Adversarial training methods, transfer-based</th>
</tr>
<tr id="S5.T1.19.9" class="ltx_tr">
<th id="S5.T1.19.9.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">
<cite class="ltx_cite ltx_citemacro_citet">Madry et al. (<a href="#bib.bib21" title="" class="ltx_ref">2018</a>)</cite> <math id="S5.T1.19.9.1.m1.1" class="ltx_Math" alttext="{}^{\ast}" display="inline"><semantics id="S5.T1.19.9.1.m1.1a"><msup id="S5.T1.19.9.1.m1.1.1" xref="S5.T1.19.9.1.m1.1.1.cmml"><mi id="S5.T1.19.9.1.m1.1.1a" xref="S5.T1.19.9.1.m1.1.1.cmml"></mi><mo id="S5.T1.19.9.1.m1.1.1.1" xref="S5.T1.19.9.1.m1.1.1.1.cmml">∗</mo></msup><annotation-xml encoding="MathML-Content" id="S5.T1.19.9.1.m1.1b"><apply id="S5.T1.19.9.1.m1.1.1.cmml" xref="S5.T1.19.9.1.m1.1.1"><ci id="S5.T1.19.9.1.m1.1.1.1.cmml" xref="S5.T1.19.9.1.m1.1.1.1">∗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T1.19.9.1.m1.1c">{}^{\ast}</annotation><annotation encoding="application/x-llamapun" id="S5.T1.19.9.1.m1.1d">start_FLOATSUPERSCRIPT ∗ end_FLOATSUPERSCRIPT</annotation></semantics></math>
</th>
<td id="S5.T1.19.9.2" class="ltx_td ltx_align_left">87.3</td>
<td id="S5.T1.19.9.3" class="ltx_td ltx_align_left">70.2</td>
<td id="S5.T1.19.9.4" class="ltx_td ltx_align_left">ResNet-56</td>
</tr>
<tr id="S5.T1.20.10" class="ltx_tr">
<th id="S5.T1.20.10.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_b">
<cite class="ltx_cite ltx_citemacro_citet">Zhang et al. (<a href="#bib.bib40" title="" class="ltx_ref">2019</a>)</cite> <math id="S5.T1.20.10.1.m1.1" class="ltx_Math" alttext="{}^{\ast}" display="inline"><semantics id="S5.T1.20.10.1.m1.1a"><msup id="S5.T1.20.10.1.m1.1.1" xref="S5.T1.20.10.1.m1.1.1.cmml"><mi id="S5.T1.20.10.1.m1.1.1a" xref="S5.T1.20.10.1.m1.1.1.cmml"></mi><mo id="S5.T1.20.10.1.m1.1.1.1" xref="S5.T1.20.10.1.m1.1.1.1.cmml">∗</mo></msup><annotation-xml encoding="MathML-Content" id="S5.T1.20.10.1.m1.1b"><apply id="S5.T1.20.10.1.m1.1.1.cmml" xref="S5.T1.20.10.1.m1.1.1"><ci id="S5.T1.20.10.1.m1.1.1.1.cmml" xref="S5.T1.20.10.1.m1.1.1.1">∗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T1.20.10.1.m1.1c">{}^{\ast}</annotation><annotation encoding="application/x-llamapun" id="S5.T1.20.10.1.m1.1d">start_FLOATSUPERSCRIPT ∗ end_FLOATSUPERSCRIPT</annotation></semantics></math>
</th>
<td id="S5.T1.20.10.2" class="ltx_td ltx_align_left ltx_border_b">84.9</td>
<td id="S5.T1.20.10.3" class="ltx_td ltx_align_left ltx_border_b">72.2</td>
<td id="S5.T1.20.10.4" class="ltx_td ltx_align_left ltx_border_b">ResNet-56</td>
</tr>
</tbody>
</table>
</figure>
<section id="S5.SS0.SSS0.Px1" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Precessor-blind attack on CIFAR10 dataset.</h4>

<div id="S5.SS0.SSS0.Px1.p1" class="ltx_para">
<p id="S5.SS0.SSS0.Px1.p1.5" class="ltx_p">We first evaluate our defense method on adversarial images from PGD attack with standard classifier. The attacker has full access to the classifier but not the purification model. For this experiment, the classifier network is a 28*10 Wide ResNet (<cite class="ltx_cite ltx_citemacro_citet">Zagoruyko &amp; Komodakis (<a href="#bib.bib39" title="" class="ltx_ref">2016</a>)</cite> ) Classifier, having 36.5M parameters. Moreover, the diffusion model we choose in the CIFAR10 dataset is <cite class="ltx_cite ltx_citemacro_citet">Ho et al. (<a href="#bib.bib16" title="" class="ltx_ref">2020a</a>)</cite>’s pre-trained model.
In the diffusion process, we define hyperparameters <math id="S5.SS0.SSS0.Px1.p1.1.m1.1" class="ltx_Math" alttext="\beta_{t}" display="inline"><semantics id="S5.SS0.SSS0.Px1.p1.1.m1.1a"><msub id="S5.SS0.SSS0.Px1.p1.1.m1.1.1" xref="S5.SS0.SSS0.Px1.p1.1.m1.1.1.cmml"><mi id="S5.SS0.SSS0.Px1.p1.1.m1.1.1.2" xref="S5.SS0.SSS0.Px1.p1.1.m1.1.1.2.cmml">β</mi><mi id="S5.SS0.SSS0.Px1.p1.1.m1.1.1.3" xref="S5.SS0.SSS0.Px1.p1.1.m1.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S5.SS0.SSS0.Px1.p1.1.m1.1b"><apply id="S5.SS0.SSS0.Px1.p1.1.m1.1.1.cmml" xref="S5.SS0.SSS0.Px1.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S5.SS0.SSS0.Px1.p1.1.m1.1.1.1.cmml" xref="S5.SS0.SSS0.Px1.p1.1.m1.1.1">subscript</csymbol><ci id="S5.SS0.SSS0.Px1.p1.1.m1.1.1.2.cmml" xref="S5.SS0.SSS0.Px1.p1.1.m1.1.1.2">𝛽</ci><ci id="S5.SS0.SSS0.Px1.p1.1.m1.1.1.3.cmml" xref="S5.SS0.SSS0.Px1.p1.1.m1.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS0.SSS0.Px1.p1.1.m1.1c">\beta_{t}</annotation><annotation encoding="application/x-llamapun" id="S5.SS0.SSS0.Px1.p1.1.m1.1d">italic_β start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math> according to a linear schedule. We let <math id="S5.SS0.SSS0.Px1.p1.2.m2.1" class="ltx_Math" alttext="\beta_{1}=1\times 10^{-4}" display="inline"><semantics id="S5.SS0.SSS0.Px1.p1.2.m2.1a"><mrow id="S5.SS0.SSS0.Px1.p1.2.m2.1.1" xref="S5.SS0.SSS0.Px1.p1.2.m2.1.1.cmml"><msub id="S5.SS0.SSS0.Px1.p1.2.m2.1.1.2" xref="S5.SS0.SSS0.Px1.p1.2.m2.1.1.2.cmml"><mi id="S5.SS0.SSS0.Px1.p1.2.m2.1.1.2.2" xref="S5.SS0.SSS0.Px1.p1.2.m2.1.1.2.2.cmml">β</mi><mn id="S5.SS0.SSS0.Px1.p1.2.m2.1.1.2.3" xref="S5.SS0.SSS0.Px1.p1.2.m2.1.1.2.3.cmml">1</mn></msub><mo id="S5.SS0.SSS0.Px1.p1.2.m2.1.1.1" xref="S5.SS0.SSS0.Px1.p1.2.m2.1.1.1.cmml">=</mo><mrow id="S5.SS0.SSS0.Px1.p1.2.m2.1.1.3" xref="S5.SS0.SSS0.Px1.p1.2.m2.1.1.3.cmml"><mn id="S5.SS0.SSS0.Px1.p1.2.m2.1.1.3.2" xref="S5.SS0.SSS0.Px1.p1.2.m2.1.1.3.2.cmml">1</mn><mo lspace="0.222em" rspace="0.222em" id="S5.SS0.SSS0.Px1.p1.2.m2.1.1.3.1" xref="S5.SS0.SSS0.Px1.p1.2.m2.1.1.3.1.cmml">×</mo><msup id="S5.SS0.SSS0.Px1.p1.2.m2.1.1.3.3" xref="S5.SS0.SSS0.Px1.p1.2.m2.1.1.3.3.cmml"><mn id="S5.SS0.SSS0.Px1.p1.2.m2.1.1.3.3.2" xref="S5.SS0.SSS0.Px1.p1.2.m2.1.1.3.3.2.cmml">10</mn><mrow id="S5.SS0.SSS0.Px1.p1.2.m2.1.1.3.3.3" xref="S5.SS0.SSS0.Px1.p1.2.m2.1.1.3.3.3.cmml"><mo id="S5.SS0.SSS0.Px1.p1.2.m2.1.1.3.3.3a" xref="S5.SS0.SSS0.Px1.p1.2.m2.1.1.3.3.3.cmml">−</mo><mn id="S5.SS0.SSS0.Px1.p1.2.m2.1.1.3.3.3.2" xref="S5.SS0.SSS0.Px1.p1.2.m2.1.1.3.3.3.2.cmml">4</mn></mrow></msup></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.SS0.SSS0.Px1.p1.2.m2.1b"><apply id="S5.SS0.SSS0.Px1.p1.2.m2.1.1.cmml" xref="S5.SS0.SSS0.Px1.p1.2.m2.1.1"><eq id="S5.SS0.SSS0.Px1.p1.2.m2.1.1.1.cmml" xref="S5.SS0.SSS0.Px1.p1.2.m2.1.1.1"></eq><apply id="S5.SS0.SSS0.Px1.p1.2.m2.1.1.2.cmml" xref="S5.SS0.SSS0.Px1.p1.2.m2.1.1.2"><csymbol cd="ambiguous" id="S5.SS0.SSS0.Px1.p1.2.m2.1.1.2.1.cmml" xref="S5.SS0.SSS0.Px1.p1.2.m2.1.1.2">subscript</csymbol><ci id="S5.SS0.SSS0.Px1.p1.2.m2.1.1.2.2.cmml" xref="S5.SS0.SSS0.Px1.p1.2.m2.1.1.2.2">𝛽</ci><cn type="integer" id="S5.SS0.SSS0.Px1.p1.2.m2.1.1.2.3.cmml" xref="S5.SS0.SSS0.Px1.p1.2.m2.1.1.2.3">1</cn></apply><apply id="S5.SS0.SSS0.Px1.p1.2.m2.1.1.3.cmml" xref="S5.SS0.SSS0.Px1.p1.2.m2.1.1.3"><times id="S5.SS0.SSS0.Px1.p1.2.m2.1.1.3.1.cmml" xref="S5.SS0.SSS0.Px1.p1.2.m2.1.1.3.1"></times><cn type="integer" id="S5.SS0.SSS0.Px1.p1.2.m2.1.1.3.2.cmml" xref="S5.SS0.SSS0.Px1.p1.2.m2.1.1.3.2">1</cn><apply id="S5.SS0.SSS0.Px1.p1.2.m2.1.1.3.3.cmml" xref="S5.SS0.SSS0.Px1.p1.2.m2.1.1.3.3"><csymbol cd="ambiguous" id="S5.SS0.SSS0.Px1.p1.2.m2.1.1.3.3.1.cmml" xref="S5.SS0.SSS0.Px1.p1.2.m2.1.1.3.3">superscript</csymbol><cn type="integer" id="S5.SS0.SSS0.Px1.p1.2.m2.1.1.3.3.2.cmml" xref="S5.SS0.SSS0.Px1.p1.2.m2.1.1.3.3.2">10</cn><apply id="S5.SS0.SSS0.Px1.p1.2.m2.1.1.3.3.3.cmml" xref="S5.SS0.SSS0.Px1.p1.2.m2.1.1.3.3.3"><minus id="S5.SS0.SSS0.Px1.p1.2.m2.1.1.3.3.3.1.cmml" xref="S5.SS0.SSS0.Px1.p1.2.m2.1.1.3.3.3"></minus><cn type="integer" id="S5.SS0.SSS0.Px1.p1.2.m2.1.1.3.3.3.2.cmml" xref="S5.SS0.SSS0.Px1.p1.2.m2.1.1.3.3.3.2">4</cn></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS0.SSS0.Px1.p1.2.m2.1c">\beta_{1}=1\times 10^{-4}</annotation><annotation encoding="application/x-llamapun" id="S5.SS0.SSS0.Px1.p1.2.m2.1d">italic_β start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT = 1 × 10 start_POSTSUPERSCRIPT - 4 end_POSTSUPERSCRIPT</annotation></semantics></math> and <math id="S5.SS0.SSS0.Px1.p1.3.m3.1" class="ltx_Math" alttext="\beta_{T}=2\times 10^{-2}" display="inline"><semantics id="S5.SS0.SSS0.Px1.p1.3.m3.1a"><mrow id="S5.SS0.SSS0.Px1.p1.3.m3.1.1" xref="S5.SS0.SSS0.Px1.p1.3.m3.1.1.cmml"><msub id="S5.SS0.SSS0.Px1.p1.3.m3.1.1.2" xref="S5.SS0.SSS0.Px1.p1.3.m3.1.1.2.cmml"><mi id="S5.SS0.SSS0.Px1.p1.3.m3.1.1.2.2" xref="S5.SS0.SSS0.Px1.p1.3.m3.1.1.2.2.cmml">β</mi><mi id="S5.SS0.SSS0.Px1.p1.3.m3.1.1.2.3" xref="S5.SS0.SSS0.Px1.p1.3.m3.1.1.2.3.cmml">T</mi></msub><mo id="S5.SS0.SSS0.Px1.p1.3.m3.1.1.1" xref="S5.SS0.SSS0.Px1.p1.3.m3.1.1.1.cmml">=</mo><mrow id="S5.SS0.SSS0.Px1.p1.3.m3.1.1.3" xref="S5.SS0.SSS0.Px1.p1.3.m3.1.1.3.cmml"><mn id="S5.SS0.SSS0.Px1.p1.3.m3.1.1.3.2" xref="S5.SS0.SSS0.Px1.p1.3.m3.1.1.3.2.cmml">2</mn><mo lspace="0.222em" rspace="0.222em" id="S5.SS0.SSS0.Px1.p1.3.m3.1.1.3.1" xref="S5.SS0.SSS0.Px1.p1.3.m3.1.1.3.1.cmml">×</mo><msup id="S5.SS0.SSS0.Px1.p1.3.m3.1.1.3.3" xref="S5.SS0.SSS0.Px1.p1.3.m3.1.1.3.3.cmml"><mn id="S5.SS0.SSS0.Px1.p1.3.m3.1.1.3.3.2" xref="S5.SS0.SSS0.Px1.p1.3.m3.1.1.3.3.2.cmml">10</mn><mrow id="S5.SS0.SSS0.Px1.p1.3.m3.1.1.3.3.3" xref="S5.SS0.SSS0.Px1.p1.3.m3.1.1.3.3.3.cmml"><mo id="S5.SS0.SSS0.Px1.p1.3.m3.1.1.3.3.3a" xref="S5.SS0.SSS0.Px1.p1.3.m3.1.1.3.3.3.cmml">−</mo><mn id="S5.SS0.SSS0.Px1.p1.3.m3.1.1.3.3.3.2" xref="S5.SS0.SSS0.Px1.p1.3.m3.1.1.3.3.3.2.cmml">2</mn></mrow></msup></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.SS0.SSS0.Px1.p1.3.m3.1b"><apply id="S5.SS0.SSS0.Px1.p1.3.m3.1.1.cmml" xref="S5.SS0.SSS0.Px1.p1.3.m3.1.1"><eq id="S5.SS0.SSS0.Px1.p1.3.m3.1.1.1.cmml" xref="S5.SS0.SSS0.Px1.p1.3.m3.1.1.1"></eq><apply id="S5.SS0.SSS0.Px1.p1.3.m3.1.1.2.cmml" xref="S5.SS0.SSS0.Px1.p1.3.m3.1.1.2"><csymbol cd="ambiguous" id="S5.SS0.SSS0.Px1.p1.3.m3.1.1.2.1.cmml" xref="S5.SS0.SSS0.Px1.p1.3.m3.1.1.2">subscript</csymbol><ci id="S5.SS0.SSS0.Px1.p1.3.m3.1.1.2.2.cmml" xref="S5.SS0.SSS0.Px1.p1.3.m3.1.1.2.2">𝛽</ci><ci id="S5.SS0.SSS0.Px1.p1.3.m3.1.1.2.3.cmml" xref="S5.SS0.SSS0.Px1.p1.3.m3.1.1.2.3">𝑇</ci></apply><apply id="S5.SS0.SSS0.Px1.p1.3.m3.1.1.3.cmml" xref="S5.SS0.SSS0.Px1.p1.3.m3.1.1.3"><times id="S5.SS0.SSS0.Px1.p1.3.m3.1.1.3.1.cmml" xref="S5.SS0.SSS0.Px1.p1.3.m3.1.1.3.1"></times><cn type="integer" id="S5.SS0.SSS0.Px1.p1.3.m3.1.1.3.2.cmml" xref="S5.SS0.SSS0.Px1.p1.3.m3.1.1.3.2">2</cn><apply id="S5.SS0.SSS0.Px1.p1.3.m3.1.1.3.3.cmml" xref="S5.SS0.SSS0.Px1.p1.3.m3.1.1.3.3"><csymbol cd="ambiguous" id="S5.SS0.SSS0.Px1.p1.3.m3.1.1.3.3.1.cmml" xref="S5.SS0.SSS0.Px1.p1.3.m3.1.1.3.3">superscript</csymbol><cn type="integer" id="S5.SS0.SSS0.Px1.p1.3.m3.1.1.3.3.2.cmml" xref="S5.SS0.SSS0.Px1.p1.3.m3.1.1.3.3.2">10</cn><apply id="S5.SS0.SSS0.Px1.p1.3.m3.1.1.3.3.3.cmml" xref="S5.SS0.SSS0.Px1.p1.3.m3.1.1.3.3.3"><minus id="S5.SS0.SSS0.Px1.p1.3.m3.1.1.3.3.3.1.cmml" xref="S5.SS0.SSS0.Px1.p1.3.m3.1.1.3.3.3"></minus><cn type="integer" id="S5.SS0.SSS0.Px1.p1.3.m3.1.1.3.3.3.2.cmml" xref="S5.SS0.SSS0.Px1.p1.3.m3.1.1.3.3.3.2">2</cn></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS0.SSS0.Px1.p1.3.m3.1c">\beta_{T}=2\times 10^{-2}</annotation><annotation encoding="application/x-llamapun" id="S5.SS0.SSS0.Px1.p1.3.m3.1d">italic_β start_POSTSUBSCRIPT italic_T end_POSTSUBSCRIPT = 2 × 10 start_POSTSUPERSCRIPT - 2 end_POSTSUPERSCRIPT</annotation></semantics></math>. Then, we define <math id="S5.SS0.SSS0.Px1.p1.4.m4.6" class="ltx_Math" alttext="\beta_{t}=\frac{t-1}{T-1}\cdot(\beta_{T}-\beta_{1}),t=1,2,\cdots,T" display="inline"><semantics id="S5.SS0.SSS0.Px1.p1.4.m4.6a"><mrow id="S5.SS0.SSS0.Px1.p1.4.m4.6.6.2" xref="S5.SS0.SSS0.Px1.p1.4.m4.6.6.3.cmml"><mrow id="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1" xref="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.cmml"><msub id="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.3" xref="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.3.cmml"><mi id="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.3.2" xref="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.3.2.cmml">β</mi><mi id="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.3.3" xref="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.3.3.cmml">t</mi></msub><mo id="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.2" xref="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.2.cmml">=</mo><mrow id="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.1" xref="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.1.cmml"><mfrac id="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.1.3" xref="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.1.3.cmml"><mrow id="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.1.3.2" xref="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.1.3.2.cmml"><mi id="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.1.3.2.2" xref="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.1.3.2.2.cmml">t</mi><mo id="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.1.3.2.1" xref="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.1.3.2.1.cmml">−</mo><mn id="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.1.3.2.3" xref="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.1.3.2.3.cmml">1</mn></mrow><mrow id="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.1.3.3" xref="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.1.3.3.cmml"><mi id="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.1.3.3.2" xref="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.1.3.3.2.cmml">T</mi><mo id="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.1.3.3.1" xref="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.1.3.3.1.cmml">−</mo><mn id="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.1.3.3.3" xref="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.1.3.3.3.cmml">1</mn></mrow></mfrac><mo lspace="0.222em" rspace="0.222em" id="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.1.2" xref="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.1.2.cmml">⋅</mo><mrow id="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.1.1.1" xref="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.1.1.1.2" xref="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.1.1.1.1.cmml">(</mo><mrow id="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.1.1.1.1" xref="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.1.1.1.1.cmml"><msub id="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.1.1.1.1.2" xref="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.1.1.1.1.2.cmml"><mi id="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.1.1.1.1.2.2" xref="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.1.1.1.1.2.2.cmml">β</mi><mi id="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.1.1.1.1.2.3" xref="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.1.1.1.1.2.3.cmml">T</mi></msub><mo id="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.1.1.1.1.1" xref="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.1.1.1.1.1.cmml">−</mo><msub id="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.1.1.1.1.3" xref="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.1.1.1.1.3.cmml"><mi id="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.1.1.1.1.3.2" xref="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.1.1.1.1.3.2.cmml">β</mi><mn id="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.1.1.1.1.3.3" xref="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.1.1.1.1.3.3.cmml">1</mn></msub></mrow><mo stretchy="false" id="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.1.1.1.3" xref="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><mo id="S5.SS0.SSS0.Px1.p1.4.m4.6.6.2.3" xref="S5.SS0.SSS0.Px1.p1.4.m4.6.6.3a.cmml">,</mo><mrow id="S5.SS0.SSS0.Px1.p1.4.m4.6.6.2.2" xref="S5.SS0.SSS0.Px1.p1.4.m4.6.6.2.2.cmml"><mi id="S5.SS0.SSS0.Px1.p1.4.m4.6.6.2.2.2" xref="S5.SS0.SSS0.Px1.p1.4.m4.6.6.2.2.2.cmml">t</mi><mo id="S5.SS0.SSS0.Px1.p1.4.m4.6.6.2.2.1" xref="S5.SS0.SSS0.Px1.p1.4.m4.6.6.2.2.1.cmml">=</mo><mrow id="S5.SS0.SSS0.Px1.p1.4.m4.6.6.2.2.3.2" xref="S5.SS0.SSS0.Px1.p1.4.m4.6.6.2.2.3.1.cmml"><mn id="S5.SS0.SSS0.Px1.p1.4.m4.1.1" xref="S5.SS0.SSS0.Px1.p1.4.m4.1.1.cmml">1</mn><mo id="S5.SS0.SSS0.Px1.p1.4.m4.6.6.2.2.3.2.1" xref="S5.SS0.SSS0.Px1.p1.4.m4.6.6.2.2.3.1.cmml">,</mo><mn id="S5.SS0.SSS0.Px1.p1.4.m4.2.2" xref="S5.SS0.SSS0.Px1.p1.4.m4.2.2.cmml">2</mn><mo id="S5.SS0.SSS0.Px1.p1.4.m4.6.6.2.2.3.2.2" xref="S5.SS0.SSS0.Px1.p1.4.m4.6.6.2.2.3.1.cmml">,</mo><mi mathvariant="normal" id="S5.SS0.SSS0.Px1.p1.4.m4.3.3" xref="S5.SS0.SSS0.Px1.p1.4.m4.3.3.cmml">⋯</mi><mo id="S5.SS0.SSS0.Px1.p1.4.m4.6.6.2.2.3.2.3" xref="S5.SS0.SSS0.Px1.p1.4.m4.6.6.2.2.3.1.cmml">,</mo><mi id="S5.SS0.SSS0.Px1.p1.4.m4.4.4" xref="S5.SS0.SSS0.Px1.p1.4.m4.4.4.cmml">T</mi></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.SS0.SSS0.Px1.p1.4.m4.6b"><apply id="S5.SS0.SSS0.Px1.p1.4.m4.6.6.3.cmml" xref="S5.SS0.SSS0.Px1.p1.4.m4.6.6.2"><csymbol cd="ambiguous" id="S5.SS0.SSS0.Px1.p1.4.m4.6.6.3a.cmml" xref="S5.SS0.SSS0.Px1.p1.4.m4.6.6.2.3">formulae-sequence</csymbol><apply id="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.cmml" xref="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1"><eq id="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.2.cmml" xref="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.2"></eq><apply id="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.3.cmml" xref="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.3"><csymbol cd="ambiguous" id="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.3.1.cmml" xref="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.3">subscript</csymbol><ci id="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.3.2.cmml" xref="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.3.2">𝛽</ci><ci id="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.3.3.cmml" xref="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.3.3">𝑡</ci></apply><apply id="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.1.cmml" xref="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.1"><ci id="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.1.2.cmml" xref="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.1.2">⋅</ci><apply id="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.1.3.cmml" xref="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.1.3"><divide id="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.1.3.1.cmml" xref="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.1.3"></divide><apply id="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.1.3.2.cmml" xref="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.1.3.2"><minus id="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.1.3.2.1.cmml" xref="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.1.3.2.1"></minus><ci id="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.1.3.2.2.cmml" xref="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.1.3.2.2">𝑡</ci><cn type="integer" id="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.1.3.2.3.cmml" xref="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.1.3.2.3">1</cn></apply><apply id="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.1.3.3.cmml" xref="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.1.3.3"><minus id="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.1.3.3.1.cmml" xref="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.1.3.3.1"></minus><ci id="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.1.3.3.2.cmml" xref="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.1.3.3.2">𝑇</ci><cn type="integer" id="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.1.3.3.3.cmml" xref="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.1.3.3.3">1</cn></apply></apply><apply id="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.1.1.1.1.cmml" xref="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.1.1.1"><minus id="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.1.1.1.1.1.cmml" xref="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.1.1.1.1.1"></minus><apply id="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.1.1.1.1.2.cmml" xref="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.1.1.1.1.2.1.cmml" xref="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.1.1.1.1.2">subscript</csymbol><ci id="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.1.1.1.1.2.2.cmml" xref="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.1.1.1.1.2.2">𝛽</ci><ci id="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.1.1.1.1.2.3.cmml" xref="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.1.1.1.1.2.3">𝑇</ci></apply><apply id="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.1.1.1.1.3.cmml" xref="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.1.1.1.1.3.1.cmml" xref="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.1.1.1.1.3">subscript</csymbol><ci id="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.1.1.1.1.3.2.cmml" xref="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.1.1.1.1.3.2">𝛽</ci><cn type="integer" id="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.1.1.1.1.3.3.cmml" xref="S5.SS0.SSS0.Px1.p1.4.m4.5.5.1.1.1.1.1.1.3.3">1</cn></apply></apply></apply></apply><apply id="S5.SS0.SSS0.Px1.p1.4.m4.6.6.2.2.cmml" xref="S5.SS0.SSS0.Px1.p1.4.m4.6.6.2.2"><eq id="S5.SS0.SSS0.Px1.p1.4.m4.6.6.2.2.1.cmml" xref="S5.SS0.SSS0.Px1.p1.4.m4.6.6.2.2.1"></eq><ci id="S5.SS0.SSS0.Px1.p1.4.m4.6.6.2.2.2.cmml" xref="S5.SS0.SSS0.Px1.p1.4.m4.6.6.2.2.2">𝑡</ci><list id="S5.SS0.SSS0.Px1.p1.4.m4.6.6.2.2.3.1.cmml" xref="S5.SS0.SSS0.Px1.p1.4.m4.6.6.2.2.3.2"><cn type="integer" id="S5.SS0.SSS0.Px1.p1.4.m4.1.1.cmml" xref="S5.SS0.SSS0.Px1.p1.4.m4.1.1">1</cn><cn type="integer" id="S5.SS0.SSS0.Px1.p1.4.m4.2.2.cmml" xref="S5.SS0.SSS0.Px1.p1.4.m4.2.2">2</cn><ci id="S5.SS0.SSS0.Px1.p1.4.m4.3.3.cmml" xref="S5.SS0.SSS0.Px1.p1.4.m4.3.3">⋯</ci><ci id="S5.SS0.SSS0.Px1.p1.4.m4.4.4.cmml" xref="S5.SS0.SSS0.Px1.p1.4.m4.4.4">𝑇</ci></list></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS0.SSS0.Px1.p1.4.m4.6c">\beta_{t}=\frac{t-1}{T-1}\cdot(\beta_{T}-\beta_{1}),t=1,2,\cdots,T</annotation><annotation encoding="application/x-llamapun" id="S5.SS0.SSS0.Px1.p1.4.m4.6d">italic_β start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT = divide start_ARG italic_t - 1 end_ARG start_ARG italic_T - 1 end_ARG ⋅ ( italic_β start_POSTSUBSCRIPT italic_T end_POSTSUBSCRIPT - italic_β start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT ) , italic_t = 1 , 2 , ⋯ , italic_T</annotation></semantics></math>.
One evaluation of the entire test set took approximately 5 hours using 1<math id="S5.SS0.SSS0.Px1.p1.5.m5.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S5.SS0.SSS0.Px1.p1.5.m5.1a"><mo id="S5.SS0.SSS0.Px1.p1.5.m5.1.1" xref="S5.SS0.SSS0.Px1.p1.5.m5.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S5.SS0.SSS0.Px1.p1.5.m5.1b"><times id="S5.SS0.SSS0.Px1.p1.5.m5.1.1.cmml" xref="S5.SS0.SSS0.Px1.p1.5.m5.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S5.SS0.SSS0.Px1.p1.5.m5.1c">\times</annotation><annotation encoding="application/x-llamapun" id="S5.SS0.SSS0.Px1.p1.5.m5.1d">×</annotation></semantics></math>RTX3090 GPU.</p>
</div>
</section>
<section id="S5.SS0.SSS0.Px2" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Strong adaptive attacks on CIFAR10 dataset.</h4>

<div id="S5.SS0.SSS0.Px2.p1" class="ltx_para">
<p id="S5.SS0.SSS0.Px2.p1.1" class="ltx_p">Our purification algorithm consists of multiple iterations through neural networks, so might cause obfuscated gradient problems. Hence, we also validate our defense method with strong adaptive attacks, including BPDA (<cite class="ltx_cite ltx_citemacro_citet">Athalye et al. (<a href="#bib.bib1" title="" class="ltx_ref">2018</a>)</cite>)
We present our assessment results for powerful adaptive assaults on the CIFAR-10 dataset(<cite class="ltx_cite ltx_citemacro_citet">Krizhevsky et al. (<a href="#bib.bib19" title="" class="ltx_ref">2009</a>)</cite>. Table <a href="#S5.T2" title="Table 2 ‣ Strong adaptive attacks on CIFAR10 dataset. ‣ 5 Experiments ‣ Guided Diffusion Model for Adversarial Purification" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a> shows the assessment findings for a variety of adaptive attacks. We assume that an attacker is aware of the exact purification length utilized in BPDA, and that the attacks are built appropriately. One evaluation of the entire test set took approximately 2.5 days using 8 <math id="S5.SS0.SSS0.Px2.p1.1.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S5.SS0.SSS0.Px2.p1.1.m1.1a"><mo id="S5.SS0.SSS0.Px2.p1.1.m1.1.1" xref="S5.SS0.SSS0.Px2.p1.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S5.SS0.SSS0.Px2.p1.1.m1.1b"><times id="S5.SS0.SSS0.Px2.p1.1.m1.1.1.cmml" xref="S5.SS0.SSS0.Px2.p1.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S5.SS0.SSS0.Px2.p1.1.m1.1c">\times</annotation><annotation encoding="application/x-llamapun" id="S5.SS0.SSS0.Px2.p1.1.m1.1d">×</annotation></semantics></math>A100 GPUs.
</p>
</div>
<figure id="S5.T2" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 2: </span>CIFAR-10 results for adaptive attacks at <math id="S5.T2.6.m1.1" class="ltx_Math" alttext="\ell_{\infty}\gamma" display="inline"><semantics id="S5.T2.6.m1.1b"><mrow id="S5.T2.6.m1.1.1" xref="S5.T2.6.m1.1.1.cmml"><msub id="S5.T2.6.m1.1.1.2" xref="S5.T2.6.m1.1.1.2.cmml"><mi mathvariant="normal" id="S5.T2.6.m1.1.1.2.2" xref="S5.T2.6.m1.1.1.2.2.cmml">ℓ</mi><mi mathvariant="normal" id="S5.T2.6.m1.1.1.2.3" xref="S5.T2.6.m1.1.1.2.3.cmml">∞</mi></msub><mo id="S5.T2.6.m1.1.1.1" xref="S5.T2.6.m1.1.1.1.cmml">⁢</mo><mi id="S5.T2.6.m1.1.1.3" xref="S5.T2.6.m1.1.1.3.cmml">γ</mi></mrow><annotation-xml encoding="MathML-Content" id="S5.T2.6.m1.1c"><apply id="S5.T2.6.m1.1.1.cmml" xref="S5.T2.6.m1.1.1"><times id="S5.T2.6.m1.1.1.1.cmml" xref="S5.T2.6.m1.1.1.1"></times><apply id="S5.T2.6.m1.1.1.2.cmml" xref="S5.T2.6.m1.1.1.2"><csymbol cd="ambiguous" id="S5.T2.6.m1.1.1.2.1.cmml" xref="S5.T2.6.m1.1.1.2">subscript</csymbol><ci id="S5.T2.6.m1.1.1.2.2.cmml" xref="S5.T2.6.m1.1.1.2.2">ℓ</ci><infinity id="S5.T2.6.m1.1.1.2.3.cmml" xref="S5.T2.6.m1.1.1.2.3"></infinity></apply><ci id="S5.T2.6.m1.1.1.3.cmml" xref="S5.T2.6.m1.1.1.3">𝛾</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T2.6.m1.1d">\ell_{\infty}\gamma</annotation><annotation encoding="application/x-llamapun" id="S5.T2.6.m1.1e">roman_ℓ start_POSTSUBSCRIPT ∞ end_POSTSUBSCRIPT italic_γ</annotation></semantics></math>-ball with <math id="S5.T2.7.m2.1" class="ltx_Math" alttext="\gamma" display="inline"><semantics id="S5.T2.7.m2.1b"><mi id="S5.T2.7.m2.1.1" xref="S5.T2.7.m2.1.1.cmml">γ</mi><annotation-xml encoding="MathML-Content" id="S5.T2.7.m2.1c"><ci id="S5.T2.7.m2.1.1.cmml" xref="S5.T2.7.m2.1.1">𝛾</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.T2.7.m2.1d">\gamma</annotation><annotation encoding="application/x-llamapun" id="S5.T2.7.m2.1e">italic_γ</annotation></semantics></math> = 8/255. The diffusion length <math id="S5.T2.8.m3.1" class="ltx_Math" alttext="T_{c}=50" display="inline"><semantics id="S5.T2.8.m3.1b"><mrow id="S5.T2.8.m3.1.1" xref="S5.T2.8.m3.1.1.cmml"><msub id="S5.T2.8.m3.1.1.2" xref="S5.T2.8.m3.1.1.2.cmml"><mi id="S5.T2.8.m3.1.1.2.2" xref="S5.T2.8.m3.1.1.2.2.cmml">T</mi><mi id="S5.T2.8.m3.1.1.2.3" xref="S5.T2.8.m3.1.1.2.3.cmml">c</mi></msub><mo id="S5.T2.8.m3.1.1.1" xref="S5.T2.8.m3.1.1.1.cmml">=</mo><mn id="S5.T2.8.m3.1.1.3" xref="S5.T2.8.m3.1.1.3.cmml">50</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.T2.8.m3.1c"><apply id="S5.T2.8.m3.1.1.cmml" xref="S5.T2.8.m3.1.1"><eq id="S5.T2.8.m3.1.1.1.cmml" xref="S5.T2.8.m3.1.1.1"></eq><apply id="S5.T2.8.m3.1.1.2.cmml" xref="S5.T2.8.m3.1.1.2"><csymbol cd="ambiguous" id="S5.T2.8.m3.1.1.2.1.cmml" xref="S5.T2.8.m3.1.1.2">subscript</csymbol><ci id="S5.T2.8.m3.1.1.2.2.cmml" xref="S5.T2.8.m3.1.1.2.2">𝑇</ci><ci id="S5.T2.8.m3.1.1.2.3.cmml" xref="S5.T2.8.m3.1.1.2.3">𝑐</ci></apply><cn type="integer" id="S5.T2.8.m3.1.1.3.cmml" xref="S5.T2.8.m3.1.1.3">50</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T2.8.m3.1d">T_{c}=50</annotation><annotation encoding="application/x-llamapun" id="S5.T2.8.m3.1e">italic_T start_POSTSUBSCRIPT italic_c end_POSTSUBSCRIPT = 50</annotation></semantics></math> and the iteration number <math id="S5.T2.9.m4.1" class="ltx_Math" alttext="M=2" display="inline"><semantics id="S5.T2.9.m4.1b"><mrow id="S5.T2.9.m4.1.1" xref="S5.T2.9.m4.1.1.cmml"><mi id="S5.T2.9.m4.1.1.2" xref="S5.T2.9.m4.1.1.2.cmml">M</mi><mo id="S5.T2.9.m4.1.1.1" xref="S5.T2.9.m4.1.1.1.cmml">=</mo><mn id="S5.T2.9.m4.1.1.3" xref="S5.T2.9.m4.1.1.3.cmml">2</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.T2.9.m4.1c"><apply id="S5.T2.9.m4.1.1.cmml" xref="S5.T2.9.m4.1.1"><eq id="S5.T2.9.m4.1.1.1.cmml" xref="S5.T2.9.m4.1.1.1"></eq><ci id="S5.T2.9.m4.1.1.2.cmml" xref="S5.T2.9.m4.1.1.2">𝑀</ci><cn type="integer" id="S5.T2.9.m4.1.1.3.cmml" xref="S5.T2.9.m4.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T2.9.m4.1d">M=2</annotation><annotation encoding="application/x-llamapun" id="S5.T2.9.m4.1e">italic_M = 2</annotation></semantics></math>. For comparison, we look at various recently proposed preprocessor-based defense strategies as well as adversarial training methods with white-box attacks. The results borrowed from the references are marked with <math id="S5.T2.10.m5.1" class="ltx_Math" alttext="\ast" display="inline"><semantics id="S5.T2.10.m5.1b"><mo id="S5.T2.10.m5.1.1" xref="S5.T2.10.m5.1.1.cmml">∗</mo><annotation-xml encoding="MathML-Content" id="S5.T2.10.m5.1c"><ci id="S5.T2.10.m5.1.1.cmml" xref="S5.T2.10.m5.1.1">∗</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.T2.10.m5.1d">\ast</annotation><annotation encoding="application/x-llamapun" id="S5.T2.10.m5.1e">∗</annotation></semantics></math>.</figcaption>
<table id="S5.T2.19" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<tbody class="ltx_tbody">
<tr id="S5.T2.19.10.1" class="ltx_tr">
<th id="S5.T2.19.10.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_t" rowspan="2">
<span id="S5.T2.19.10.1.1.1" class="ltx_text">Models</span></th>
<td id="S5.T2.19.10.1.2" class="ltx_td ltx_align_left ltx_border_t" colspan="2">Accuracy(%)</td>
<td id="S5.T2.19.10.1.3" class="ltx_td ltx_align_left ltx_border_t" rowspan="2"><span id="S5.T2.19.10.1.3.1" class="ltx_text">Architrcture</span></td>
</tr>
<tr id="S5.T2.19.11.2" class="ltx_tr">
<td id="S5.T2.19.11.2.1" class="ltx_td ltx_align_left">Natural</td>
<td id="S5.T2.19.11.2.2" class="ltx_td ltx_align_left">Robust</td>
</tr>
<tr id="S5.T2.19.12.3" class="ltx_tr">
<th id="S5.T2.19.12.3.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t">GDMP</th>
<td id="S5.T2.19.12.3.2" class="ltx_td ltx_align_left ltx_border_t">93.50</td>
<td id="S5.T2.19.12.3.3" class="ltx_td ltx_border_t"></td>
<td id="S5.T2.19.12.3.4" class="ltx_td ltx_align_left ltx_border_t">WRN-28-10</td>
</tr>
<tr id="S5.T2.19.13.4" class="ltx_tr">
<th id="S5.T2.19.13.4.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">    BPDA 40+EOT</th>
<td id="S5.T2.19.13.4.2" class="ltx_td"></td>
<td id="S5.T2.19.13.4.3" class="ltx_td ltx_align_left"><span id="S5.T2.19.13.4.3.1" class="ltx_text ltx_font_bold">79.83</span></td>
<td id="S5.T2.19.13.4.4" class="ltx_td ltx_align_left">WRN-28-10</td>
</tr>
<tr id="S5.T2.19.14.5" class="ltx_tr">
<th id="S5.T2.19.14.5.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">    BPDA 100+EOT</th>
<td id="S5.T2.19.14.5.2" class="ltx_td"></td>
<td id="S5.T2.19.14.5.3" class="ltx_td ltx_align_left"><span id="S5.T2.19.14.5.3.1" class="ltx_text ltx_font_bold">79.57</span></td>
<td id="S5.T2.19.14.5.4" class="ltx_td ltx_align_left">WRN-28-10</td>
</tr>
<tr id="S5.T2.19.15.6" class="ltx_tr">
<th id="S5.T2.19.15.6.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">    SPSA 1280</th>
<td id="S5.T2.19.15.6.2" class="ltx_td"></td>
<td id="S5.T2.19.15.6.3" class="ltx_td ltx_align_left"><span id="S5.T2.19.15.6.3.1" class="ltx_text ltx_font_bold">87.44</span></td>
<td id="S5.T2.19.15.6.4" class="ltx_td ltx_align_left">WRN-28-10</td>
</tr>
<tr id="S5.T2.19.16.7" class="ltx_tr">
<th id="S5.T2.19.16.7.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" colspan="3">Adversarial purication models</th>
<td id="S5.T2.19.16.7.2" class="ltx_td ltx_border_t"></td>
</tr>
<tr id="S5.T2.12.2" class="ltx_tr">
<th id="S5.T2.12.2.2" class="ltx_td ltx_align_left ltx_th ltx_th_row">
<cite class="ltx_cite ltx_citemacro_citet">Yoon et al. (<a href="#bib.bib38" title="" class="ltx_ref">2021</a>)</cite><math id="S5.T2.11.1.1.m1.1" class="ltx_Math" alttext="{}^{\ast}" display="inline"><semantics id="S5.T2.11.1.1.m1.1a"><msup id="S5.T2.11.1.1.m1.1.1" xref="S5.T2.11.1.1.m1.1.1.cmml"><mi id="S5.T2.11.1.1.m1.1.1a" xref="S5.T2.11.1.1.m1.1.1.cmml"></mi><mo id="S5.T2.11.1.1.m1.1.1.1" xref="S5.T2.11.1.1.m1.1.1.1.cmml">∗</mo></msup><annotation-xml encoding="MathML-Content" id="S5.T2.11.1.1.m1.1b"><apply id="S5.T2.11.1.1.m1.1.1.cmml" xref="S5.T2.11.1.1.m1.1.1"><ci id="S5.T2.11.1.1.m1.1.1.1.cmml" xref="S5.T2.11.1.1.m1.1.1.1">∗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T2.11.1.1.m1.1c">{}^{\ast}</annotation><annotation encoding="application/x-llamapun" id="S5.T2.11.1.1.m1.1d">start_FLOATSUPERSCRIPT ∗ end_FLOATSUPERSCRIPT</annotation></semantics></math>ADP(<math id="S5.T2.12.2.2.m2.1" class="ltx_Math" alttext="\sigma" display="inline"><semantics id="S5.T2.12.2.2.m2.1a"><mi id="S5.T2.12.2.2.m2.1.1" xref="S5.T2.12.2.2.m2.1.1.cmml">σ</mi><annotation-xml encoding="MathML-Content" id="S5.T2.12.2.2.m2.1b"><ci id="S5.T2.12.2.2.m2.1.1.cmml" xref="S5.T2.12.2.2.m2.1.1">𝜎</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.T2.12.2.2.m2.1c">\sigma</annotation><annotation encoding="application/x-llamapun" id="S5.T2.12.2.2.m2.1d">italic_σ</annotation></semantics></math> = 0.25)</th>
<td id="S5.T2.12.2.3" class="ltx_td ltx_align_left">86.14</td>
<td id="S5.T2.12.2.4" class="ltx_td"></td>
<td id="S5.T2.12.2.5" class="ltx_td"></td>
</tr>
<tr id="S5.T2.19.17.8" class="ltx_tr">
<th id="S5.T2.19.17.8.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">    BPDA 40+ EOT</th>
<td id="S5.T2.19.17.8.2" class="ltx_td"></td>
<td id="S5.T2.19.17.8.3" class="ltx_td ltx_align_left">70.01</td>
<td id="S5.T2.19.17.8.4" class="ltx_td ltx_align_left">WRN-28-10</td>
</tr>
<tr id="S5.T2.19.18.9" class="ltx_tr">
<th id="S5.T2.19.18.9.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">    BPDA 100+ EOT</th>
<td id="S5.T2.19.18.9.2" class="ltx_td"></td>
<td id="S5.T2.19.18.9.3" class="ltx_td ltx_align_left">69.71</td>
<td id="S5.T2.19.18.9.4" class="ltx_td ltx_align_left">WRN-28-10</td>
</tr>
<tr id="S5.T2.19.19.10" class="ltx_tr">
<th id="S5.T2.19.19.10.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">    SPSA 1280</th>
<td id="S5.T2.19.19.10.2" class="ltx_td"></td>
<td id="S5.T2.19.19.10.3" class="ltx_td ltx_align_left">80.80</td>
<td id="S5.T2.19.19.10.4" class="ltx_td ltx_align_left">WRN-28-10</td>
</tr>
<tr id="S5.T2.13.3" class="ltx_tr">
<th id="S5.T2.13.3.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">
<cite class="ltx_cite ltx_citemacro_citet">Hill et al. (<a href="#bib.bib15" title="" class="ltx_ref">2021</a>)</cite><math id="S5.T2.13.3.1.m1.1" class="ltx_Math" alttext="{}^{\ast}" display="inline"><semantics id="S5.T2.13.3.1.m1.1a"><msup id="S5.T2.13.3.1.m1.1.1" xref="S5.T2.13.3.1.m1.1.1.cmml"><mi id="S5.T2.13.3.1.m1.1.1a" xref="S5.T2.13.3.1.m1.1.1.cmml"></mi><mo id="S5.T2.13.3.1.m1.1.1.1" xref="S5.T2.13.3.1.m1.1.1.1.cmml">∗</mo></msup><annotation-xml encoding="MathML-Content" id="S5.T2.13.3.1.m1.1b"><apply id="S5.T2.13.3.1.m1.1.1.cmml" xref="S5.T2.13.3.1.m1.1.1"><ci id="S5.T2.13.3.1.m1.1.1.1.cmml" xref="S5.T2.13.3.1.m1.1.1.1">∗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T2.13.3.1.m1.1c">{}^{\ast}</annotation><annotation encoding="application/x-llamapun" id="S5.T2.13.3.1.m1.1d">start_FLOATSUPERSCRIPT ∗ end_FLOATSUPERSCRIPT</annotation></semantics></math>
</th>
<td id="S5.T2.13.3.2" class="ltx_td"></td>
<td id="S5.T2.13.3.3" class="ltx_td"></td>
<td id="S5.T2.13.3.4" class="ltx_td ltx_align_left">WRN-28-10</td>
</tr>
<tr id="S5.T2.19.20.11" class="ltx_tr">
<th id="S5.T2.19.20.11.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">    BPDA 50 + EOT</th>
<td id="S5.T2.19.20.11.2" class="ltx_td ltx_align_left">84.12</td>
<td id="S5.T2.19.20.11.3" class="ltx_td ltx_align_left">54.9</td>
<td id="S5.T2.19.20.11.4" class="ltx_td ltx_align_left">WRN-28-10</td>
</tr>
<tr id="S5.T2.14.4" class="ltx_tr">
<th id="S5.T2.14.4.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">
<cite class="ltx_cite ltx_citemacro_citet">Song et al. (<a href="#bib.bib30" title="" class="ltx_ref">2018</a>)</cite><math id="S5.T2.14.4.1.m1.1" class="ltx_Math" alttext="{}^{\ast}" display="inline"><semantics id="S5.T2.14.4.1.m1.1a"><msup id="S5.T2.14.4.1.m1.1.1" xref="S5.T2.14.4.1.m1.1.1.cmml"><mi id="S5.T2.14.4.1.m1.1.1a" xref="S5.T2.14.4.1.m1.1.1.cmml"></mi><mo id="S5.T2.14.4.1.m1.1.1.1" xref="S5.T2.14.4.1.m1.1.1.1.cmml">∗</mo></msup><annotation-xml encoding="MathML-Content" id="S5.T2.14.4.1.m1.1b"><apply id="S5.T2.14.4.1.m1.1.1.cmml" xref="S5.T2.14.4.1.m1.1.1"><ci id="S5.T2.14.4.1.m1.1.1.1.cmml" xref="S5.T2.14.4.1.m1.1.1.1">∗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T2.14.4.1.m1.1c">{}^{\ast}</annotation><annotation encoding="application/x-llamapun" id="S5.T2.14.4.1.m1.1d">start_FLOATSUPERSCRIPT ∗ end_FLOATSUPERSCRIPT</annotation></semantics></math>
</th>
<td id="S5.T2.14.4.2" class="ltx_td"></td>
<td id="S5.T2.14.4.3" class="ltx_td"></td>
<td id="S5.T2.14.4.4" class="ltx_td"></td>
</tr>
<tr id="S5.T2.19.21.12" class="ltx_tr">
<th id="S5.T2.19.21.12.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">    BPDA</th>
<td id="S5.T2.19.21.12.2" class="ltx_td ltx_align_left">95.00</td>
<td id="S5.T2.19.21.12.3" class="ltx_td ltx_align_left">9</td>
<td id="S5.T2.19.21.12.4" class="ltx_td ltx_align_left">ResNet-62</td>
</tr>
<tr id="S5.T2.15.5" class="ltx_tr">
<th id="S5.T2.15.5.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">
<cite class="ltx_cite ltx_citemacro_citet">Shi et al. (<a href="#bib.bib26" title="" class="ltx_ref">2021</a>)</cite> <math id="S5.T2.15.5.1.m1.1" class="ltx_Math" alttext="{}^{\ast}" display="inline"><semantics id="S5.T2.15.5.1.m1.1a"><msup id="S5.T2.15.5.1.m1.1.1" xref="S5.T2.15.5.1.m1.1.1.cmml"><mi id="S5.T2.15.5.1.m1.1.1a" xref="S5.T2.15.5.1.m1.1.1.cmml"></mi><mo id="S5.T2.15.5.1.m1.1.1.1" xref="S5.T2.15.5.1.m1.1.1.1.cmml">∗</mo></msup><annotation-xml encoding="MathML-Content" id="S5.T2.15.5.1.m1.1b"><apply id="S5.T2.15.5.1.m1.1.1.cmml" xref="S5.T2.15.5.1.m1.1.1"><ci id="S5.T2.15.5.1.m1.1.1.1.cmml" xref="S5.T2.15.5.1.m1.1.1.1">∗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T2.15.5.1.m1.1c">{}^{\ast}</annotation><annotation encoding="application/x-llamapun" id="S5.T2.15.5.1.m1.1d">start_FLOATSUPERSCRIPT ∗ end_FLOATSUPERSCRIPT</annotation></semantics></math>
</th>
<td id="S5.T2.15.5.2" class="ltx_td"></td>
<td id="S5.T2.15.5.3" class="ltx_td"></td>
<td id="S5.T2.15.5.4" class="ltx_td"></td>
</tr>
<tr id="S5.T2.19.22.13" class="ltx_tr">
<th id="S5.T2.19.22.13.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">    Classifier PGD 20</th>
<td id="S5.T2.19.22.13.2" class="ltx_td ltx_align_left">91.89</td>
<td id="S5.T2.19.22.13.3" class="ltx_td ltx_align_left">53.58</td>
<td id="S5.T2.19.22.13.4" class="ltx_td ltx_align_left">WRN-28-10</td>
</tr>
<tr id="S5.T2.19.23.14" class="ltx_tr">
<th id="S5.T2.19.23.14.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" colspan="3">Adversarial training methods, transfer-based</th>
<td id="S5.T2.19.23.14.2" class="ltx_td ltx_border_t"></td>
</tr>
<tr id="S5.T2.16.6" class="ltx_tr">
<th id="S5.T2.16.6.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">
<cite class="ltx_cite ltx_citemacro_citet">Madry et al. (<a href="#bib.bib21" title="" class="ltx_ref">2018</a>)</cite> <math id="S5.T2.16.6.1.m1.1" class="ltx_Math" alttext="{}^{\ast}" display="inline"><semantics id="S5.T2.16.6.1.m1.1a"><msup id="S5.T2.16.6.1.m1.1.1" xref="S5.T2.16.6.1.m1.1.1.cmml"><mi id="S5.T2.16.6.1.m1.1.1a" xref="S5.T2.16.6.1.m1.1.1.cmml"></mi><mo id="S5.T2.16.6.1.m1.1.1.1" xref="S5.T2.16.6.1.m1.1.1.1.cmml">∗</mo></msup><annotation-xml encoding="MathML-Content" id="S5.T2.16.6.1.m1.1b"><apply id="S5.T2.16.6.1.m1.1.1.cmml" xref="S5.T2.16.6.1.m1.1.1"><ci id="S5.T2.16.6.1.m1.1.1.1.cmml" xref="S5.T2.16.6.1.m1.1.1.1">∗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T2.16.6.1.m1.1c">{}^{\ast}</annotation><annotation encoding="application/x-llamapun" id="S5.T2.16.6.1.m1.1d">start_FLOATSUPERSCRIPT ∗ end_FLOATSUPERSCRIPT</annotation></semantics></math>
</th>
<td id="S5.T2.16.6.2" class="ltx_td ltx_align_left">87.3</td>
<td id="S5.T2.16.6.3" class="ltx_td ltx_align_left">45.8</td>
<td id="S5.T2.16.6.4" class="ltx_td ltx_align_left">ResNet-18</td>
</tr>
<tr id="S5.T2.17.7" class="ltx_tr">
<th id="S5.T2.17.7.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">
<cite class="ltx_cite ltx_citemacro_citet">Zhang et al. (<a href="#bib.bib40" title="" class="ltx_ref">2019</a>)</cite> <math id="S5.T2.17.7.1.m1.1" class="ltx_Math" alttext="{}^{\ast}" display="inline"><semantics id="S5.T2.17.7.1.m1.1a"><msup id="S5.T2.17.7.1.m1.1.1" xref="S5.T2.17.7.1.m1.1.1.cmml"><mi id="S5.T2.17.7.1.m1.1.1a" xref="S5.T2.17.7.1.m1.1.1.cmml"></mi><mo id="S5.T2.17.7.1.m1.1.1.1" xref="S5.T2.17.7.1.m1.1.1.1.cmml">∗</mo></msup><annotation-xml encoding="MathML-Content" id="S5.T2.17.7.1.m1.1b"><apply id="S5.T2.17.7.1.m1.1.1.cmml" xref="S5.T2.17.7.1.m1.1.1"><ci id="S5.T2.17.7.1.m1.1.1.1.cmml" xref="S5.T2.17.7.1.m1.1.1.1">∗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T2.17.7.1.m1.1c">{}^{\ast}</annotation><annotation encoding="application/x-llamapun" id="S5.T2.17.7.1.m1.1d">start_FLOATSUPERSCRIPT ∗ end_FLOATSUPERSCRIPT</annotation></semantics></math>
</th>
<td id="S5.T2.17.7.2" class="ltx_td ltx_align_left">84.9</td>
<td id="S5.T2.17.7.3" class="ltx_td ltx_align_left">56.43</td>
<td id="S5.T2.17.7.4" class="ltx_td ltx_align_left">ResNet-18</td>
</tr>
<tr id="S5.T2.18.8" class="ltx_tr">
<th id="S5.T2.18.8.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">
<cite class="ltx_cite ltx_citemacro_citet">Carmon et al. (<a href="#bib.bib4" title="" class="ltx_ref">2019</a>)</cite> <math id="S5.T2.18.8.1.m1.1" class="ltx_Math" alttext="{}^{\ast}" display="inline"><semantics id="S5.T2.18.8.1.m1.1a"><msup id="S5.T2.18.8.1.m1.1.1" xref="S5.T2.18.8.1.m1.1.1.cmml"><mi id="S5.T2.18.8.1.m1.1.1a" xref="S5.T2.18.8.1.m1.1.1.cmml"></mi><mo id="S5.T2.18.8.1.m1.1.1.1" xref="S5.T2.18.8.1.m1.1.1.1.cmml">∗</mo></msup><annotation-xml encoding="MathML-Content" id="S5.T2.18.8.1.m1.1b"><apply id="S5.T2.18.8.1.m1.1.1.cmml" xref="S5.T2.18.8.1.m1.1.1"><ci id="S5.T2.18.8.1.m1.1.1.1.cmml" xref="S5.T2.18.8.1.m1.1.1.1">∗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T2.18.8.1.m1.1c">{}^{\ast}</annotation><annotation encoding="application/x-llamapun" id="S5.T2.18.8.1.m1.1d">start_FLOATSUPERSCRIPT ∗ end_FLOATSUPERSCRIPT</annotation></semantics></math>
</th>
<td id="S5.T2.18.8.2" class="ltx_td ltx_align_left">89.67</td>
<td id="S5.T2.18.8.3" class="ltx_td ltx_align_left">63.1</td>
<td id="S5.T2.18.8.4" class="ltx_td ltx_align_left">WRN-28-10</td>
</tr>
<tr id="S5.T2.19.9" class="ltx_tr">
<th id="S5.T2.19.9.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_b">
<cite class="ltx_cite ltx_citemacro_citet">Gowal et al. (<a href="#bib.bib11" title="" class="ltx_ref">2020</a>)</cite> <math id="S5.T2.19.9.1.m1.1" class="ltx_Math" alttext="{}^{\ast}" display="inline"><semantics id="S5.T2.19.9.1.m1.1a"><msup id="S5.T2.19.9.1.m1.1.1" xref="S5.T2.19.9.1.m1.1.1.cmml"><mi id="S5.T2.19.9.1.m1.1.1a" xref="S5.T2.19.9.1.m1.1.1.cmml"></mi><mo id="S5.T2.19.9.1.m1.1.1.1" xref="S5.T2.19.9.1.m1.1.1.1.cmml">∗</mo></msup><annotation-xml encoding="MathML-Content" id="S5.T2.19.9.1.m1.1b"><apply id="S5.T2.19.9.1.m1.1.1.cmml" xref="S5.T2.19.9.1.m1.1.1"><ci id="S5.T2.19.9.1.m1.1.1.1.cmml" xref="S5.T2.19.9.1.m1.1.1.1">∗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T2.19.9.1.m1.1c">{}^{\ast}</annotation><annotation encoding="application/x-llamapun" id="S5.T2.19.9.1.m1.1d">start_FLOATSUPERSCRIPT ∗ end_FLOATSUPERSCRIPT</annotation></semantics></math>
</th>
<td id="S5.T2.19.9.2" class="ltx_td ltx_align_left ltx_border_b">89.48</td>
<td id="S5.T2.19.9.3" class="ltx_td ltx_align_left ltx_border_b">64.08</td>
<td id="S5.T2.19.9.4" class="ltx_td ltx_align_left ltx_border_b">WRN-28-10</td>
</tr>
</tbody>
</table>
</figure>
</section>
<section id="S5.SS0.SSS0.Px3" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Black-box attack on CIFAR10 dataset.</h4>

<div id="S5.SS0.SSS0.Px3.p1" class="ltx_para">
<p id="S5.SS0.SSS0.Px3.p1.1" class="ltx_p">Even if an attacker does not have access to a model or its gradient with respect to a loss function, a large number of samples can be used to estimate the gradient. SPSA ( <cite class="ltx_cite ltx_citemacro_citet">Uesato et al. (<a href="#bib.bib33" title="" class="ltx_ref">2018</a>)</cite>) is one of these ways, in which random samples near an input are drawn, and the approximate gradient is calculated using the expected value of gradients approximated using the finite-difference method. To make the assault strong enough, we increased the number of inquiries to 1,280. Our result <a href="#S5.T2" title="Table 2 ‣ Strong adaptive attacks on CIFAR10 dataset. ‣ 5 Experiments ‣ Guided Diffusion Model for Adversarial Purification" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a> shows the GDPM could defend most blakc-box attacks.
</p>
</div>
<figure id="S5.T3" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 3: </span>ImageNet results for preprocessor-blind attacks and strong adaptive attacks.The PGD attacks to the classfier is performed at <math id="S5.T3.3.m1.1" class="ltx_Math" alttext="\ell_{\infty}~{}\gamma" display="inline"><semantics id="S5.T3.3.m1.1b"><mrow id="S5.T3.3.m1.1.1" xref="S5.T3.3.m1.1.1.cmml"><msub id="S5.T3.3.m1.1.1.2" xref="S5.T3.3.m1.1.1.2.cmml"><mi mathvariant="normal" id="S5.T3.3.m1.1.1.2.2" xref="S5.T3.3.m1.1.1.2.2.cmml">ℓ</mi><mi mathvariant="normal" id="S5.T3.3.m1.1.1.2.3" xref="S5.T3.3.m1.1.1.2.3.cmml">∞</mi></msub><mo lspace="0.330em" id="S5.T3.3.m1.1.1.1" xref="S5.T3.3.m1.1.1.1.cmml">⁢</mo><mi id="S5.T3.3.m1.1.1.3" xref="S5.T3.3.m1.1.1.3.cmml">γ</mi></mrow><annotation-xml encoding="MathML-Content" id="S5.T3.3.m1.1c"><apply id="S5.T3.3.m1.1.1.cmml" xref="S5.T3.3.m1.1.1"><times id="S5.T3.3.m1.1.1.1.cmml" xref="S5.T3.3.m1.1.1.1"></times><apply id="S5.T3.3.m1.1.1.2.cmml" xref="S5.T3.3.m1.1.1.2"><csymbol cd="ambiguous" id="S5.T3.3.m1.1.1.2.1.cmml" xref="S5.T3.3.m1.1.1.2">subscript</csymbol><ci id="S5.T3.3.m1.1.1.2.2.cmml" xref="S5.T3.3.m1.1.1.2.2">ℓ</ci><infinity id="S5.T3.3.m1.1.1.2.3.cmml" xref="S5.T3.3.m1.1.1.2.3"></infinity></apply><ci id="S5.T3.3.m1.1.1.3.cmml" xref="S5.T3.3.m1.1.1.3">𝛾</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T3.3.m1.1d">\ell_{\infty}~{}\gamma</annotation><annotation encoding="application/x-llamapun" id="S5.T3.3.m1.1e">roman_ℓ start_POSTSUBSCRIPT ∞ end_POSTSUBSCRIPT italic_γ</annotation></semantics></math>-ball. The results borrowed from the references are marked with <math id="S5.T3.4.m2.1" class="ltx_Math" alttext="{}^{\ast}" display="inline"><semantics id="S5.T3.4.m2.1b"><msup id="S5.T3.4.m2.1.1" xref="S5.T3.4.m2.1.1.cmml"><mi id="S5.T3.4.m2.1.1b" xref="S5.T3.4.m2.1.1.cmml"></mi><mo id="S5.T3.4.m2.1.1.1" xref="S5.T3.4.m2.1.1.1.cmml">∗</mo></msup><annotation-xml encoding="MathML-Content" id="S5.T3.4.m2.1c"><apply id="S5.T3.4.m2.1.1.cmml" xref="S5.T3.4.m2.1.1"><ci id="S5.T3.4.m2.1.1.1.cmml" xref="S5.T3.4.m2.1.1.1">∗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T3.4.m2.1d">{}^{\ast}</annotation><annotation encoding="application/x-llamapun" id="S5.T3.4.m2.1e">start_FLOATSUPERSCRIPT ∗ end_FLOATSUPERSCRIPT</annotation></semantics></math>. We run these experiments with the acceleration of respace step = 250 and the length of diffusion model = 45.</figcaption>
<table id="S5.T3.8" class="ltx_tabular ltx_centering ltx_align_middle">
<tbody class="ltx_tbody">
<tr id="S5.T3.8.5.1" class="ltx_tr">
<td id="S5.T3.8.5.1.1" class="ltx_td ltx_align_center ltx_border_t" colspan="3">Models</td>
<td id="S5.T3.8.5.1.2" class="ltx_td ltx_align_left ltx_border_t" colspan="2">Accuracy(%)</td>
<td id="S5.T3.8.5.1.3" class="ltx_td ltx_align_left ltx_border_t" rowspan="2"><span id="S5.T3.8.5.1.3.1" class="ltx_text">Architrcture</span></td>
</tr>
<tr id="S5.T3.5.1" class="ltx_tr">
<td id="S5.T3.5.1.2" class="ltx_td ltx_align_center">Defense Method</td>
<td id="S5.T3.5.1.3" class="ltx_td ltx_align_left">Attack Method</td>
<td id="S5.T3.5.1.1" class="ltx_td ltx_align_left"><math id="S5.T3.5.1.1.m1.1" class="ltx_Math" alttext="\ell_{\infty}~{}\gamma" display="inline"><semantics id="S5.T3.5.1.1.m1.1a"><mrow id="S5.T3.5.1.1.m1.1.1" xref="S5.T3.5.1.1.m1.1.1.cmml"><msub id="S5.T3.5.1.1.m1.1.1.2" xref="S5.T3.5.1.1.m1.1.1.2.cmml"><mi mathvariant="normal" id="S5.T3.5.1.1.m1.1.1.2.2" xref="S5.T3.5.1.1.m1.1.1.2.2.cmml">ℓ</mi><mi mathvariant="normal" id="S5.T3.5.1.1.m1.1.1.2.3" xref="S5.T3.5.1.1.m1.1.1.2.3.cmml">∞</mi></msub><mo lspace="0.330em" id="S5.T3.5.1.1.m1.1.1.1" xref="S5.T3.5.1.1.m1.1.1.1.cmml">⁢</mo><mi id="S5.T3.5.1.1.m1.1.1.3" xref="S5.T3.5.1.1.m1.1.1.3.cmml">γ</mi></mrow><annotation-xml encoding="MathML-Content" id="S5.T3.5.1.1.m1.1b"><apply id="S5.T3.5.1.1.m1.1.1.cmml" xref="S5.T3.5.1.1.m1.1.1"><times id="S5.T3.5.1.1.m1.1.1.1.cmml" xref="S5.T3.5.1.1.m1.1.1.1"></times><apply id="S5.T3.5.1.1.m1.1.1.2.cmml" xref="S5.T3.5.1.1.m1.1.1.2"><csymbol cd="ambiguous" id="S5.T3.5.1.1.m1.1.1.2.1.cmml" xref="S5.T3.5.1.1.m1.1.1.2">subscript</csymbol><ci id="S5.T3.5.1.1.m1.1.1.2.2.cmml" xref="S5.T3.5.1.1.m1.1.1.2.2">ℓ</ci><infinity id="S5.T3.5.1.1.m1.1.1.2.3.cmml" xref="S5.T3.5.1.1.m1.1.1.2.3"></infinity></apply><ci id="S5.T3.5.1.1.m1.1.1.3.cmml" xref="S5.T3.5.1.1.m1.1.1.3">𝛾</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T3.5.1.1.m1.1c">\ell_{\infty}~{}\gamma</annotation><annotation encoding="application/x-llamapun" id="S5.T3.5.1.1.m1.1d">roman_ℓ start_POSTSUBSCRIPT ∞ end_POSTSUBSCRIPT italic_γ</annotation></semantics></math></td>
<td id="S5.T3.5.1.4" class="ltx_td ltx_align_left">Standard</td>
<td id="S5.T3.5.1.5" class="ltx_td ltx_align_left">Robust</td>
</tr>
<tr id="S5.T3.8.6.2" class="ltx_tr">
<td id="S5.T3.8.6.2.1" class="ltx_td ltx_align_left ltx_border_t">GDMP</td>
<td id="S5.T3.8.6.2.2" class="ltx_td ltx_align_left ltx_border_t">Untargeted PGD-100</td>
<td id="S5.T3.8.6.2.3" class="ltx_td ltx_align_left ltx_border_t">4/255</td>
<td id="S5.T3.8.6.2.4" class="ltx_td ltx_align_left ltx_border_t">70.17</td>
<td id="S5.T3.8.6.2.5" class="ltx_td ltx_align_left ltx_border_t">68.78</td>
<td id="S5.T3.8.6.2.6" class="ltx_td ltx_align_left ltx_border_t">ResNet-50</td>
</tr>
<tr id="S5.T3.8.7.3" class="ltx_tr">
<td id="S5.T3.8.7.3.1" class="ltx_td ltx_align_left">GDMP</td>
<td id="S5.T3.8.7.3.2" class="ltx_td ltx_align_left">Untargeted PGD-40</td>
<td id="S5.T3.8.7.3.3" class="ltx_td ltx_align_left">4/255</td>
<td id="S5.T3.8.7.3.4" class="ltx_td ltx_align_left">73.71</td>
<td id="S5.T3.8.7.3.5" class="ltx_td ltx_align_left"><span id="S5.T3.8.7.3.5.1" class="ltx_text ltx_font_bold">70.94</span></td>
<td id="S5.T3.8.7.3.6" class="ltx_td ltx_align_left">ResNet-152</td>
</tr>
<tr id="S5.T3.8.8.4" class="ltx_tr">
<td id="S5.T3.8.8.4.1" class="ltx_td ltx_align_left">GDMP</td>
<td id="S5.T3.8.8.4.2" class="ltx_td ltx_align_left">Random taregted PGD-40</td>
<td id="S5.T3.8.8.4.3" class="ltx_td ltx_align_left">16/255</td>
<td id="S5.T3.8.8.4.4" class="ltx_td ltx_align_left">73.71</td>
<td id="S5.T3.8.8.4.5" class="ltx_td ltx_align_left">73.45</td>
<td id="S5.T3.8.8.4.6" class="ltx_td ltx_align_left">ResNet-152</td>
</tr>
<tr id="S5.T3.8.9.5" class="ltx_tr">
<td id="S5.T3.8.9.5.1" class="ltx_td ltx_align_left">GDMP</td>
<td id="S5.T3.8.9.5.2" class="ltx_td ltx_align_left">BPDA</td>
<td id="S5.T3.8.9.5.3" class="ltx_td ltx_align_left">16/255</td>
<td id="S5.T3.8.9.5.4" class="ltx_td ltx_align_left">73.71</td>
<td id="S5.T3.8.9.5.5" class="ltx_td ltx_align_left">68.8</td>
<td id="S5.T3.8.9.5.6" class="ltx_td ltx_align_left">ResNet-152</td>
</tr>
<tr id="S5.T3.8.10.6" class="ltx_tr">
<td id="S5.T3.8.10.6.1" class="ltx_td ltx_align_left ltx_border_t" colspan="3">Adversarial purication models</td>
<td id="S5.T3.8.10.6.2" class="ltx_td ltx_border_t"></td>
<td id="S5.T3.8.10.6.3" class="ltx_td ltx_border_t"></td>
<td id="S5.T3.8.10.6.4" class="ltx_td ltx_border_t"></td>
</tr>
<tr id="S5.T3.6.2" class="ltx_tr">
<td id="S5.T3.6.2.1" class="ltx_td ltx_align_left">
<cite class="ltx_cite ltx_citemacro_citet">Bai et al. (<a href="#bib.bib2" title="" class="ltx_ref">2021</a>)</cite> <math id="S5.T3.6.2.1.m1.1" class="ltx_Math" alttext="{}^{\ast}" display="inline"><semantics id="S5.T3.6.2.1.m1.1a"><msup id="S5.T3.6.2.1.m1.1.1" xref="S5.T3.6.2.1.m1.1.1.cmml"><mi id="S5.T3.6.2.1.m1.1.1a" xref="S5.T3.6.2.1.m1.1.1.cmml"></mi><mo id="S5.T3.6.2.1.m1.1.1.1" xref="S5.T3.6.2.1.m1.1.1.1.cmml">∗</mo></msup><annotation-xml encoding="MathML-Content" id="S5.T3.6.2.1.m1.1b"><apply id="S5.T3.6.2.1.m1.1.1.cmml" xref="S5.T3.6.2.1.m1.1.1"><ci id="S5.T3.6.2.1.m1.1.1.1.cmml" xref="S5.T3.6.2.1.m1.1.1.1">∗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T3.6.2.1.m1.1c">{}^{\ast}</annotation><annotation encoding="application/x-llamapun" id="S5.T3.6.2.1.m1.1d">start_FLOATSUPERSCRIPT ∗ end_FLOATSUPERSCRIPT</annotation></semantics></math>
</td>
<td id="S5.T3.6.2.2" class="ltx_td ltx_align_left">Untargeted PGD-100</td>
<td id="S5.T3.6.2.3" class="ltx_td ltx_align_left">4/255</td>
<td id="S5.T3.6.2.4" class="ltx_td ltx_align_left">67.38</td>
<td id="S5.T3.6.2.5" class="ltx_td ltx_align_left">40.27</td>
<td id="S5.T3.6.2.6" class="ltx_td ltx_align_left">ResNet-50</td>
</tr>
<tr id="S5.T3.8.11.7" class="ltx_tr">
<td id="S5.T3.8.11.7.1" class="ltx_td ltx_align_left" colspan="3">Adversarial training methods, transfer-based</td>
<td id="S5.T3.8.11.7.2" class="ltx_td"></td>
<td id="S5.T3.8.11.7.3" class="ltx_td"></td>
<td id="S5.T3.8.11.7.4" class="ltx_td"></td>
</tr>
<tr id="S5.T3.7.3" class="ltx_tr">
<td id="S5.T3.7.3.1" class="ltx_td ltx_align_left">
<cite class="ltx_cite ltx_citemacro_citet">Qin et al. (<a href="#bib.bib23" title="" class="ltx_ref">2019</a>)</cite> <math id="S5.T3.7.3.1.m1.1" class="ltx_Math" alttext="{}^{\ast}" display="inline"><semantics id="S5.T3.7.3.1.m1.1a"><msup id="S5.T3.7.3.1.m1.1.1" xref="S5.T3.7.3.1.m1.1.1.cmml"><mi id="S5.T3.7.3.1.m1.1.1a" xref="S5.T3.7.3.1.m1.1.1.cmml"></mi><mo id="S5.T3.7.3.1.m1.1.1.1" xref="S5.T3.7.3.1.m1.1.1.1.cmml">∗</mo></msup><annotation-xml encoding="MathML-Content" id="S5.T3.7.3.1.m1.1b"><apply id="S5.T3.7.3.1.m1.1.1.cmml" xref="S5.T3.7.3.1.m1.1.1"><ci id="S5.T3.7.3.1.m1.1.1.1.cmml" xref="S5.T3.7.3.1.m1.1.1.1">∗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T3.7.3.1.m1.1c">{}^{\ast}</annotation><annotation encoding="application/x-llamapun" id="S5.T3.7.3.1.m1.1d">start_FLOATSUPERSCRIPT ∗ end_FLOATSUPERSCRIPT</annotation></semantics></math>
</td>
<td id="S5.T3.7.3.2" class="ltx_td ltx_align_left">Untargeted PGD-40</td>
<td id="S5.T3.7.3.3" class="ltx_td ltx_align_left">4/255</td>
<td id="S5.T3.7.3.4" class="ltx_td ltx_align_left">72.70</td>
<td id="S5.T3.7.3.5" class="ltx_td ltx_align_left">47.00</td>
<td id="S5.T3.7.3.6" class="ltx_td ltx_align_left">ResNet-152</td>
</tr>
<tr id="S5.T3.8.4" class="ltx_tr">
<td id="S5.T3.8.4.1" class="ltx_td ltx_align_left ltx_border_b">
<cite class="ltx_cite ltx_citemacro_citet">Xie et al. (<a href="#bib.bib36" title="" class="ltx_ref">2019</a>)</cite> <math id="S5.T3.8.4.1.m1.1" class="ltx_Math" alttext="{}^{\ast}" display="inline"><semantics id="S5.T3.8.4.1.m1.1a"><msup id="S5.T3.8.4.1.m1.1.1" xref="S5.T3.8.4.1.m1.1.1.cmml"><mi id="S5.T3.8.4.1.m1.1.1a" xref="S5.T3.8.4.1.m1.1.1.cmml"></mi><mo id="S5.T3.8.4.1.m1.1.1.1" xref="S5.T3.8.4.1.m1.1.1.1.cmml">∗</mo></msup><annotation-xml encoding="MathML-Content" id="S5.T3.8.4.1.m1.1b"><apply id="S5.T3.8.4.1.m1.1.1.cmml" xref="S5.T3.8.4.1.m1.1.1"><ci id="S5.T3.8.4.1.m1.1.1.1.cmml" xref="S5.T3.8.4.1.m1.1.1.1">∗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T3.8.4.1.m1.1c">{}^{\ast}</annotation><annotation encoding="application/x-llamapun" id="S5.T3.8.4.1.m1.1d">start_FLOATSUPERSCRIPT ∗ end_FLOATSUPERSCRIPT</annotation></semantics></math>
</td>
<td id="S5.T3.8.4.2" class="ltx_td ltx_align_left ltx_border_b">Random targeted PGD-40</td>
<td id="S5.T3.8.4.3" class="ltx_td ltx_align_left ltx_border_b">16/255</td>
<td id="S5.T3.8.4.4" class="ltx_td ltx_align_left ltx_border_b">—-</td>
<td id="S5.T3.8.4.5" class="ltx_td ltx_align_left ltx_border_b">48.6</td>
<td id="S5.T3.8.4.6" class="ltx_td ltx_align_left ltx_border_b">ResNet-152</td>
</tr>
</tbody>
</table>
</figure>
</section>
<section id="S5.SS0.SSS0.Px4" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Attacks on ImageNet dataset.</h4>

<div id="S5.SS0.SSS0.Px4.p1" class="ltx_para">
<p id="S5.SS0.SSS0.Px4.p1.4" class="ltx_p">We also test our approach on the 1.28 million pictures in 1000 classes ImageNet(<cite class="ltx_cite ltx_citemacro_citet">Deng et al. (<a href="#bib.bib5" title="" class="ltx_ref">2009</a>)</cite>) classification dataset. On the 50k ImageNet validation pictures that are adversarially disturbed by the attacker, we measure top-1 classification accuracy. The pre-trained diffusion for ImageNet is from <cite class="ltx_cite ltx_citemacro_citet">Dhariwal &amp; Nichol (<a href="#bib.bib6" title="" class="ltx_ref">2021</a>)</cite>, which is trained on ImageNet 256<math id="S5.SS0.SSS0.Px4.p1.1.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S5.SS0.SSS0.Px4.p1.1.m1.1a"><mo id="S5.SS0.SSS0.Px4.p1.1.m1.1.1" xref="S5.SS0.SSS0.Px4.p1.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S5.SS0.SSS0.Px4.p1.1.m1.1b"><times id="S5.SS0.SSS0.Px4.p1.1.m1.1.1.cmml" xref="S5.SS0.SSS0.Px4.p1.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S5.SS0.SSS0.Px4.p1.1.m1.1c">\times</annotation><annotation encoding="application/x-llamapun" id="S5.SS0.SSS0.Px4.p1.1.m1.1d">×</annotation></semantics></math>256. However, our classifiers in ImageNet are ResNet-152 and ResNet-50, in which the default image resolution at 224. To solve the image size conflict, we will do an interpolation operation before and after purification progress.
We define hyperparameters <math id="S5.SS0.SSS0.Px4.p1.2.m2.1" class="ltx_Math" alttext="\beta_{t}" display="inline"><semantics id="S5.SS0.SSS0.Px4.p1.2.m2.1a"><msub id="S5.SS0.SSS0.Px4.p1.2.m2.1.1" xref="S5.SS0.SSS0.Px4.p1.2.m2.1.1.cmml"><mi id="S5.SS0.SSS0.Px4.p1.2.m2.1.1.2" xref="S5.SS0.SSS0.Px4.p1.2.m2.1.1.2.cmml">β</mi><mi id="S5.SS0.SSS0.Px4.p1.2.m2.1.1.3" xref="S5.SS0.SSS0.Px4.p1.2.m2.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S5.SS0.SSS0.Px4.p1.2.m2.1b"><apply id="S5.SS0.SSS0.Px4.p1.2.m2.1.1.cmml" xref="S5.SS0.SSS0.Px4.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S5.SS0.SSS0.Px4.p1.2.m2.1.1.1.cmml" xref="S5.SS0.SSS0.Px4.p1.2.m2.1.1">subscript</csymbol><ci id="S5.SS0.SSS0.Px4.p1.2.m2.1.1.2.cmml" xref="S5.SS0.SSS0.Px4.p1.2.m2.1.1.2">𝛽</ci><ci id="S5.SS0.SSS0.Px4.p1.2.m2.1.1.3.cmml" xref="S5.SS0.SSS0.Px4.p1.2.m2.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS0.SSS0.Px4.p1.2.m2.1c">\beta_{t}</annotation><annotation encoding="application/x-llamapun" id="S5.SS0.SSS0.Px4.p1.2.m2.1d">italic_β start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math> same with settings in CIFAR10 dataset. However, the reverse process variances is learned by training rather than calculating.
While evaluating the ImageNet dataset, we apply the acceleration mentioned in section <a href="#S4.SS4" title="4.4 DDPM acceleration ‣ 4 Methodology ‣ Guided Diffusion Model for Adversarial Purification" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4.4</span></a> and set the respace timesteps to 250.
Table <a href="#S5.T3" title="Table 3 ‣ Black-box attack on CIFAR10 dataset. ‣ 5 Experiments ‣ Guided Diffusion Model for Adversarial Purification" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a> shows the result of ImageNet compared to previous state-of-art defend methods.
One evaluation of the ImageNet took approximately 13 hours using 8 <math id="S5.SS0.SSS0.Px4.p1.3.m3.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S5.SS0.SSS0.Px4.p1.3.m3.1a"><mo id="S5.SS0.SSS0.Px4.p1.3.m3.1.1" xref="S5.SS0.SSS0.Px4.p1.3.m3.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S5.SS0.SSS0.Px4.p1.3.m3.1b"><times id="S5.SS0.SSS0.Px4.p1.3.m3.1.1.cmml" xref="S5.SS0.SSS0.Px4.p1.3.m3.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S5.SS0.SSS0.Px4.p1.3.m3.1c">\times</annotation><annotation encoding="application/x-llamapun" id="S5.SS0.SSS0.Px4.p1.3.m3.1d">×</annotation></semantics></math> A100 GPUs under PGD attack.Besides, we also test ImageNet under strong adaptive attacks to verify the obfuscated gradient problems. The result is listed in table <a href="#S5.T3" title="Table 3 ‣ Black-box attack on CIFAR10 dataset. ‣ 5 Experiments ‣ Guided Diffusion Model for Adversarial Purification" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>. Because of the computation budget limit, we randomly choose 5000 samples from all validation samples to finish adaptive attack. In this case, it also takes 8 <math id="S5.SS0.SSS0.Px4.p1.4.m4.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S5.SS0.SSS0.Px4.p1.4.m4.1a"><mo id="S5.SS0.SSS0.Px4.p1.4.m4.1.1" xref="S5.SS0.SSS0.Px4.p1.4.m4.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S5.SS0.SSS0.Px4.p1.4.m4.1b"><times id="S5.SS0.SSS0.Px4.p1.4.m4.1.1.cmml" xref="S5.SS0.SSS0.Px4.p1.4.m4.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S5.SS0.SSS0.Px4.p1.4.m4.1c">\times</annotation><annotation encoding="application/x-llamapun" id="S5.SS0.SSS0.Px4.p1.4.m4.1d">×</annotation></semantics></math>A100 GPUs 14 hours to finish one evaluation.</p>
</div>
</section>
</section>
<section id="S6" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">6 </span>Conclusion</h2>

<div id="S6.p1" class="ltx_para">
<p id="S6.p1.1" class="ltx_p">In this paper, we propose to use a guided diffusion model for adversarial purification. The proposed method is shown to have a very good purification effect and is an effective tool for noise removal.
We use attack methods based on PGD, BPDA+EOT and black-box attack on the CIFAR-10 and ImageNet dataset to evaluate our defenses, which outperform the predecessors.
However, our method also has the shortage of taking too much time to finish the purification process. It could be further studied to accelerate this method.
In addition, more studies are needed to prevent this technique from possible misuse such as image watermark removal that causes copyright infringement.
</p>
</div>
</section>
<section id="bib" class="ltx_bibliography">
<h2 class="ltx_title ltx_title_bibliography">References</h2>

<ul class="ltx_biblist">
<li id="bib.bib1" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Athalye et al. (2018)</span>
<span class="ltx_bibblock">
Anish Athalye, Nicholas Carlini, and David A. Wagner.

</span>
<span class="ltx_bibblock">Obfuscated gradients give a false sense of security: Circumventing
defenses to adversarial examples.

</span>
<span class="ltx_bibblock">In Jennifer G. Dy and Andreas Krause (eds.), <em id="bib.bib1.1.1" class="ltx_emph ltx_font_italic">Proceedings of the
35th International Conference on Machine Learning, ICML 2018,
Stockholmsmässan, Stockholm, Sweden, July 10-15, 2018</em>, volume 80 of
<em id="bib.bib1.2.2" class="ltx_emph ltx_font_italic">Proceedings of Machine Learning Research</em>, pp.  274–283. PMLR,
2018.

</span>
<span class="ltx_bibblock">URL <a target="_blank" href="http://proceedings.mlr.press/v80/athalye18a.html" title="" class="ltx_ref ltx_url ltx_font_typewriter">http://proceedings.mlr.press/v80/athalye18a.html</a>.

</span>
</li>
<li id="bib.bib2" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Bai et al. (2021)</span>
<span class="ltx_bibblock">
Yutong Bai, Jieru Mei, Alan L. Yuille, and Cihang Xie.

</span>
<span class="ltx_bibblock">Are transformers more robust than cnns?

</span>
<span class="ltx_bibblock">In Marc’Aurelio Ranzato, Alina Beygelzimer, Yann N. Dauphin, Percy
Liang, and Jennifer Wortman Vaughan (eds.), <em id="bib.bib2.1.1" class="ltx_emph ltx_font_italic">Advances in Neural
Information Processing Systems 34: Annual Conference on Neural Information
Processing Systems 2021, NeurIPS 2021, December 6-14, 2021, virtual</em>, pp. 26831–26843, 2021.

</span>
<span class="ltx_bibblock">URL
<a target="_blank" href="https://proceedings.neurips.cc/paper/2021/hash/e19347e1c3ca0c0b97de5fb3b690855a-Abstract.html" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://proceedings.neurips.cc/paper/2021/hash/e19347e1c3ca0c0b97de5fb3b690855a-Abstract.html</a>.

</span>
</li>
<li id="bib.bib3" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Buckman et al. (2018)</span>
<span class="ltx_bibblock">
Jacob Buckman, Aurko Roy, Colin Raffel, and Ian J. Goodfellow.

</span>
<span class="ltx_bibblock">Thermometer encoding: One hot way to resist adversarial examples.

</span>
<span class="ltx_bibblock">In <em id="bib.bib3.1.1" class="ltx_emph ltx_font_italic">6th International Conference on Learning Representations,
ICLR 2018, Vancouver, BC, Canada, April 30 - May 3, 2018, Conference Track
Proceedings</em>. OpenReview.net, 2018.

</span>
<span class="ltx_bibblock">URL <a target="_blank" href="https://openreview.net/forum?id=S18Su--CW" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://openreview.net/forum?id=S18Su--CW</a>.

</span>
</li>
<li id="bib.bib4" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Carmon et al. (2019)</span>
<span class="ltx_bibblock">
Yair Carmon, Aditi Raghunathan, Ludwig Schmidt, John C Duchi, and Percy S
Liang.

</span>
<span class="ltx_bibblock">Unlabeled data improves adversarial robustness.

</span>
<span class="ltx_bibblock"><em id="bib.bib4.1.1" class="ltx_emph ltx_font_italic">Advances in Neural Information Processing Systems</em>, 32, 2019.

</span>
</li>
<li id="bib.bib5" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Deng et al. (2009)</span>
<span class="ltx_bibblock">
J. Deng, W. Dong, R. Socher, L.-J. Li, K. Li, and L. Fei-Fei.

</span>
<span class="ltx_bibblock">ImageNet: A Large-Scale Hierarchical Image Database.

</span>
<span class="ltx_bibblock">In <em id="bib.bib5.1.1" class="ltx_emph ltx_font_italic">CVPR09</em>, 2009.

</span>
</li>
<li id="bib.bib6" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Dhariwal &amp; Nichol (2021)</span>
<span class="ltx_bibblock">
Prafulla Dhariwal and Alexander Quinn Nichol.

</span>
<span class="ltx_bibblock">Diffusion models beat gans on image synthesis.

</span>
<span class="ltx_bibblock">In Marc’Aurelio Ranzato, Alina Beygelzimer, Yann N. Dauphin, Percy
Liang, and Jennifer Wortman Vaughan (eds.), <em id="bib.bib6.1.1" class="ltx_emph ltx_font_italic">Advances in Neural
Information Processing Systems 34: Annual Conference on Neural Information
Processing Systems 2021, NeurIPS 2021, December 6-14, 2021, virtual</em>, pp. 8780–8794, 2021.

</span>
<span class="ltx_bibblock">URL
<a target="_blank" href="https://proceedings.neurips.cc/paper/2021/hash/49ad23d1ec9fa4bd8d77d02681df5cfa-Abstract.html" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://proceedings.neurips.cc/paper/2021/hash/49ad23d1ec9fa4bd8d77d02681df5cfa-Abstract.html</a>.

</span>
</li>
<li id="bib.bib7" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Dhillon et al. (2018)</span>
<span class="ltx_bibblock">
Guneet S. Dhillon, Kamyar Azizzadenesheli, Zachary C. Lipton, Jeremy Bernstein,
Jean Kossaifi, Aran Khanna, and Animashree Anandkumar.

</span>
<span class="ltx_bibblock">Stochastic activation pruning for robust adversarial defense.

</span>
<span class="ltx_bibblock">In <em id="bib.bib7.1.1" class="ltx_emph ltx_font_italic">6th International Conference on Learning Representations,
ICLR 2018, Vancouver, BC, Canada, April 30 - May 3, 2018, Conference Track
Proceedings</em>. OpenReview.net, 2018.

</span>
<span class="ltx_bibblock">URL <a target="_blank" href="https://openreview.net/forum?id=H1uR4GZRZ" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://openreview.net/forum?id=H1uR4GZRZ</a>.

</span>
</li>
<li id="bib.bib8" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Du &amp; Mordatch (2019)</span>
<span class="ltx_bibblock">
Yilun Du and Igor Mordatch.

</span>
<span class="ltx_bibblock">Implicit generation and modeling with energy based models.

</span>
<span class="ltx_bibblock">In Hanna M. Wallach, Hugo Larochelle, Alina Beygelzimer, Florence
d’Alché-Buc, Emily B. Fox, and Roman Garnett (eds.), <em id="bib.bib8.1.1" class="ltx_emph ltx_font_italic">Advances
in Neural Information Processing Systems 32: Annual Conference on Neural
Information Processing Systems 2019, NeurIPS 2019, December 8-14, 2019,
Vancouver, BC, Canada</em>, pp.  3603–3613, 2019.

</span>
<span class="ltx_bibblock">URL
<a target="_blank" href="https://proceedings.neurips.cc/paper/2019/hash/378a063b8fdb1db941e34f4bde584c7d-Abstract.html" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://proceedings.neurips.cc/paper/2019/hash/378a063b8fdb1db941e34f4bde584c7d-Abstract.html</a>.

</span>
</li>
<li id="bib.bib9" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ghosh et al. (2019)</span>
<span class="ltx_bibblock">
Partha Ghosh, Arpan Losalka, and Michael J. Black.

</span>
<span class="ltx_bibblock">Resisting adversarial attacks using gaussian mixture variational
autoencoders.

</span>
<span class="ltx_bibblock">In <em id="bib.bib9.1.1" class="ltx_emph ltx_font_italic">The Thirty-Third AAAI Conference on Artificial
Intelligence, AAAI 2019, The Thirty-First Innovative Applications of
Artificial Intelligence Conference, IAAI 2019, The Ninth AAAI Symposium
on Educational Advances in Artificial Intelligence, EAAI 2019, Honolulu,
Hawaii, USA, January 27 - February 1, 2019</em>, pp.  541–548. AAAI Press,
2019.

</span>
<span class="ltx_bibblock">doi: <a href="10.1609/aaai.v33i01.3301541" title="" class="ltx_ref ltx_Url">10.1609/aaai.v33i01.3301541</a>.

</span>
<span class="ltx_bibblock">URL <a target="_blank" href="https://doi.org/10.1609/aaai.v33i01.3301541" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://doi.org/10.1609/aaai.v33i01.3301541</a>.

</span>
</li>
<li id="bib.bib10" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Goodfellow et al. (2014)</span>
<span class="ltx_bibblock">
Ian Goodfellow, Jean Pouget-Abadie, Mehdi Mirza, Bing Xu, David Warde-Farley,
Sherjil Ozair, Aaron Courville, and Yoshua Bengio.

</span>
<span class="ltx_bibblock">Generative adversarial nets.

</span>
<span class="ltx_bibblock"><em id="bib.bib10.1.1" class="ltx_emph ltx_font_italic">Advances in neural information processing systems</em>, 27, 2014.

</span>
</li>
<li id="bib.bib11" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Gowal et al. (2020)</span>
<span class="ltx_bibblock">
Sven Gowal, Chongli Qin, Jonathan Uesato, Timothy Mann, and Pushmeet Kohli.

</span>
<span class="ltx_bibblock">Uncovering the limits of adversarial training against norm-bounded
adversarial examples.

</span>
<span class="ltx_bibblock"><em id="bib.bib11.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2010.03593</em>, 2020.

</span>
</li>
<li id="bib.bib12" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Grathwohl et al. (2020)</span>
<span class="ltx_bibblock">
Will Grathwohl, Kuan-Chieh Wang, Jörn-Henrik Jacobsen, David
Duvenaud, Mohammad Norouzi, and Kevin Swersky.

</span>
<span class="ltx_bibblock">Your classifier is secretly an energy based model and you should
treat it like one.

</span>
<span class="ltx_bibblock">In <em id="bib.bib12.1.1" class="ltx_emph ltx_font_italic">8th International Conference on Learning Representations,
ICLR 2020, Addis Ababa, Ethiopia, April 26-30, 2020</em>. OpenReview.net, 2020.

</span>
<span class="ltx_bibblock">URL <a target="_blank" href="https://openreview.net/forum?id=Hkxzx0NtDB" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://openreview.net/forum?id=Hkxzx0NtDB</a>.

</span>
</li>
<li id="bib.bib13" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Guo et al. (2018)</span>
<span class="ltx_bibblock">
Chuan Guo, Mayank Rana, Moustapha Cissé, and Laurens van der Maaten.

</span>
<span class="ltx_bibblock">Countering adversarial images using input transformations.

</span>
<span class="ltx_bibblock">In <em id="bib.bib13.1.1" class="ltx_emph ltx_font_italic">6th International Conference on Learning Representations,
ICLR 2018, Vancouver, BC, Canada, April 30 - May 3, 2018, Conference Track
Proceedings</em>. OpenReview.net, 2018.

</span>
<span class="ltx_bibblock">URL <a target="_blank" href="https://openreview.net/forum?id=SyJ7ClWCb" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://openreview.net/forum?id=SyJ7ClWCb</a>.

</span>
</li>
<li id="bib.bib14" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">He et al. (2016)</span>
<span class="ltx_bibblock">
Kaiming He, Xiangyu Zhang, Shaoqing Ren, and Jian Sun.

</span>
<span class="ltx_bibblock">Deep residual learning for image recognition.

</span>
<span class="ltx_bibblock">In <em id="bib.bib14.1.1" class="ltx_emph ltx_font_italic">2016 IEEE Conference on Computer Vision and Pattern
Recognition, CVPR 2016, Las Vegas, NV, USA, June 27-30, 2016</em>, pp. 770–778. IEEE Computer Society, 2016.

</span>
<span class="ltx_bibblock">doi: <a href="10.1109/CVPR.2016.90" title="" class="ltx_ref ltx_Url">10.1109/CVPR.2016.90</a>.

</span>
<span class="ltx_bibblock">URL <a target="_blank" href="https://doi.org/10.1109/CVPR.2016.90" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://doi.org/10.1109/CVPR.2016.90</a>.

</span>
</li>
<li id="bib.bib15" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hill et al. (2021)</span>
<span class="ltx_bibblock">
Mitch Hill, Jonathan Craig Mitchell, and Song-Chun Zhu.

</span>
<span class="ltx_bibblock">Stochastic security: Adversarial defense using long-run dynamics of
energy-based models.

</span>
<span class="ltx_bibblock">In <em id="bib.bib15.1.1" class="ltx_emph ltx_font_italic">9th International Conference on Learning Representations,
ICLR 2021, Virtual Event, Austria, May 3-7, 2021</em>. OpenReview.net, 2021.

</span>
<span class="ltx_bibblock">URL <a target="_blank" href="https://openreview.net/forum?id=gwFTuzxJW0" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://openreview.net/forum?id=gwFTuzxJW0</a>.

</span>
</li>
<li id="bib.bib16" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ho et al. (2020a)</span>
<span class="ltx_bibblock">
Jonathan Ho, Ajay Jain, and Pieter Abbeel.

</span>
<span class="ltx_bibblock">Denoising diffusion probabilistic models.

</span>
<span class="ltx_bibblock">In Hugo Larochelle, Marc’Aurelio Ranzato, Raia Hadsell,
Maria-Florina Balcan, and Hsuan-Tien Lin (eds.), <em id="bib.bib16.1.1" class="ltx_emph ltx_font_italic">Advances in Neural
Information Processing Systems 33: Annual Conference on Neural Information
Processing Systems 2020, NeurIPS 2020, December 6-12, 2020, virtual</em>,
2020a.

</span>
<span class="ltx_bibblock">URL
<a target="_blank" href="https://proceedings.neurips.cc/paper/2020/hash/4c5bcfec8584af0d967f1ab10179ca4b-Abstract.html" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://proceedings.neurips.cc/paper/2020/hash/4c5bcfec8584af0d967f1ab10179ca4b-Abstract.html</a>.

</span>
</li>
<li id="bib.bib17" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ho et al. (2020b)</span>
<span class="ltx_bibblock">
Jonathan Ho, Ajay Jain, and Pieter Abbeel.

</span>
<span class="ltx_bibblock">Denoising diffusion probabilistic models.

</span>
<span class="ltx_bibblock"><em id="bib.bib17.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2006.11239</em>, 2020b.

</span>
</li>
<li id="bib.bib18" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kingma &amp; Welling (2013)</span>
<span class="ltx_bibblock">
Diederik P Kingma and Max Welling.

</span>
<span class="ltx_bibblock">Auto-encoding variational bayes.

</span>
<span class="ltx_bibblock"><em id="bib.bib18.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:1312.6114</em>, 2013.

</span>
</li>
<li id="bib.bib19" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Krizhevsky et al. (2009)</span>
<span class="ltx_bibblock">
Alex Krizhevsky, Geoffrey Hinton, et al.

</span>
<span class="ltx_bibblock">Learning multiple layers of features from tiny images.

</span>
<span class="ltx_bibblock">2009.

</span>
</li>
<li id="bib.bib20" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Krizhevsky et al. (2012)</span>
<span class="ltx_bibblock">
Alex Krizhevsky, Ilya Sutskever, and Geoffrey E. Hinton.

</span>
<span class="ltx_bibblock">Imagenet classification with deep convolutional neural networks.

</span>
<span class="ltx_bibblock">In Peter L. Bartlett, Fernando C. N. Pereira, Christopher J. C.
Burges, Léon Bottou, and Kilian Q. Weinberger (eds.), <em id="bib.bib20.1.1" class="ltx_emph ltx_font_italic">Advances in
Neural Information Processing Systems 25: 26th Annual Conference on Neural
Information Processing Systems 2012. Proceedings of a meeting held December
3-6, 2012, Lake Tahoe, Nevada, United States</em>, pp.  1106–1114, 2012.

</span>
<span class="ltx_bibblock">URL
<a target="_blank" href="https://proceedings.neurips.cc/paper/2012/hash/c399862d3b9d6b76c8436e924a68c45b-Abstract.html" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://proceedings.neurips.cc/paper/2012/hash/c399862d3b9d6b76c8436e924a68c45b-Abstract.html</a>.

</span>
</li>
<li id="bib.bib21" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Madry et al. (2018)</span>
<span class="ltx_bibblock">
A Madry, A Makelov, L Schmidt, D Tsipras, and A Vladu.

</span>
<span class="ltx_bibblock">Towards deep learning models resistant to adversarial attacks.

</span>
<span class="ltx_bibblock">2018.

</span>
</li>
<li id="bib.bib22" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Nichol &amp; Dhariwal (2021)</span>
<span class="ltx_bibblock">
Alex Nichol and Prafulla Dhariwal.

</span>
<span class="ltx_bibblock">Improved denoising diffusion probabilistic models.

</span>
<span class="ltx_bibblock"><em id="bib.bib22.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2102.09672</em>, 2021.

</span>
</li>
<li id="bib.bib23" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Qin et al. (2019)</span>
<span class="ltx_bibblock">
Chongli Qin, James Martens, Sven Gowal, Dilip Krishnan, Krishnamurthy
Dvijotham, Alhussein Fawzi, Soham De, Robert Stanforth, and Pushmeet Kohli.

</span>
<span class="ltx_bibblock">Adversarial robustness through local linearization.

</span>
<span class="ltx_bibblock">In Hanna M. Wallach, Hugo Larochelle, Alina Beygelzimer, Florence
d’Alché-Buc, Emily B. Fox, and Roman Garnett (eds.), <em id="bib.bib23.1.1" class="ltx_emph ltx_font_italic">Advances
in Neural Information Processing Systems 32: Annual Conference on Neural
Information Processing Systems 2019, NeurIPS 2019, December 8-14, 2019,
Vancouver, BC, Canada</em>, pp.  13824–13833, 2019.

</span>
<span class="ltx_bibblock">URL
<a target="_blank" href="https://proceedings.neurips.cc/paper/2019/hash/0defd533d51ed0a10c5c9dbf93ee78a5-Abstract.html" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://proceedings.neurips.cc/paper/2019/hash/0defd533d51ed0a10c5c9dbf93ee78a5-Abstract.html</a>.

</span>
</li>
<li id="bib.bib24" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Samangouei et al. (2018)</span>
<span class="ltx_bibblock">
Pouya Samangouei, Maya Kabkab, and Rama Chellappa.

</span>
<span class="ltx_bibblock">Defense-gan: Protecting classifiers against adversarial attacks using
generative models.

</span>
<span class="ltx_bibblock">In <em id="bib.bib24.1.1" class="ltx_emph ltx_font_italic">6th International Conference on Learning Representations,
ICLR 2018, Vancouver, BC, Canada, April 30 - May 3, 2018, Conference Track
Proceedings</em>. OpenReview.net, 2018.

</span>
<span class="ltx_bibblock">URL <a target="_blank" href="https://openreview.net/forum?id=BkJ3ibb0-" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://openreview.net/forum?id=BkJ3ibb0-</a>.

</span>
</li>
<li id="bib.bib25" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Schott et al. (2019)</span>
<span class="ltx_bibblock">
Lukas Schott, Jonas Rauber, Matthias Bethge, and Wieland Brendel.

</span>
<span class="ltx_bibblock">Towards the first adversarially robust neural network model on
MNIST.

</span>
<span class="ltx_bibblock">In <em id="bib.bib25.1.1" class="ltx_emph ltx_font_italic">7th International Conference on Learning Representations,
ICLR 2019, New Orleans, LA, USA, May 6-9, 2019</em>. OpenReview.net, 2019.

</span>
<span class="ltx_bibblock">URL <a target="_blank" href="https://openreview.net/forum?id=S1EHOsC9tX" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://openreview.net/forum?id=S1EHOsC9tX</a>.

</span>
</li>
<li id="bib.bib26" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Shi et al. (2021)</span>
<span class="ltx_bibblock">
Changhao Shi, Chester Holtz, and Gal Mishne.

</span>
<span class="ltx_bibblock">Online adversarial purification based on self-supervised learning.

</span>
<span class="ltx_bibblock">In <em id="bib.bib26.1.1" class="ltx_emph ltx_font_italic">9th International Conference on Learning Representations,
ICLR 2021, Virtual Event, Austria, May 3-7, 2021</em>. OpenReview.net, 2021.

</span>
<span class="ltx_bibblock">URL <a target="_blank" href="https://openreview.net/forum?id=_i3ASPp12WS" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://openreview.net/forum?id=_i3ASPp12WS</a>.

</span>
</li>
<li id="bib.bib27" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Simonyan &amp; Zisserman (2015)</span>
<span class="ltx_bibblock">
Karen Simonyan and Andrew Zisserman.

</span>
<span class="ltx_bibblock">Very deep convolutional networks for large-scale image recognition.

</span>
<span class="ltx_bibblock">In Yoshua Bengio and Yann LeCun (eds.), <em id="bib.bib27.1.1" class="ltx_emph ltx_font_italic">3rd International
Conference on Learning Representations, ICLR 2015, San Diego, CA, USA, May
7-9, 2015, Conference Track Proceedings</em>, 2015.

</span>
<span class="ltx_bibblock">URL <a target="_blank" href="http://arxiv.org/abs/1409.1556" title="" class="ltx_ref ltx_url ltx_font_typewriter">http://arxiv.org/abs/1409.1556</a>.

</span>
</li>
<li id="bib.bib28" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Sohl-Dickstein et al. (2015a)</span>
<span class="ltx_bibblock">
Jascha Sohl-Dickstein, Eric A Weiss, Niru Maheswaranathan, and Surya Ganguli.

</span>
<span class="ltx_bibblock">Deep unsupervised learning using nonequilibrium thermodynamics.

</span>
<span class="ltx_bibblock"><em id="bib.bib28.1.1" class="ltx_emph ltx_font_italic">JMLR.org</em>, 2015a.

</span>
</li>
<li id="bib.bib29" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Sohl-Dickstein et al. (2015b)</span>
<span class="ltx_bibblock">
Jascha Sohl-Dickstein, Eric A Weiss, Niru Maheswaranathan, and Surya Ganguli.

</span>
<span class="ltx_bibblock">Deep unsupervised learning using nonequilibrium thermodynamics.

</span>
<span class="ltx_bibblock"><em id="bib.bib29.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:1503.03585</em>, 2015b.

</span>
</li>
<li id="bib.bib30" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Song et al. (2018)</span>
<span class="ltx_bibblock">
Yang Song, Taesup Kim, Sebastian Nowozin, Stefano Ermon, and Nate Kushman.

</span>
<span class="ltx_bibblock">Pixeldefend: Leveraging generative models to understand and defend
against adversarial examples.

</span>
<span class="ltx_bibblock">In <em id="bib.bib30.1.1" class="ltx_emph ltx_font_italic">6th International Conference on Learning Representations,
ICLR 2018, Vancouver, BC, Canada, April 30 - May 3, 2018, Conference Track
Proceedings</em>. OpenReview.net, 2018.

</span>
<span class="ltx_bibblock">URL <a target="_blank" href="https://openreview.net/forum?id=rJUYGxbCW" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://openreview.net/forum?id=rJUYGxbCW</a>.

</span>
</li>
<li id="bib.bib31" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Srinivasan et al. (2021)</span>
<span class="ltx_bibblock">
Vignesh Srinivasan, Csaba Rohrer, Arturo Marbán, Klaus-Robert
Müller, Wojciech Samek, and Shinichi Nakajima.

</span>
<span class="ltx_bibblock">Robustifying models against adversarial attacks by langevin dynamics.

</span>
<span class="ltx_bibblock"><em id="bib.bib31.1.1" class="ltx_emph ltx_font_italic">Neural Networks</em>, 137:1–17, 2021.

</span>
<span class="ltx_bibblock">doi: <a href="10.1016/j.neunet.2020.12.024" title="" class="ltx_ref ltx_Url">10.1016/j.neunet.2020.12.024</a>.

</span>
<span class="ltx_bibblock">URL <a target="_blank" href="https://doi.org/10.1016/j.neunet.2020.12.024" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://doi.org/10.1016/j.neunet.2020.12.024</a>.

</span>
</li>
<li id="bib.bib32" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Szegedy et al. (2015)</span>
<span class="ltx_bibblock">
Christian Szegedy, Wei Liu, Yangqing Jia, Pierre Sermanet, Scott E. Reed,
Dragomir Anguelov, Dumitru Erhan, Vincent Vanhoucke, and Andrew Rabinovich.

</span>
<span class="ltx_bibblock">Going deeper with convolutions.

</span>
<span class="ltx_bibblock">In <em id="bib.bib32.1.1" class="ltx_emph ltx_font_italic">IEEE Conference on Computer Vision and Pattern
Recognition, CVPR 2015, Boston, MA, USA, June 7-12, 2015</em>, pp.  1–9.
IEEE Computer Society, 2015.

</span>
<span class="ltx_bibblock">doi: <a href="10.1109/CVPR.2015.7298594" title="" class="ltx_ref ltx_Url">10.1109/CVPR.2015.7298594</a>.

</span>
<span class="ltx_bibblock">URL <a target="_blank" href="https://doi.org/10.1109/CVPR.2015.7298594" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://doi.org/10.1109/CVPR.2015.7298594</a>.

</span>
</li>
<li id="bib.bib33" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Uesato et al. (2018)</span>
<span class="ltx_bibblock">
Jonathan Uesato, Brendan O’Donoghue, Pushmeet Kohli, and Aäron van den
Oord.

</span>
<span class="ltx_bibblock">Adversarial risk and the dangers of evaluating against weak attacks.

</span>
<span class="ltx_bibblock">In Jennifer G. Dy and Andreas Krause (eds.), <em id="bib.bib33.1.1" class="ltx_emph ltx_font_italic">Proceedings of the
35th International Conference on Machine Learning, ICML 2018,
Stockholmsmässan, Stockholm, Sweden, July 10-15, 2018</em>, volume 80 of
<em id="bib.bib33.2.2" class="ltx_emph ltx_font_italic">Proceedings of Machine Learning Research</em>, pp.  5032–5041. PMLR,
2018.

</span>
<span class="ltx_bibblock">URL <a target="_blank" href="http://proceedings.mlr.press/v80/uesato18a.html" title="" class="ltx_ref ltx_url ltx_font_typewriter">http://proceedings.mlr.press/v80/uesato18a.html</a>.

</span>
</li>
<li id="bib.bib34" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et al. (2004)</span>
<span class="ltx_bibblock">
Zhou Wang, Alan C. Bovik, Hamid R. Sheikh, and Eero P. Simoncelli.

</span>
<span class="ltx_bibblock">Image quality assessment: from error visibility to structural
similarity.

</span>
<span class="ltx_bibblock"><em id="bib.bib34.1.1" class="ltx_emph ltx_font_italic">IEEE Trans. Image Process.</em>, 13(4):600–612, 2004.

</span>
<span class="ltx_bibblock">doi: <a href="10.1109/TIP.2003.819861" title="" class="ltx_ref ltx_Url">10.1109/TIP.2003.819861</a>.

</span>
<span class="ltx_bibblock">URL <a target="_blank" href="https://doi.org/10.1109/TIP.2003.819861" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://doi.org/10.1109/TIP.2003.819861</a>.

</span>
</li>
<li id="bib.bib35" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Xiao et al. (2020)</span>
<span class="ltx_bibblock">
Chang Xiao, Peilin Zhong, and Changxi Zheng.

</span>
<span class="ltx_bibblock">Enhancing adversarial defense by k-winners-take-all.

</span>
<span class="ltx_bibblock">In <em id="bib.bib35.1.1" class="ltx_emph ltx_font_italic">8th International Conference on Learning Representations,
ICLR 2020, Addis Ababa, Ethiopia, April 26-30, 2020</em>. OpenReview.net, 2020.

</span>
<span class="ltx_bibblock">URL <a target="_blank" href="https://openreview.net/forum?id=Skgvy64tvr" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://openreview.net/forum?id=Skgvy64tvr</a>.

</span>
</li>
<li id="bib.bib36" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Xie et al. (2019)</span>
<span class="ltx_bibblock">
Cihang Xie, Yuxin Wu, Laurens van der Maaten, Alan L. Yuille, and Kaiming He.

</span>
<span class="ltx_bibblock">Feature denoising for improving adversarial robustness.

</span>
<span class="ltx_bibblock">In <em id="bib.bib36.1.1" class="ltx_emph ltx_font_italic">IEEE Conference on Computer Vision and Pattern
Recognition, CVPR 2019, Long Beach, CA, USA, June 16-20, 2019</em>, pp. 501–509. Computer Vision Foundation / IEEE, 2019.

</span>
<span class="ltx_bibblock">doi: <a href="10.1109/CVPR.2019.00059" title="" class="ltx_ref ltx_Url">10.1109/CVPR.2019.00059</a>.

</span>
<span class="ltx_bibblock">URL
<a target="_blank" href="http://openaccess.thecvf.com/content_CVPR_2019/html/Xie_Feature_Denoising_for_Improving_Adversarial_Robustness_CVPR_2019_paper.html" title="" class="ltx_ref ltx_url ltx_font_typewriter">http://openaccess.thecvf.com/content_CVPR_2019/html/Xie_Feature_Denoising_for_Improving_Adversarial_Robustness_CVPR_2019_paper.html</a>.

</span>
</li>
<li id="bib.bib37" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yang et al. (2019)</span>
<span class="ltx_bibblock">
Yuzhe Yang, Guo Zhang, Zhi Xu, and Dina Katabi.

</span>
<span class="ltx_bibblock">Me-net: Towards effective adversarial robustness with matrix
estimation.

</span>
<span class="ltx_bibblock">In Kamalika Chaudhuri and Ruslan Salakhutdinov (eds.),
<em id="bib.bib37.1.1" class="ltx_emph ltx_font_italic">Proceedings of the 36th International Conference on Machine Learning,
ICML 2019, 9-15 June 2019, Long Beach, California, USA</em>, volume 97 of
<em id="bib.bib37.2.2" class="ltx_emph ltx_font_italic">Proceedings of Machine Learning Research</em>, pp.  7025–7034. PMLR,
2019.

</span>
<span class="ltx_bibblock">URL <a target="_blank" href="http://proceedings.mlr.press/v97/yang19e.html" title="" class="ltx_ref ltx_url ltx_font_typewriter">http://proceedings.mlr.press/v97/yang19e.html</a>.

</span>
</li>
<li id="bib.bib38" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yoon et al. (2021)</span>
<span class="ltx_bibblock">
Jongmin Yoon, Sung Ju Hwang, and Juho Lee.

</span>
<span class="ltx_bibblock">Adversarial purification with score-based generative models.

</span>
<span class="ltx_bibblock">In <em id="bib.bib38.1.1" class="ltx_emph ltx_font_italic">International Conference on Machine Learning</em>, pp. 12062–12072. PMLR, 2021.

</span>
</li>
<li id="bib.bib39" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zagoruyko &amp; Komodakis (2016)</span>
<span class="ltx_bibblock">
Sergey Zagoruyko and Nikos Komodakis.

</span>
<span class="ltx_bibblock">Wide residual networks.

</span>
<span class="ltx_bibblock">In Richard C. Wilson, Edwin R. Hancock, and William A. P. Smith
(eds.), <em id="bib.bib39.1.1" class="ltx_emph ltx_font_italic">Proceedings of the British Machine Vision Conference 2016,
BMVC 2016, York, UK, September 19-22, 2016</em>. BMVA Press, 2016.

</span>
<span class="ltx_bibblock">URL <a target="_blank" href="http://www.bmva.org/bmvc/2016/papers/paper087/index.html" title="" class="ltx_ref ltx_url ltx_font_typewriter">http://www.bmva.org/bmvc/2016/papers/paper087/index.html</a>.

</span>
</li>
<li id="bib.bib40" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang et al. (2019)</span>
<span class="ltx_bibblock">
Hongyang Zhang, Yaodong Yu, Jiantao Jiao, Eric Xing, Laurent El Ghaoui, and
Michael Jordan.

</span>
<span class="ltx_bibblock">Theoretically principled trade-off between robustness and accuracy.

</span>
<span class="ltx_bibblock">In <em id="bib.bib40.1.1" class="ltx_emph ltx_font_italic">International conference on machine learning</em>, pp. 7472–7482. PMLR, 2019.

</span>
</li>
</ul>
</section>
<div class="ltx_pagination ltx_role_newpage"></div>
<section id="A1" class="ltx_appendix">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix A </span>Appendix</h2>

<section id="A1.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">A.1 </span>Software and Hardware Configurations</h3>

<div id="A1.SS1.p1" class="ltx_para">
<p id="A1.SS1.p1.1" class="ltx_p">We implemented our code on Python version 3.8 and PyTorch version 1.7 with Linux operating system with Slurm Workload Manager. We run each of our experiments on RTX 3090 GPUs or A100 GPUs. Source code for this work is available at https://github.com/JinyiW/GuidedDiffusionPur.git</p>
</div>
</section>
<section id="A1.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">A.2 </span>Acceleration Experiment Results</h3>

<div id="A1.SS2.p1" class="ltx_para">
<p id="A1.SS2.p1.1" class="ltx_p">We tested the acceleration method proposed in <cite class="ltx_cite ltx_citemacro_citet">Nichol &amp; Dhariwal (<a href="#bib.bib22" title="" class="ltx_ref">2021</a>)</cite>, by skipping steps in the reverse process to speed up the DDPM generating process. For this experiment, we test the purification method to defend the PGD attack on ImageNet without guidance. Table <a href="#A1.T4" title="Table 4 ‣ A.2 Acceleration Experiment Results ‣ Appendix A Appendix ‣ Guided Diffusion Model for Adversarial Purification" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a> shows the acceleration experiment results in <a href="#S4.SS4" title="4.4 DDPM acceleration ‣ 4 Methodology ‣ Guided Diffusion Model for Adversarial Purification" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4.4</span></a>.</p>
</div>
<figure id="A1.T4" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 4: </span>The acceleration experiment result.</figcaption>
<table id="A1.T4.6" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<tbody class="ltx_tbody">
<tr id="A1.T4.6.7.1" class="ltx_tr">
<th id="A1.T4.6.7.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_l ltx_border_r ltx_border_t">Time Respace</th>
<td id="A1.T4.6.7.1.2" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">25</td>
<td id="A1.T4.6.7.1.3" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">50</td>
<td id="A1.T4.6.7.1.4" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">100</td>
<td id="A1.T4.6.7.1.5" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">200</td>
<td id="A1.T4.6.7.1.6" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">250</td>
<td id="A1.T4.6.7.1.7" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">500</td>
</tr>
<tr id="A1.T4.6.6" class="ltx_tr">
<th id="A1.T4.6.6.7" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_l ltx_border_r ltx_border_t">Acceleration ratio</th>
<td id="A1.T4.1.1.1" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">40<math id="A1.T4.1.1.1.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="A1.T4.1.1.1.m1.1a"><mo id="A1.T4.1.1.1.m1.1.1" xref="A1.T4.1.1.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="A1.T4.1.1.1.m1.1b"><times id="A1.T4.1.1.1.m1.1.1.cmml" xref="A1.T4.1.1.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="A1.T4.1.1.1.m1.1c">\times</annotation><annotation encoding="application/x-llamapun" id="A1.T4.1.1.1.m1.1d">×</annotation></semantics></math>
</td>
<td id="A1.T4.2.2.2" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">20<math id="A1.T4.2.2.2.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="A1.T4.2.2.2.m1.1a"><mo id="A1.T4.2.2.2.m1.1.1" xref="A1.T4.2.2.2.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="A1.T4.2.2.2.m1.1b"><times id="A1.T4.2.2.2.m1.1.1.cmml" xref="A1.T4.2.2.2.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="A1.T4.2.2.2.m1.1c">\times</annotation><annotation encoding="application/x-llamapun" id="A1.T4.2.2.2.m1.1d">×</annotation></semantics></math>
</td>
<td id="A1.T4.3.3.3" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">10<math id="A1.T4.3.3.3.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="A1.T4.3.3.3.m1.1a"><mo id="A1.T4.3.3.3.m1.1.1" xref="A1.T4.3.3.3.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="A1.T4.3.3.3.m1.1b"><times id="A1.T4.3.3.3.m1.1.1.cmml" xref="A1.T4.3.3.3.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="A1.T4.3.3.3.m1.1c">\times</annotation><annotation encoding="application/x-llamapun" id="A1.T4.3.3.3.m1.1d">×</annotation></semantics></math>
</td>
<td id="A1.T4.4.4.4" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">5<math id="A1.T4.4.4.4.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="A1.T4.4.4.4.m1.1a"><mo id="A1.T4.4.4.4.m1.1.1" xref="A1.T4.4.4.4.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="A1.T4.4.4.4.m1.1b"><times id="A1.T4.4.4.4.m1.1.1.cmml" xref="A1.T4.4.4.4.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="A1.T4.4.4.4.m1.1c">\times</annotation><annotation encoding="application/x-llamapun" id="A1.T4.4.4.4.m1.1d">×</annotation></semantics></math>
</td>
<td id="A1.T4.5.5.5" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">4<math id="A1.T4.5.5.5.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="A1.T4.5.5.5.m1.1a"><mo id="A1.T4.5.5.5.m1.1.1" xref="A1.T4.5.5.5.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="A1.T4.5.5.5.m1.1b"><times id="A1.T4.5.5.5.m1.1.1.cmml" xref="A1.T4.5.5.5.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="A1.T4.5.5.5.m1.1c">\times</annotation><annotation encoding="application/x-llamapun" id="A1.T4.5.5.5.m1.1d">×</annotation></semantics></math>
</td>
<td id="A1.T4.6.6.6" class="ltx_td ltx_align_left ltx_border_r ltx_border_t">2<math id="A1.T4.6.6.6.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="A1.T4.6.6.6.m1.1a"><mo id="A1.T4.6.6.6.m1.1.1" xref="A1.T4.6.6.6.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="A1.T4.6.6.6.m1.1b"><times id="A1.T4.6.6.6.m1.1.1.cmml" xref="A1.T4.6.6.6.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="A1.T4.6.6.6.m1.1c">\times</annotation><annotation encoding="application/x-llamapun" id="A1.T4.6.6.6.m1.1d">×</annotation></semantics></math>
</td>
</tr>
<tr id="A1.T4.6.8.2" class="ltx_tr">
<th id="A1.T4.6.8.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_b ltx_border_l ltx_border_r ltx_border_t">Accuracy</th>
<td id="A1.T4.6.8.2.2" class="ltx_td ltx_align_left ltx_border_b ltx_border_r ltx_border_t">66.05%</td>
<td id="A1.T4.6.8.2.3" class="ltx_td ltx_align_left ltx_border_b ltx_border_r ltx_border_t">67.08%</td>
<td id="A1.T4.6.8.2.4" class="ltx_td ltx_align_left ltx_border_b ltx_border_r ltx_border_t">67.47%</td>
<td id="A1.T4.6.8.2.5" class="ltx_td ltx_align_left ltx_border_b ltx_border_r ltx_border_t">67.80%</td>
<td id="A1.T4.6.8.2.6" class="ltx_td ltx_align_left ltx_border_b ltx_border_r ltx_border_t">67.77%</td>
<td id="A1.T4.6.8.2.7" class="ltx_td ltx_align_left ltx_border_b ltx_border_r ltx_border_t">67.68%</td>
</tr>
</tbody>
</table>
</figure>
</section>
</section>
</article>
</div>
<div class="ar5iv-footer"><a href="/html/2205.14968" class="ar5iv-nav-button ar5iv-nav-button-prev">◄</a>
    <a class="ar5iv-home-button" href="/"><img height="40" alt="ar5iv homepage" src="/assets/ar5iv.png"></a>
    <a href="/feeling_lucky" class="ar5iv-text-button">Feeling<br>lucky?</a>
    <a href="/log/2205.14969" class="ar5iv-text-button ar5iv-severity-warning">Conversion<br>report</a>
    <a class="ar5iv-text-button" target="_blank" href="https://github.com/dginev/ar5iv/issues/new?template=improve-article--arxiv-id-.md&title=Improve+article+2205.14969">Report<br>an issue</a>
    <a href="https://arxiv.org/abs/2205.14969" class="ar5iv-text-button arxiv-ui-theme">View&nbsp;original<br>on&nbsp;arXiv</a><a href="/html/2205.14970" class="ar5iv-nav-button ar5iv-nav-button-next">►</a>
</div><footer class="ltx_page_footer">
<a class="ar5iv-toggle-color-scheme" href="javascript:toggleColorScheme()" title="Toggle ar5iv color scheme"><span class="color-scheme-icon"></span></a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/license" target="_blank">Copyright</a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/policies/privacy_policy" target="_blank">Privacy Policy</a>

<div class="ltx_page_logo">Generated  on Sun Dec 25 00:42:26 2022 by <a target="_blank" href="http://dlmf.nist.gov/LaTeXML/" class="ltx_LaTeXML_logo"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span style="font-size:70%;position:relative; bottom:2.2pt;">A</span>T<span style="position:relative; bottom:-0.4ex;">E</span></span><span class="ltx_font_smallcaps">xml</span><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg==" alt="[LOGO]"></a>
</div></footer>
</div>

    <script>
      var canMathML = typeof(MathMLElement) == "function";
      if (!canMathML) {
        var body = document.querySelector("body");
        body.firstElementChild.setAttribute('style', 'opacity: 0;');
        var loading = document.createElement("div");
        loading.setAttribute("id", "mathjax-loading-spinner");
        var message = document.createElement("div");
        message.setAttribute("id", "mathjax-loading-message");
        message.innerText = "Typesetting Equations...";
        body.prepend(loading);
        body.prepend(message);

        var el = document.createElement("script");
        el.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js";
        document.querySelector("head").appendChild(el);

        window.MathJax = {
          startup: {
            pageReady: () => {
              return MathJax.startup.defaultPageReady().then(() => {
                body.removeChild(loading);
                body.removeChild(message);
                body.firstElementChild.removeAttribute('style');
              }); } } };
      }
    </script>
    <script>
    // Auxiliary function, building the preview feature when
    // an inline citation is clicked
    function clicked_cite(e) {
      e.preventDefault();
      let cite = this.closest('.ltx_cite');
      let next = cite.nextSibling;
      if (next && next.nodeType == Node.ELEMENT_NODE && next.getAttribute('class') == "ar5iv-bibitem-preview") {
        next.remove();
        return; }
      // Before adding a preview modal,
      // cleanup older previews, in case they're still open
      document.querySelectorAll('span.ar5iv-bibitem-preview').forEach(function(node) {
        node.remove();
      })

      // Create the preview
      preview = document.createElement('span');
      preview.setAttribute('class','ar5iv-bibitem-preview');
      let target = document.getElementById(this.getAttribute('href').slice(1));
      target.childNodes.forEach(function (child) {
        preview.append(child.cloneNode(true));
      });
      let close_x = document.createElement('button');
      close_x.setAttribute("aria-label","Close modal for bibliography item preview");
      close_x.textContent = "×";
      close_x.setAttribute('class', 'ar5iv-button-close-preview');
      close_x.setAttribute('onclick','this.parentNode.remove()');
      preview.append(close_x);
      preview.querySelectorAll('.ltx_tag_bibitem').forEach(function(node) {
        node.remove();
      });
      cite.parentNode.insertBefore(preview, cite.nextSibling);
      return;
    }
    // Global Document initialization:
    // - assign the preview feature to all inline citation links
    document.querySelectorAll(".ltx_cite .ltx_ref").forEach(function (link) {
      link.addEventListener("click", clicked_cite);
    });
    </script>
    </body>
</html>
